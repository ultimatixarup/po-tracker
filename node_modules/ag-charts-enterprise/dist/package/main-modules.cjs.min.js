"use strict";var __defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropNames=Object.getOwnPropertyNames,__hasOwnProp=Object.prototype.hasOwnProperty,__export=(e,t)=>{for(var i in t)__defProp(e,i,{get:t[i],enumerable:!0})},__copyProps=(e,t,i,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of __getOwnPropNames(t))!__hasOwnProp.call(e,o)&&o!==i&&__defProp(e,o,{get:()=>t[o],enumerable:!(a=__getOwnPropDesc(t,o))||a.enumerable});return e},__toCommonJS=e=>__copyProps(__defProp({},"__esModule",{value:!0}),e),__decorateClass=(e,t,i,a)=>{for(var o=a>1?void 0:a?__getOwnPropDesc(t,i):t,s=e.length-1,r;s>=0;s--)(r=e[s])&&(o=(a?r(t,i,o):r(o))||o);return a&&o&&__defProp(t,i,o),o},main_modules_exports={};__export(main_modules_exports,{AllCartesianEnterpriseModules:()=>AllCartesianEnterpriseModules,AllEnterpriseModules:()=>AllEnterpriseModules,AllPolarEnterpriseModules:()=>AllPolarEnterpriseModules,AllStandaloneEnterpriseModules:()=>AllStandaloneEnterpriseModules,AllTopologyEnterpriseModules:()=>AllTopologyEnterpriseModules,AngleCategoryAxisModule:()=>AngleCategoryAxisModule,AngleNumberAxisModule:()=>AngleNumberAxisModule,BoxPlotSeriesModule:()=>BoxPlotSeriesModule,CandlestickSeriesModule:()=>CandlestickSeriesModule,ChordSeriesModule:()=>ChordSeriesModule,ConeFunnelSeriesModule:()=>ConeFunnelSeriesModule,FunnelSeriesModule:()=>FunnelSeriesModule,HeatmapSeriesModule:()=>HeatmapSeriesModule,LinearGaugeSeriesModule:()=>LinearGaugeSeriesModule,MapLineBackgroundSeriesModule:()=>MapLineBackgroundSeriesModule,MapLineSeriesModule:()=>MapLineSeriesModule,MapMarkerSeriesModule:()=>MapMarkerSeriesModule,MapShapeBackgroundSeriesModule:()=>MapShapeBackgroundSeriesModule,MapShapeSeriesModule:()=>MapShapeSeriesModule,ModuleRegistry:()=>ModuleRegistry,NightingaleSeriesModule:()=>NightingaleSeriesModule,OhlcSeriesModule:()=>OhlcSeriesModule,OrdinalTimeAxisModule:()=>OrdinalTimeAxisModule,PyramidSeriesModule:()=>PyramidSeriesModule,RadarAreaSeriesModule:()=>RadarAreaSeriesModule,RadarLineSeriesModule:()=>RadarLineSeriesModule,RadialBarSeriesModule:()=>RadialBarSeriesModule,RadialColumnSeriesModule:()=>RadialColumnSeriesModule,RadialGaugeSeriesModule:()=>RadialGaugeSeriesModule,RadiusCategoryAxisModule:()=>RadiusCategoryAxisModule,RadiusNumberAxisModule:()=>RadiusNumberAxisModule,RangeAreaSeriesModule:()=>RangeAreaSeriesModule,RangeBarSeriesModule:()=>RangeBarSeriesModule,SankeySeriesModule:()=>SankeySeriesModule,StandaloneChartModule:()=>StandaloneChartModule,SunburstSeriesModule:()=>SunburstSeriesModule,TopologyChartModule:()=>TopologyChartModule,TreemapSeriesModule:()=>TreemapSeriesModule,WaterfallSeriesModule:()=>WaterfallSeriesModule}),module.exports=__toCommonJS(main_modules_exports);var import_ag_charts_community163=require("ag-charts-community"),import_ag_charts_community13=require("ag-charts-community"),import_ag_charts_community5=require("ag-charts-community"),import_ag_charts_core4=require("ag-charts-core");function loopSymmetrically(e,t,i){const a=(s,r,n,l)=>{let c=e[0];for(let h=s;n>0?h<=r:h>r;h+=n){const p=e[h];if(l(c,p))return!0;c=p}return!1},o=Math.floor(e.length/2);return a(t,o,t,i)?!0:a(e.length-t,o,-t,i)}var import_ag_charts_community=require("ag-charts-community"),{AxisInterval,Property}=import_ag_charts_community._ModuleSupport,AngleAxisInterval=class extends AxisInterval{};__decorateClass([Property],AngleAxisInterval.prototype,"minSpacing",2);var import_ag_charts_community4=require("ag-charts-community"),import_ag_charts_core3=require("ag-charts-core"),import_ag_charts_community3=require("ag-charts-community"),import_ag_charts_core2=require("ag-charts-core"),import_ag_charts_community2=require("ag-charts-community"),import_ag_charts_core=require("ag-charts-core"),{BaseProperties,ChartAxisDirection,Property:Property2,Group,FONT_SIZE}=import_ag_charts_community2._ModuleSupport,PolarCrossLineLabel=class extends BaseProperties{constructor(){super(...arguments),this.fontSize=FONT_SIZE.LARGE,this.fontFamily="Verdana, sans-serif",this.padding=5,this.color="rgba(87, 87, 87, 1)"}};__decorateClass([Property2],PolarCrossLineLabel.prototype,"enabled",2),__decorateClass([Property2],PolarCrossLineLabel.prototype,"text",2),__decorateClass([Property2],PolarCrossLineLabel.prototype,"fontStyle",2),__decorateClass([Property2],PolarCrossLineLabel.prototype,"fontWeight",2),__decorateClass([Property2],PolarCrossLineLabel.prototype,"fontSize",2),__decorateClass([Property2],PolarCrossLineLabel.prototype,"fontFamily",2),__decorateClass([Property2],PolarCrossLineLabel.prototype,"padding",2),__decorateClass([Property2],PolarCrossLineLabel.prototype,"color",2),__decorateClass([Property2],PolarCrossLineLabel.prototype,"parallel",2);var PolarCrossLine=class extends BaseProperties{constructor(){super(...arguments),this.id=(0,import_ag_charts_core.createId)(this),this.defaultColorRange=[],this.shape="polygon",this.label=new PolarCrossLineLabel,this.scale=void 0,this.clippedRange=[-1/0,1/0],this.gridLength=0,this.sideFlag=-1,this.parallelFlipRotation=0,this.regularFlipRotation=0,this.direction=ChartAxisDirection.Angle,this.axisInnerRadius=0,this.axisOuterRadius=0,this.lineGroup=new Group({name:this.id}),this.rangeGroup=new Group({name:this.id}),this.labelGroup=new Group({name:this.id}),this._isRange=void 0}assignCrossLineGroup(e,t){e!==this._isRange&&(e?this.rangeGroup.appendChild(t):this.lineGroup.appendChild(t)),this._isRange=e}setSectorNodeProps(e){e.fill=this.fill,e.fillOpacity=this.fillOpacity??1,e.stroke=this.stroke,e.strokeOpacity=this.strokeOpacity??1,e.strokeWidth=this.strokeWidth??1,e.lineDash=this.lineDash}setLabelNodeProps(e,t,i,a,o){const{label:s}=this;e.x=t,e.y=i,e.text=s.text,e.textAlign="center",e.textBaseline=a,e.rotation=o,e.rotationCenterX=t,e.rotationCenterY=i,e.fill=s.color,e.fontFamily=s.fontFamily,e.fontSize=s.fontSize,e.fontStyle=s.fontStyle,e.visible=!0}};__decorateClass([Property2],PolarCrossLine.prototype,"enabled",2),__decorateClass([Property2],PolarCrossLine.prototype,"type",2),__decorateClass([Property2],PolarCrossLine.prototype,"range",2),__decorateClass([Property2],PolarCrossLine.prototype,"value",2),__decorateClass([Property2],PolarCrossLine.prototype,"defaultColorRange",2),__decorateClass([Property2],PolarCrossLine.prototype,"fill",2),__decorateClass([Property2],PolarCrossLine.prototype,"fillOpacity",2),__decorateClass([Property2],PolarCrossLine.prototype,"stroke",2),__decorateClass([Property2],PolarCrossLine.prototype,"strokeWidth",2),__decorateClass([Property2],PolarCrossLine.prototype,"strokeOpacity",2),__decorateClass([Property2],PolarCrossLine.prototype,"lineDash",2),__decorateClass([Property2],PolarCrossLine.prototype,"shape",2),__decorateClass([Property2],PolarCrossLine.prototype,"label",2);var{ChartAxisDirection:ChartAxisDirection2,getCrossLineValue,validateCrossLineValue,normalizeAngle360,Group:Group2,Path,Sector,RotatableText,ContinuousScale}=import_ag_charts_community3._ModuleSupport,AngleCrossLine=class extends PolarCrossLine{constructor(){super(),this.direction=ChartAxisDirection2.Angle,this.polygonNode=new Path,this.sectorNode=new Sector,this.lineNode=new Path,this.crossLineRange=new Group2,this.labelNode=new RotatableText,this.ticks=[],this.crossLineRange.append(this.polygonNode),this.crossLineRange.append(this.sectorNode),this.crossLineRange.append(this.lineNode),this.labelGroup.append(this.labelNode)}visibilityCheck(){if(!ContinuousScale.is(this.scale))return!0;const[e,t]=this.scale.domain,i=getCrossLineValue(this);if(this.type==="range"){const[a,o]=i;return a>=e&&a<=t&&o>=a&&o<=t}else return i>=e&&i<=t}update(e){const{scale:t}=this;if(!t||!validateCrossLineValue(this,t)||!this.visibilityCheck()){this.rangeGroup.visible=!1,this.lineGroup.visible=!1,this.labelGroup.visible=!1;return}this.rangeGroup.visible=e,this.lineGroup.visible=e,this.labelGroup.visible=e,this.updateLineNode(e),this.updatePolygonNode(e),this.updateSectorNode(e),this.updateLabelNode(e)}updateLineNode(e){const{scale:t,type:i,value:a,lineNode:o}=this;if(!e||i!=="line"||!t){o.visible=!1;return}const s=t.convert(a);if(isNaN(s)){o.visible=!1;return}const{axisInnerRadius:r,axisOuterRadius:n}=this;o.visible=!0,o.stroke=this.stroke,o.strokeOpacity=this.strokeOpacity??1,o.strokeWidth=this.strokeWidth??1,o.fill=void 0,o.lineDash=this.lineDash;const l=n*Math.cos(s),c=n*Math.sin(s),h=r*Math.cos(s),p=r*Math.sin(s);o.path.clear(!0),o.path.moveTo(h,p),o.path.lineTo(l,c),this.assignCrossLineGroup(!1,this.crossLineRange)}updatePolygonNode(e){const{polygonNode:t,range:i,scale:a,shape:o,type:s,ticks:r}=this;if(!e||s!=="range"||o!=="polygon"||!a||!i){t.visible=!1;return}const{axisInnerRadius:n,axisOuterRadius:l}=this,c=r.indexOf(i[0]),h=r.indexOf(i[1]),u=(c<=h?r.slice(c,h+1):r.slice(c).concat(r.slice(0,h+1))).map(y=>a.convert(y));t.visible=!0,this.setSectorNodeProps(t);const{path:d}=t;d.clear(!0),u.forEach((y,g)=>{const m=l*Math.cos(y),f=l*Math.sin(y);g===0?d.moveTo(m,f):d.lineTo(m,f)}),n===0?d.lineTo(0,0):u.slice().reverse().forEach(y=>{const g=n*Math.cos(y),m=n*Math.sin(y);d.lineTo(g,m)}),t.path.closePath(),this.assignCrossLineGroup(!0,this.crossLineRange)}updateSectorNode(e){const{sectorNode:t,range:i,scale:a,shape:o,type:s}=this;if(!e||s!=="range"||o!=="circle"||!a||!i){t.visible=!1;return}const{axisInnerRadius:r,axisOuterRadius:n}=this,l=i.map(p=>a.convert(p)),c=a.step??0,h=a instanceof import_ag_charts_community3._ModuleSupport.BandScale?c/2:0;t.visible=!0,this.setSectorNodeProps(t),t.centerX=0,t.centerY=0,t.innerRadius=r,t.outerRadius=n,t.startAngle=l[0]-h,t.endAngle=l[1]+h,this.assignCrossLineGroup(!0,this.crossLineRange)}updateLabelNode(e){const{label:t,labelNode:i,range:a,scale:o,type:s,ticks:r}=this;if(!e||t.enabled===!1||!t.text||!o||s==="range"&&!a){i.visible=!1;return}i.visible=!0;const{axisInnerRadius:n,axisOuterRadius:l}=this;let c,h,p,u;if(s==="line"){const d=normalizeAngle360(o.convert(this.value)),y=1.5*Math.PI,g=(0,import_ag_charts_core2.isNumberEqual)(d,y)||d>y||d<Math.PI/2,m=(n+l)/2*Math.cos(d),f=(n+l)/2*Math.sin(d);c=m+t.padding*Math.cos(d+Math.PI/2),h=f+t.padding*Math.sin(d+Math.PI/2),u=g?"top":"bottom",p=g?d:d-Math.PI}else{const[d,y]=a.map(b=>normalizeAngle360(o.convert(b)));let g=(d+y)/2;d>y&&(g-=Math.PI),g=normalizeAngle360(g);const m=((0,import_ag_charts_core2.isNumberEqual)(g,0)||g>0)&&g<Math.PI;let f;this.shape==="circle"||r.length<3?f=l-t.padding:f=l*Math.cos(Math.PI/r.length)-t.padding,c=f*Math.cos(g),h=f*Math.sin(g),u=m?"bottom":"top",p=m?g-Math.PI/2:g+Math.PI/2}this.setLabelNodeProps(i,c,h,u,p)}};AngleCrossLine.className="AngleCrossLine";var{ChartAxisDirection:ChartAxisDirection3,TextWrapper,TextUtils,Property:Property3,toRadians,normalizeAngle360:normalizeAngle3602,normalizeAngle360Inclusive,Path:Path2,RotatableText:RotatableText2,Transformable,BBox,Selection,Line}=import_ag_charts_community4._ModuleSupport,AngleAxisLabel=class extends import_ag_charts_community4._ModuleSupport.AxisLabel{constructor(){super(...arguments),this.orientation="fixed"}};__decorateClass([Property3],AngleAxisLabel.prototype,"orientation",2);var AngleAxis=class extends import_ag_charts_community4._ModuleSupport.PolarAxis{constructor(e,t){super(e,t),this.startAngle=0,this.endAngle=void 0,this.tickLineGroupSelection=Selection.select(this.tickLineGroup,Line,!1),this.gridLineGroupSelection=Selection.select(this.gridLineGroup,Line,!1),this.labelData=[],this.tickData=[],this.radiusLineGroup=this.axisGroup.appendChild(new import_ag_charts_community4._ModuleSupport.TransformableGroup),this.radiusLine=this.radiusLineGroup.appendChild(new Path2),this.includeInvisibleDomains=!0}get direction(){return ChartAxisDirection3.Angle}createLabel(){return new AngleAxisLabel}calculateRotations(){const e=toRadians(this.startAngle),t=normalizeAngle3602(e),i=normalizeAngle3602(e-Math.PI/2);return{rotation:e,parallelFlipRotation:t,regularFlipRotation:i}}calculateTickLayout(e){const{nice:t,scale:i}=this,a={nice:t,interval:void 0,tickCount:void 0,minTickCount:0,maxTickCount:1/0},o=t?i.niceDomain(a,e):e,s=this.generateAngleTicks(o);this.tickData=s;const r=s.map(l=>l.value),n=r.reduce((l,c)=>Math.max(typeof c=="number"?(0,import_ag_charts_core3.countFractionDigits)(c):0,l),0);return{niceDomain:o,tickDomain:o,ticks:r,rawTickCount:void 0,fractionDigits:n,timeInterval:void 0,bbox:this.getBBox()}}update(){super.update(),this.updateRadiusLine(),this.updateGridLines(),this.updateTickLines()}normalizedAngles(){const e=normalizeAngle3602(-Math.PI/2+toRadians(this.startAngle)),t=this.endAngle!=null?normalizeAngle360Inclusive(toRadians(this.endAngle)-toRadians(this.startAngle)):2*Math.PI,i=e+t;return[e,i]}computeRange(){this.range=this.normalizedAngles()}updateSelections(){const e=this.tickData;this.gridLineGroupSelection.update(this.gridLength&&this.gridLine.enabled?e:[]),this.tickLineGroupSelection.update(this.tick.enabled?e:[]),this.tickLabelGroupSelection.update(this.label.enabled?e:[]),this.gridLineGroupSelection.cleanup(),this.tickLineGroupSelection.cleanup(),this.tickLabelGroupSelection.cleanup()}updatePosition(){super.updatePosition();const{translation:e,radiusLineGroup:t}=this,i=Math.floor(e.x),a=Math.floor(e.y);t.translationX=i,t.translationY=a}updateRadiusLine(){const e=this.radiusLine,{path:t}=e;t.clear(!0);const{points:i,closePath:a}=this.getAxisLinePoints();i.forEach(({x:o,y:s,moveTo:r,arc:n,radius:l=0,startAngle:c=0,endAngle:h=0})=>{n?t.arc(o,s,l,c,h):r?t.moveTo(o,s):t.lineTo(o,s)}),a&&t.closePath(),e.visible=this.line.enabled,e.stroke=this.line.stroke,e.strokeWidth=this.line.width,e.fill=void 0}getAxisLinePoints(){const{scale:e,shape:t,gridLength:i}=this,[a,o]=this.range,s=(0,import_ag_charts_core3.isNumberEqual)(o-a,2*Math.PI),r=[];if(t==="circle")s?r.push({x:i,y:0,moveTo:!0},{x:0,y:0,radius:i,startAngle:0,endAngle:2*Math.PI,arc:!0,moveTo:!1}):r.push({x:i*Math.cos(a),y:i*Math.sin(a),moveTo:!0},{x:0,y:0,radius:i,startAngle:normalizeAngle3602(a),endAngle:normalizeAngle3602(o),arc:!0,moveTo:!1});else if(t==="polygon"){const n=e.ticks({nice:this.nice,interval:void 0,tickCount:void 0,minTickCount:0,maxTickCount:1/0})?.ticks?.map(l=>e.convert(l));n&&n.length>2&&n.forEach((l,c)=>{const h=i*Math.cos(l),p=i*Math.sin(l),u=c===0;r.push({x:h,y:p,moveTo:u})})}return{points:r,closePath:s}}updateGridLines(){const{scale:e,gridLength:t,gridLine:{style:i,width:a},innerRadiusRatio:o}=this;if(!(i&&t>0))return;const s=t*o,r=i.length;this.gridLineGroupSelection.each((n,l,c)=>{const{value:h}=l,{stroke:p,lineDash:u}=i[c%r],d=e.convert(h);n.x1=s*Math.cos(d),n.y1=s*Math.sin(d),n.x2=t*Math.cos(d),n.y2=t*Math.sin(d),n.stroke=p,n.strokeWidth=a,n.lineDash=u,n.fill=void 0}),this.gridLineGroupSelection.cleanup()}updateLabels(){const{label:e,tickLabelGroupSelection:t}=this;t.each((i,a,o)=>{const s=this.labelData[o];if(!s||s.hidden){i.visible=!1;return}i.text=s.text,i.setFont(e),i.fill=e.color,i.x=s.x,i.y=s.y,i.setAlign(s),i.setBoxing(e),i.visible=!0,s.rotation?(i.rotation=s.rotation,i.rotationCenterX=s.x,i.rotationCenterY=s.y):i.rotation=0})}updateTickLines(){const{scale:e,gridLength:t,tick:i,tickLineGroupSelection:a}=this;a.each((o,s)=>{const{value:r}=s,n=e.convert(r),l=Math.cos(n),c=Math.sin(n);o.x1=t*l,o.y1=t*c,o.x2=(t+i.size)*l,o.y2=(t+i.size)*c,o.stroke=i.stroke,o.strokeWidth=i.width})}createLabelNodeData(e,t,i){const{label:a,gridLength:o,scale:s,tick:r}=this;if(!a.enabled)return[];const n=new RotatableText2,l=i.x-this.translation.x,c=i.x+i.width-this.translation.x,{fractionDigits:h}=this.layout.label,p=this.tickFormatter(this.scale.domain,this.tickData,!1,h),u=e.map((d,y)=>{const{value:g}=d,m=o+a.spacing+r.size,f=s.convert(g),b=Math.cos(f),x=Math.sin(f),S=m*b,D=m*x,{textAlign:_,textBaseline:k}=this.getLabelAlign(f),v=y===e.length-1&&g!==e[0]&&(0,import_ag_charts_core3.isNumberEqual)(normalizeAngle3602(f),normalizeAngle3602(s.convert(e[0]))),A=this.getLabelRotation(f);let I=p(g,y);n.text=I,n.x=S,n.y=D,n.setFont(a),n.textAlign=_,n.textBaseline=k,n.rotation=A,A&&(n.rotationCenterX=S,n.rotationCenterY=D);let M=A?Transformable.toCanvas(n):n.getBBox();if(M&&t.hideWhenNecessary&&!A){const L=l-M.x,R=M.x+M.width-c,C=1;if(L>C||R>C){const N=M.width-Math.max(L,R);I=TextWrapper.wrapText(I,{maxWidth:N,font:a,textWrap:"never"}),I===TextUtils.EllipsisChar&&(I=""),n.text=I,M=n.getBBox()}}return{text:I,x:S,y:D,textAlign:_,textBaseline:k,hidden:I===""||d.hidden||v,rotation:A,box:M}});return a.avoidCollisions&&this.avoidLabelCollisions(u),u}computeLabelsBBox(e,t){this.labelData=this.createLabelNodeData(this.tickData,e,t);const i=this.labelData.map(({box:a})=>a).filter(a=>a!=null);return!this.label.enabled||i.length===0?null:BBox.merge(i)}getLabelOrientation(){const{label:e}=this;return e instanceof AngleAxisLabel?e.orientation:"fixed"}getLabelRotation(e){let t=toRadians(this.label.rotation??0);e=normalizeAngle3602(e);const i=this.getLabelOrientation();return i==="parallel"?(t+=e,e>=0&&e<Math.PI?t-=Math.PI/2:t+=Math.PI/2):i==="perpendicular"&&(t+=e,e>=Math.PI/2&&e<1.5*Math.PI&&(t+=Math.PI)),t}getLabelAlign(e){const t=Math.cos(e),i=Math.sin(e);let a,o;const s=this.getLabelOrientation(),r=(0,import_ag_charts_core3.isNumberEqual)(t,0),n=(0,import_ag_charts_core3.isNumberEqual)(i,0),l=(0,import_ag_charts_core3.isNumberEqual)(t,1),c=(0,import_ag_charts_core3.isNumberEqual)(i,-1),h=t>0&&!r,p=i>0&&!n;return s==="parallel"?(a="center",o=l&&n||p?"top":"bottom"):s==="perpendicular"?(a=c||h?"left":"right",o="middle"):(a="right",r?a="center":h&&(a="left"),o="bottom",n?o="middle":p&&(o="top")),{textAlign:a,textBaseline:o}}updateCrossLines(){const{shape:e,gridLength:t,innerRadiusRatio:i}=this;this.crossLines.forEach(a=>{a instanceof AngleCrossLine&&(a.ticks=this.tickData.map(o=>o.value),a.shape=e,a.axisOuterRadius=t,a.axisInnerRadius=t*i)}),super.updateCrossLines()}};AngleAxis.CrossLineConstructor=AngleCrossLine,__decorateClass([Property3],AngleAxis.prototype,"startAngle",2),__decorateClass([Property3],AngleAxis.prototype,"endAngle",2);var{Property:Property4,CategoryScale}=import_ag_charts_community5._ModuleSupport,AngleCategoryAxis=class extends AngleAxis{constructor(e){super(e,new CategoryScale),this.groupPaddingInner=0,this.paddingInner=0,this.interval=new AngleAxisInterval}hasDefinedDomain(){return!1}generateAngleTicks(e){const{scale:t,gridLength:i}=this,{values:a,minSpacing:o}=this.interval,s={nice:this.nice,interval:void 0,tickCount:void 0,minTickCount:0,maxTickCount:1/0},r=a??t.ticks(s,e)?.ticks??[];if(r.length<2||o==null)return r.map(p=>({value:p,visible:!0}));const n=r[0],l=t.convert(n),c=i*Math.cos(l),h=i*Math.sin(l);for(let p=1;p<r.length-1;p++){const u=r[p],d=t.convert(u);if(d-l>Math.PI)break;const y=i*Math.cos(d),g=i*Math.sin(d);if(Math.sqrt((y-c)**2+(g-h)**2)>o){const f=new Set([n]);return loopSymmetrically(r,p,(b,x)=>{f.add(x)}),r.map(b=>{const x=f.has(b);return{value:b,visible:x}})}}return[{value:n,visible:!0}]}avoidLabelCollisions(e){const{minSpacing:t}=this.label;if(e.length<3)return;const i=(l,c)=>{if(l.hidden||c.hidden)return!1;if(t==null)return l.box.collidesBBox(c.box);const h=l.box.clone().grow(t/2),p=c.box.clone().grow(t/2);return h.collidesBBox(p)},a=e[0],o=e.at(-1),s=new Set([a]),r=(0,import_ag_charts_core4.isNumberEqual)(a.x,o.x)&&(0,import_ag_charts_core4.isNumberEqual)(a.y,o.y),n=Math.floor(e.length/2);for(let l=1;l<=n;l++){const c=r?e.slice(0,-1):e;if(!loopSymmetrically(c,l,i)){loopSymmetrically(c,l,(p,u)=>{s.add(u)});break}}e.forEach(l=>{s.has(l)||(l.hidden=!0,l.box=void 0)})}tickFormatParams(){return{type:"category"}}datumFormatParams(e,t){const{datum:i,seriesId:a,legendItemName:o,key:s,source:r,property:n,domain:l,boundSeries:c}=t;return{type:"category",value:e,datum:i,seriesId:a,legendItemName:o,key:s,source:r,property:n,domain:l,boundSeries:c}}};AngleCategoryAxis.className="AngleCategoryAxis",AngleCategoryAxis.type="angle-category",__decorateClass([Property4],AngleCategoryAxis.prototype,"groupPaddingInner",2),__decorateClass([Property4],AngleCategoryAxis.prototype,"paddingInner",2),__decorateClass([Property4],AngleCategoryAxis.prototype,"interval",2);var import_ag_charts_community7=require("ag-charts-community"),import_ag_charts_core6=require("ag-charts-core"),import_ag_charts_community6=require("ag-charts-community"),import_ag_charts_core5=require("ag-charts-core"),{range,isDenseInterval,LinearScale}=import_ag_charts_community6._ModuleSupport,LinearAngleScale=class pe extends LinearScale{constructor(){super(...arguments),this.arcLength=0}static getNiceStepAndTickCount(t,i){const[a,o]=i;let s=LinearScale.getTickStep(a,o,t);const r=isNaN(t.maxTickCount)?1/0:t.maxTickCount,n=Math.abs(o-a)/s;let l=Math.pow(2,Math.ceil(Math.log(n)/Math.log(2)));return l>r&&(l/=2,s*=2),{count:l,step:s}}ticks(t,i=this.domain){const{arcLength:a}=this;if(!i||i.length<2||i.some(c=>!isFinite(c))||a<=0)return{ticks:[],count:0};const{nice:o,interval:s}=t,[r,n]=i;if(s){const c=Math.abs(s),h=this.getPixelRange();if(!isDenseInterval((n-r)/c,h))return range(r,n,c)}let l;if(o&&this.hasNiceRange()){const c=super.niceDomain(t,i);l=pe.getNiceStepAndTickCount(t,c).step}else l=LinearScale.getTickStep(r,n,t);return range(r,n,l)}hasNiceRange(){const t=this.range.slice().sort((a,o)=>a-o);return[Math.PI,2*Math.PI].some(a=>(0,import_ag_charts_core5.isNumberEqual)(a,t[1]-t[0]))}niceDomain(t,i=this.domain){const a=super.niceDomain(t,i);if(!this.hasNiceRange())return a;const o=a[0]>a[1],s=o?a[1]:a[0],{step:r,count:n}=pe.getNiceStepAndTickCount(t,a),l=1/r,c=r>=1?Math.ceil(s/r+n)*r:Math.ceil((s+n*r)*l)/l;return o?[c,s]:[s,c]}getPixelRange(){return this.arcLength}},{Property:Property5,angleBetween,normalisedExtentWithMetadata,findMinMax}=import_ag_charts_community7._ModuleSupport,AngleNumberAxis=class extends AngleAxis{constructor(e){super(e,new LinearAngleScale),this.shape="circle",this.interval=new AngleAxisInterval}hasDefinedDomain(){const{min:e,max:t}=this;return e!=null&&t!=null&&e<t}normaliseDataDomain(e){const{min:t,max:i}=this,{extent:a,clipped:o}=normalisedExtentWithMetadata(e,t,i);return{domain:a,clipped:o}}updateScale(){super.updateScale(),this.scale.arcLength=this.getRangeArcLength()}getRangeArcLength(){const{range:e}=this,t=Math.min(...e),i=Math.max(...e),a=angleBetween(t,i)||2*Math.PI,o=this.gridLength;return a*o}generateAngleTicks(e){const{scale:t,range:i,nice:a}=this,{values:o,step:s,minSpacing:r,maxSpacing:n}=this.interval;let l;if(o==null){const{arcLength:c}=t,h=n?Math.floor(c/n):1,p=r?Math.floor(c/r):1/0,u=Math.floor(4/Math.PI*Math.abs(i[0]-i[1])),d=Math.max(h,Math.min(p,u)),y={nice:a,interval:s,tickCount:d,minTickCount:h,maxTickCount:p};l=t.ticks(y,e)?.ticks??[]}else{const[c,h]=findMinMax(e.map(Number));l=o.filter(p=>p>=c&&p<=h).sort((p,u)=>p-u)}return l.map(c=>({value:c,visible:!0}))}avoidLabelCollisions(e){const{minSpacing:t}=this.label,i=(s,r)=>{if(s.hidden||r.hidden)return!1;if(t==null)return s.box.collidesBBox(r.box);const n=s.box.clone().grow(t/2),l=r.box.clone().grow(t/2);return n.collidesBBox(l)},a=e[0],o=e.at(-1);a!==o&&(0,import_ag_charts_core6.isNumberEqual)(a.x,o.x)&&(0,import_ag_charts_core6.isNumberEqual)(a.y,o.y)&&(o.hidden=!0);for(let s=1;s<e.length;s*=2){let r=!1;for(let n=s;n<e.length;n+=s){const l=e[n],c=e[n-s];if(i(c,l)){r=!0;break}}if(!r){e.forEach((n,l)=>{l%s>0&&(n.hidden=!0,n.box=void 0)});return}}e.forEach((s,r)=>{r>0&&(s.hidden=!0,s.box=void 0)})}tickFormatParams(e,t,i){return{type:"number",fractionDigits:i}}datumFormatParams(e,t,i){const{datum:a,seriesId:o,legendItemName:s,key:r,source:n,property:l,domain:c,boundSeries:h}=t;return{type:"number",value:e,datum:a,seriesId:o,legendItemName:s,key:r,source:n,property:l,domain:c,boundSeries:h,fractionDigits:i}}};AngleNumberAxis.className="AngleNumberAxis",AngleNumberAxis.type="angle-number",__decorateClass([Property5],AngleNumberAxis.prototype,"min",2),__decorateClass([Property5],AngleNumberAxis.prototype,"max",2),__decorateClass([Property5],AngleNumberAxis.prototype,"interval",2);var import_ag_charts_community8=require("ag-charts-community"),{OrdinalTimeScale,Property:Property6,TimeAxisParentLevel,lowestGranularityUnitForTicks,lowestGranularityUnitForValue,minimumTimeAxisDatumGranularity,dateTruncationForDomain,intervalUnit,intervalStep,intervalEpoch,intervalMilliseconds}=import_ag_charts_community8._ModuleSupport,OrdinalTimeAxis=class extends import_ag_charts_community8._ModuleSupport.DiscreteTimeAxis{constructor(e){super(e,new OrdinalTimeScale),this.parentLevel=new TimeAxisParentLevel,this.minimumTimeGranularity=void 0}get primaryLabel(){return this.parentLevel.enabled?this.parentLevel.label:void 0}get primaryTick(){return this.parentLevel.enabled?this.parentLevel.tick:void 0}processData(){super.processData();const{boundSeries:e,direction:t}=this;this.minimumTimeGranularity=minimumTimeAxisDatumGranularity(e,t,void 0,void 0)}tickFormatParams(e,t,i,a){a??(a=lowestGranularityUnitForTicks(t));const o=dateTruncationForDomain(e),s=intervalUnit(a),r=intervalStep(a),n=intervalEpoch(a);return{type:"date",unit:s,step:r,epoch:n,truncateDate:o}}datumFormatParams(e,t,i,a,o){if(typeof e=="number"&&(e=new Date(e)),a==null){const{minimumTimeGranularity:m}=this,f=lowestGranularityUnitForValue(e);m!=null&&intervalMilliseconds(m)<intervalMilliseconds(f)?a=m:a=f}const{datum:s,seriesId:r,legendItemName:n,key:l,source:c,property:h,domain:p,boundSeries:u}=t,d=intervalUnit(a),y=intervalStep(a),g=intervalEpoch(a);return{type:"date",value:e,datum:s,seriesId:r,legendItemName:n,key:l,source:c,property:h,domain:p,boundSeries:u,unit:d,step:y,epoch:g,style:o}}};OrdinalTimeAxis.className="OrdinalTimeAxis",OrdinalTimeAxis.type="ordinal-time",__decorateClass([Property6],OrdinalTimeAxis.prototype,"parentLevel",2);var import_ag_charts_community11=require("ag-charts-community"),import_ag_charts_community10=require("ag-charts-community"),import_ag_charts_core8=require("ag-charts-core"),import_ag_charts_community9=require("ag-charts-community"),import_ag_charts_core7=require("ag-charts-core"),{ChartAxisDirection:ChartAxisDirection4,Property:Property7,validateCrossLineValue:validateCrossLineValue2,normalizeAngle360FromDegrees,Group:Group3,Path:Path3,Sector:Sector2,RotatableText:RotatableText3}=import_ag_charts_community9._ModuleSupport,RadiusCrossLineLabel=class extends PolarCrossLineLabel{constructor(){super(...arguments),this.positionAngle=void 0}};__decorateClass([Property7],RadiusCrossLineLabel.prototype,"positionAngle",2);var RadiusCrossLine=class extends PolarCrossLine{constructor(){super(),this.direction=ChartAxisDirection4.Radius,this.label=new RadiusCrossLineLabel,this.polygonNode=new Path3,this.sectorNode=new Sector2,this.crossLineRange=new Group3,this.labelNode=new RotatableText3,this.outerRadius=0,this.innerRadius=0,this.crossLineRange.append(this.polygonNode),this.crossLineRange.append(this.sectorNode),this.labelGroup.append(this.labelNode)}update(e){const{scale:t}=this;if(!t||!validateCrossLineValue2(this,t)){this.rangeGroup.visible=!1,this.lineGroup.visible=!1,this.labelGroup.visible=!1;return}this.updateRadii();const{innerRadius:i,outerRadius:a}=this;e&&(e=i>=this.axisInnerRadius&&a<=this.axisOuterRadius),this.rangeGroup.visible=e,this.lineGroup.visible=e,this.labelGroup.visible=e,this.updatePolygonNode(e),this.updateSectorNode(e),this.updateLabelNode(e),this.assignCrossLineGroup(this.type==="range",this.crossLineRange)}updateRadii(){const{range:e,scale:t,type:i,axisInnerRadius:a,axisOuterRadius:o}=this;if(!t)return{innerRadius:0,outerRadius:0};const s=l=>o+a-l;let r,n;if(i==="line")r=s(t.convert(this.value)),n=r;else{const l=Math.abs(t?.bandwidth??0),c=e.map(h=>t.convert(h));r=s(Math.max(...c)),n=s(Math.min(...c))+l}this.outerRadius=r,this.innerRadius=n}drawPolygon(e,t,i){t.forEach((a,o)=>{const s=e*Math.cos(a),r=e*Math.sin(a);o===0?i.path.moveTo(s,r):i.path.lineTo(s,r)}),i.path.closePath()}updatePolygonNode(e){const{gridAngles:t,polygonNode:i,scale:a,shape:o,type:s,innerRadius:r,outerRadius:n}=this;if(!e||o!=="polygon"||!a||!t){i.visible=!1;return}i.visible=!0;const l=this.getPadding();i.path.clear(!0),this.drawPolygon(n-l,t,i);const c=t.slice().reverse(),h=s==="line"?n-l:r+l;this.drawPolygon(h,c,i),this.setSectorNodeProps(i)}updateSectorNode(e){const{axisInnerRadius:t,axisOuterRadius:i,scale:a,sectorNode:o,shape:s,innerRadius:r,outerRadius:n}=this;if(!e||s!=="circle"||!a){o.visible=!1;return}o.visible=!0,o.startAngle=0,o.endAngle=2*Math.PI;const l=this.getPadding(),c=(0,import_ag_charts_core7.clamp)(t,r+l,i),h=(0,import_ag_charts_core7.clamp)(t,n-l,i);o.innerRadius=Math.min(c,h),o.outerRadius=Math.max(c,h),this.setSectorNodeProps(o)}updateLabelNode(e){const{innerRadius:t,label:i,labelNode:a,scale:o,shape:s,type:r}=this;if(!e||i.enabled===!1||!i.text||!o){a.visible=!1;return}const n=normalizeAngle360FromDegrees((i.positionAngle??0)-90),l=((0,import_ag_charts_core7.isNumberEqual)(n,0)||n>0)&&n<Math.PI,c=l?n-Math.PI/2:n+Math.PI/2;let h;const p=this.gridAngles??[];r==="line"?h=t+i.padding:s==="circle"||p.length<3?h=t-i.padding:h=t*Math.cos(Math.PI/p.length)-i.padding;const u=h*Math.cos(n),d=h*Math.sin(n);let y;r==="line"?y=l?"top":"bottom":y=l?"bottom":"top",this.setLabelNodeProps(a,u,d,y,c)}getPadding(){const{scale:e}=this;if(!e)return 0;const t=Math.abs(e.bandwidth??0),i=Math.abs(e.step??0);return e instanceof import_ag_charts_community9._ModuleSupport.BandScale?(i-t)/2:0}};RadiusCrossLine.className="RadiusCrossLine";var{ChartAxisDirection:ChartAxisDirection5,ZIndexMap,Property:Property8,normalizeAngle360:normalizeAngle3603,toRadians:toRadians2,Caption,Group:Group4,TransformableGroup,Path:Path4,Line:Line2,Selection:Selection2,AxisTickGenerator,AxisGroupZIndexMap}=import_ag_charts_community10._ModuleSupport,RadiusAxisLabel=class extends import_ag_charts_community10._ModuleSupport.AxisLabel{constructor(){super(...arguments),this.autoRotateAngle=335}};__decorateClass([Property8],RadiusAxisLabel.prototype,"autoRotate",2),__decorateClass([Property8],RadiusAxisLabel.prototype,"autoRotateAngle",2);var RadiusAxis=class extends import_ag_charts_community10._ModuleSupport.PolarAxis{constructor(e,t){super(e,t),this.positionAngle=0,this.gridLineGroupSelection=Selection2.select(this.gridLineGroup,Line2,!1),this.tickGenerator=new AxisTickGenerator(this),this.generatedTicks=void 0,this.headingLabelGroup=this.axisGroup.appendChild(new TransformableGroup({name:`${this.id}-Axis-heading`})),this.lineNodeGroup=this.axisGroup.appendChild(new TransformableGroup({name:`${this.id}-Axis-line`})),this.lineNode=this.lineNodeGroup.appendChild(new Line2({name:`${this.id}-Axis-line`,zIndex:AxisGroupZIndexMap.AxisLine})),this.gridPathGroup=this.gridGroup.appendChild(new Group4({name:`${this.id}-gridPaths`,zIndex:ZIndexMap.AXIS_GRID})),this.gridPathSelection=Selection2.select(this.gridPathGroup,Path4),this.headingLabelGroup.appendChild(this.title.caption.node),this.cleanup.register(this.title.caption.registerInteraction(this.moduleCtx,"afterend"))}get direction(){return ChartAxisDirection5.Radius}getAxisTransform(){const e=this.scale.range[0],{translation:t,positionAngle:i,innerRadiusRatio:a}=this,o=e*a,s=toRadians2(i);return{translationX:t.x,translationY:t.y-e-o,rotation:s,rotationCenterX:0,rotationCenterY:e+o}}update(){super.update(),this.updateTitle(),this.updateGridLines();const{enabled:e,stroke:t,width:i}=this.line;this.lineNode.setProperties({stroke:t,strokeWidth:e?i:0,x1:0,y1:this.range[0],x2:0,y2:this.range[1]})}updatePosition(){super.updatePosition();const e=this.getAxisTransform();this.tickLineGroup.setProperties(e),this.tickLabelGroup.setProperties(e),this.lineNodeGroup.setProperties(e),this.headingLabelGroup.setProperties(e)}calculateRotations(){return{rotation:0,parallelFlipRotation:0,regularFlipRotation:-Math.PI/2}}calculateTickLayout(e,t,i){const o=-Math.PI/2,s=[0,1],r=this.label.getSideFlag(),n=r*(this.getTickSize()+this.label.spacing+this.seriesAreaPadding),{range:l,reverse:c,defaultTickMinSpacing:h}=this,p=this.tickGenerator.generateTicks({domain:e,range:l,reverse:c,niceMode:t,visibleRange:s,primaryTickCount:void 0,defaultTickMinSpacing:h,parallelFlipRotation:0,regularFlipRotation:o,labelX:n,sideFlag:r,sizeLimit:void 0,removeOverflowLabels:!1}),{tickData:u}=p,{ticks:d,rawTicks:y,rawTickCount:g,tickDomain:m,fractionDigits:f,niceDomain:b=e}=u,x=d.map(S=>this.getTickLabelProps(S,p));return this.generatedTicks={ticks:d,labels:x},{ticks:y,tickDomain:m,niceDomain:b,rawTickCount:g,fractionDigits:f,timeInterval:void 0}}updateSelections(){const{generatedTicks:e}=this;if(!e)return;const{ticks:t,labels:i}=e;this.gridLineGroupSelection.update(this.gridLength?t:[]),this.tickLabelGroupSelection.update(i),this.gridPathSelection.update(this.gridLine.enabled?this.prepareGridPathTickData(t):[]),this.gridLineGroupSelection.cleanup(),this.tickLabelGroupSelection.cleanup(),this.gridPathSelection.cleanup()}updateLabels(){if(!this.label.enabled)return;const e=import_ag_charts_community10._ModuleSupport.resetAxisLabelSelectionFn();this.tickLabelGroupSelection.each((t,i)=>{t.fill=i.color,t.text=i.text,t.textBaseline=i.textBaseline,t.textAlign=i.textAlign??"center",t.setFont(i),t.setBoxing(i),t.setProperties(e(t,i))})}updateGridLines(){const{gridLine:{style:e,width:t},shape:i,generatedTicks:a}=this;if(!e||!a)return;const o=e.length,s=(u,d)=>{const{stroke:y,lineDash:g}=e[d%o];u.stroke=y,u.strokeWidth=t,u.lineDash=g,u.fill=void 0},[r,n]=this.gridRange??[0,2*Math.PI],l=(0,import_ag_charts_core8.isNumberEqual)(n-r,2*Math.PI),p=i==="circle"?(u,d)=>{const{path:y}=u;y.clear(!0);const g=this.getTickRadius(d);l?(y.moveTo(g,0),y.arc(0,0,g,0,2*Math.PI)):(y.moveTo(g*Math.cos(r),g*Math.sin(r)),y.arc(0,0,g,normalizeAngle3603(r),normalizeAngle3603(n))),l&&y.closePath()}:(u,d)=>{const{path:y}=u,g=this.gridAngles;if(y.clear(!0),!g||g.length<3)return;const m=this.getTickRadius(d);g.forEach((f,b)=>{const x=m*Math.cos(f),S=m*Math.sin(f);b===0?y.moveTo(x,S):y.lineTo(x,S),g.forEach((D,_)=>{const k=m*Math.cos(D),v=m*Math.sin(D);_===0?y.moveTo(k,v):y.lineTo(k,v)}),y.closePath()}),y.closePath()};this.gridPathSelection.each((u,d,y)=>{s(u,y),p(u,d)})}updateTitle(){const e=r=>r.defaultValue,{title:t,range:i}=this,{formatter:a=e}=this.title;t.caption.enabled=t.enabled,t.caption.fontFamily=t.fontFamily,t.caption.fontSize=t.fontSize,t.caption.fontStyle=t.fontStyle,t.caption.fontWeight=t.fontWeight,t.caption.color=t.color,t.caption.wrapping=t.wrapping;let o=!1;const s=t.caption.node;t.enabled&&(o=!0,s.rotation=Math.PI/2,s.x=Math.floor((i[0]+i[1])/2),s.y=-Caption.SMALL_PADDING,s.textAlign="center",s.textBaseline="bottom",s.text=this.cachedCallWithContext(a,this.getTitleFormatterParams(this.scale.domain))),s.visible=o}updateCrossLines(){this.crossLines.forEach(e=>{if(e instanceof RadiusCrossLine){const{shape:t,gridAngles:i,range:a,innerRadiusRatio:o}=this,s=a[0];e.shape=t,e.gridAngles=i,e.axisOuterRadius=s,e.axisInnerRadius=s*o}}),super.updateCrossLines()}createLabel(){return new RadiusAxisLabel}getTickLabelProps(e,t){const{label:i}=this,{rotation:a,textBaseline:o,textAlign:s}=t,r=this.scale.range,n=e.tickLabel??"",c=i.getSideFlag()*(this.getTickSize()+i.spacing+this.seriesAreaPadding),h=n!==""&&n!=null,p=a;return{...this.getLabelStyles({value:e.tickLabel}),tickId:e.tickId,rotation:p,text:n,textAlign:s,textBaseline:o,visible:h,x:c,y:e.translation,rotationCenterX:c,rotationCenterY:e.translation,range:r}}};RadiusAxis.CrossLineConstructor=RadiusCrossLine,__decorateClass([Property8],RadiusAxis.prototype,"positionAngle",2);var{ProxyPropertyOnWrite,Property:Property9,CategoryScale:CategoryScale2}=import_ag_charts_community11._ModuleSupport,RadiusCategoryAxis=class extends RadiusAxis{constructor(e){super(e,new CategoryScale2),this.shape="circle",this.groupPaddingInner=0,this.paddingInner=0,this.paddingOuter=0}hasDefinedDomain(){return!1}normaliseDataDomain(e){return{domain:e,clipped:!1}}prepareGridPathTickData(e){return e.slice().reverse()}getTickRadius(e){const{scale:t,innerRadiusRatio:i}=this,a=t.range[0],o=a*i;if(CategoryScale2.is(t)){const s=t.domain,r=s.length-1-s.indexOf(e.tick);return r===0?o:t.inset+t.step*(r-.5)+t.bandwidth/2}else{const s=(a-o)/t.domain.length;return a-e.translation+o-s/2}}tickFormatParams(){return{type:"category"}}datumFormatParams(e,t){const{datum:i,seriesId:a,legendItemName:o,key:s,source:r,property:n,domain:l,boundSeries:c}=t;return{type:"category",value:e,datum:i,seriesId:a,legendItemName:o,key:s,source:r,property:n,domain:l,boundSeries:c}}};RadiusCategoryAxis.className="RadiusCategoryAxis",RadiusCategoryAxis.type="radius-category",__decorateClass([Property9],RadiusCategoryAxis.prototype,"groupPaddingInner",2),__decorateClass([ProxyPropertyOnWrite("scale","paddingInner"),Property9],RadiusCategoryAxis.prototype,"paddingInner",2),__decorateClass([ProxyPropertyOnWrite("scale","paddingOuter"),Property9],RadiusCategoryAxis.prototype,"paddingOuter",2);var import_ag_charts_community12=require("ag-charts-community"),{Property:Property10,normalisedExtentWithMetadata:normalisedExtentWithMetadata2,LinearScale:LinearScale2}=import_ag_charts_community12._ModuleSupport,RadiusNumberAxis=class extends RadiusAxis{constructor(e){super(e,new LinearScale2),this.shape="polygon"}hasDefinedDomain(){const{min:e,max:t}=this;return e!=null&&t!=null&&e<t}prepareGridPathTickData(e){const{scale:t}=this,i=t.domain[1];return e.filter(({tick:a})=>a!==i).sort((a,o)=>o.tick-a.tick)}getTickRadius(e){const{scale:t}=this,i=t.range[0],a=i*this.innerRadiusRatio;return i-e.translation+a}normaliseDataDomain(e){const{min:t,max:i}=this,{extent:a,clipped:o}=normalisedExtentWithMetadata2(e,t,i);return{domain:a,clipped:o}}tickFormatParams(e,t,i){return{type:"number",fractionDigits:i}}datumFormatParams(e,t,i){const{datum:a,seriesId:o,legendItemName:s,key:r,source:n,property:l,domain:c,boundSeries:h}=t;return{type:"number",value:e,datum:a,seriesId:o,legendItemName:s,key:r,source:n,property:l,domain:c,boundSeries:h,fractionDigits:i}}};RadiusNumberAxis.className="RadiusNumberAxis",RadiusNumberAxis.type="radius-number",__decorateClass([Property10],RadiusNumberAxis.prototype,"min",2),__decorateClass([Property10],RadiusNumberAxis.prototype,"max",2);var{ordinalTimeAxisOptionsDefs,angleNumberAxisOptionsDefs,angleCategoryAxisOptionsDefs,radiusNumberAxisOptionsDefs,radiusCategoryAxisOptionsDefs}=import_ag_charts_community13._ModuleSupport,OrdinalTimeAxisModule={type:"axis",name:"ordinal-time",chartType:"cartesian",enterprise:!0,options:ordinalTimeAxisOptionsDefs,create:e=>new OrdinalTimeAxis(e)},AngleNumberAxisModule={type:"axis",name:"angle-number",chartType:"polar",enterprise:!0,options:angleNumberAxisOptionsDefs,create:e=>new AngleNumberAxis(e)},AngleCategoryAxisModule={type:"axis",name:"angle-category",chartType:"polar",enterprise:!0,options:angleCategoryAxisOptionsDefs,create:e=>new AngleCategoryAxis(e)},RadiusNumberAxisModule={type:"axis",name:"radius-number",chartType:"polar",enterprise:!0,options:radiusNumberAxisOptionsDefs,create:e=>new RadiusNumberAxis(e)},RadiusCategoryAxisModule={type:"axis",name:"radius-category",chartType:"polar",enterprise:!0,options:radiusCategoryAxisOptionsDefs,create:e=>new RadiusCategoryAxis(e)},import_ag_charts_community15=require("ag-charts-community"),import_ag_charts_community14=require("ag-charts-community"),{Chart}=import_ag_charts_community14._ModuleSupport,StandaloneChart=class extends Chart{getChartType(){return"standalone"}performLayout(e){const{seriesRoot:t,annotationRoot:i}=this,{layoutBox:a}=e,o=a.clone().shrink(this.modulesManager.getModule("seriesArea").getPadding());this.seriesRect=o,this.animationRect=o;for(const s of[t,i])s.translationX=Math.floor(o.x),s.translationY=Math.floor(o.y);t.visible=this.series[0].visible,this.ctx.layoutManager.emitLayoutComplete(e,{series:{visible:!0,rect:o,paddedRect:a}})}getAriaLabel(){const e=this.series[0]?.type;if(e==null)return"";const t=this.getCaptionText();switch(e){case"radial-gauge":case"linear-gauge":{const i=[];t.length!==0&&i.push(t);for(const a of this.series)i.push(a.getCaptionText());return this.ctx.localeManager.t("ariaAnnounceGaugeChart",{caption:i.join(". ")})}case"treemap":case"sunburst":return this.ctx.localeManager.t("ariaAnnounceHierarchyChart",{caption:t});default:return this.ctx.localeManager.t("ariaAnnounceStandaloneChart",{caption:t})}}};StandaloneChart.className="StandaloneChart",StandaloneChart.type="standalone";var{isAgStandaloneChartOptions,standaloneChartOptionsDefs}=import_ag_charts_community15._ModuleSupport,StandaloneChartModule={type:"chart",name:"standalone",enterprise:!0,options:standaloneChartOptionsDefs,detect:isAgStandaloneChartOptions,create(e,t){return new StandaloneChart(e,t)}},import_ag_charts_community17=require("ag-charts-community"),import_ag_charts_community16=require("ag-charts-community"),{Chart:Chart2,MercatorScale,NumberAxis,Property:Property11}=import_ag_charts_community16._ModuleSupport;function isTopologySeries(e){return e.type==="map-shape"||e.type==="map-line"||e.type==="map-marker"||e.type==="map-shape-background"||e.type==="map-line-background"}var TopologyChart=class extends Chart2{constructor(e,t){super(e,t),this.xAxis=new NumberAxis(this.getModuleContext()),this.xAxis.position="bottom",this.yAxis=new NumberAxis(this.getModuleContext()),this.yAxis.position="left",this.ctx.zoomManager.updateAxes([this.xAxis,this.yAxis])}getChartType(){return"topology"}async updateData(){await super.updateData();const e=this.getOptions();this.topology!==e.topology&&(this.topology=e.topology);const{topology:t}=this;this.series.forEach(i=>{isTopologySeries(i)&&i.setChartTopology(t)})}performLayout(e){const{seriesRoot:t,annotationRoot:i}=this,{layoutBox:a}=e,o=a.clone().shrink(this.modulesManager.getModule("seriesArea").getPadding());this.seriesRect=o,this.animationRect=o;const s=this.series.filter(isTopologySeries),r=s.reduce((c,h)=>{if(!h.visible)return c;const p=h.topologyBounds;return p==null?c:c==null?p:c.merge(p)},void 0);let n;if(r!=null){const{lon0:c,lat0:h,lon1:p,lat1:u}=r,d=[[c,h],[p,u]],y=MercatorScale.bounds(d),{width:g,height:m}=o,f=Math.min(g/y.width,m/y.height),b=y.width*f,x=y.height*f,S=(g-b)/2,D=(m-x)/2,_=S,k=D,v=S+b,A=D+x,I=this.ctx.zoomManager.getAxisZoom(this.xAxis.id),M=this.ctx.zoomManager.getAxisZoom(this.yAxis.id),L=(v-_)/(I.max-I.min),R=_-L*I.min,C=(A-k)/(1-M.min-(1-M.max)),N=k-C*(1-M.max);n=new MercatorScale(d,[[R,N],[R+L,N+C]])}s.forEach(c=>{c.scale=n});const l=this.series.some(c=>c.visible);t.visible=l;for(const c of[t,i])c.translationX=Math.floor(o.x),c.translationY=Math.floor(o.y),c.setClipRect(o.clone());this.ctx.layoutManager.emitLayoutComplete(e,{series:{visible:l,rect:o,paddedRect:a}})}};TopologyChart.className="TopologyChart",TopologyChart.type="topology",__decorateClass([Property11],TopologyChart.prototype,"topology",2);var{isAgTopologyChartOptions,topologyChartOptionsDefs}=import_ag_charts_community17._ModuleSupport,TopologyChartModule={type:"chart",name:"topology",enterprise:!0,options:topologyChartOptionsDefs,detect:isAgTopologyChartOptions,create(e,t){return new TopologyChart(e,t)}},import_ag_charts_community64=require("ag-charts-community"),import_ag_charts_community18=require("ag-charts-community"),import_ag_charts_core9=require("ag-charts-core"),{annotationCalloutStylesDefs,annotationNoteStylesDefs,annotationTextStylesDef,annotationCommentStylesDefs,annotationMeasurerStylesDefs,annotationShapeStylesDefs,annotationChannelTextDefs,annotationCrossLineStyleDefs,annotationFibonacciStylesDefs,annotationLineStyleDefs,annotationLineTextDefs,annotationDisjointChannelStyleDefs,annotationParallelChannelStyleDefs}=import_ag_charts_community18._ModuleSupport,serializableDate=(0,import_ag_charts_core9.optionsDefs)({__type:(0,import_ag_charts_core9.required)((0,import_ag_charts_core9.constant)("date")),value:(0,import_ag_charts_core9.or)(import_ag_charts_core9.string,import_ag_charts_core9.number)},"a serializable date object"),xValue=(0,import_ag_charts_core9.or)(import_ag_charts_core9.string,import_ag_charts_core9.number,serializableDate),annotationValue=(0,import_ag_charts_core9.or)(xValue,(0,import_ag_charts_core9.optionsDefs)({value:xValue,groupPercentage:(0,import_ag_charts_core9.numberRange)(-1,2)})),channelAnnotationTextOptionsDef={...annotationChannelTextDefs,label:import_ag_charts_core9.string},lineAnnotationTextOptionsDef={...annotationLineTextDefs,label:import_ag_charts_core9.string},annotationPointOptionsDef={x:annotationValue,y:import_ag_charts_core9.number},annotationInitialStateOptionsDef=(0,import_ag_charts_core9.typeUnion)({line:{...annotationLineStyleDefs,start:annotationPointOptionsDef,end:annotationPointOptionsDef,text:lineAnnotationTextOptionsDef},"horizontal-line":{...annotationCrossLineStyleDefs,value:annotationValue,text:lineAnnotationTextOptionsDef},"vertical-line":{...annotationCrossLineStyleDefs,value:annotationValue,text:lineAnnotationTextOptionsDef},"disjoint-channel":{...annotationDisjointChannelStyleDefs,startHeight:import_ag_charts_core9.number,endHeight:import_ag_charts_core9.number,start:annotationPointOptionsDef,end:annotationPointOptionsDef,text:channelAnnotationTextOptionsDef},"parallel-channel":{...annotationParallelChannelStyleDefs,height:import_ag_charts_core9.number,start:annotationPointOptionsDef,end:annotationPointOptionsDef,text:channelAnnotationTextOptionsDef},"fibonacci-retracement":{...annotationFibonacciStylesDefs,start:annotationPointOptionsDef,end:annotationPointOptionsDef,text:lineAnnotationTextOptionsDef,reverse:import_ag_charts_core9.boolean},"fibonacci-retracement-trend-based":{...annotationFibonacciStylesDefs,start:annotationPointOptionsDef,end:annotationPointOptionsDef,endRetracement:annotationPointOptionsDef,text:lineAnnotationTextOptionsDef,reverse:import_ag_charts_core9.boolean},callout:{...annotationCalloutStylesDefs,start:annotationPointOptionsDef,end:annotationPointOptionsDef,text:import_ag_charts_core9.string},comment:{...annotationCommentStylesDefs,...annotationPointOptionsDef,text:import_ag_charts_core9.string},note:{...annotationNoteStylesDefs,...annotationPointOptionsDef,text:import_ag_charts_core9.string},text:{...annotationTextStylesDef,...annotationPointOptionsDef,text:import_ag_charts_core9.string},arrow:{...annotationLineStyleDefs,text:lineAnnotationTextOptionsDef,start:annotationPointOptionsDef,end:annotationPointOptionsDef},"arrow-up":{...annotationShapeStylesDefs,...annotationPointOptionsDef},"arrow-down":{...annotationShapeStylesDefs,...annotationPointOptionsDef},"date-range":{...annotationMeasurerStylesDefs,extendAbove:import_ag_charts_core9.boolean,extendBelow:import_ag_charts_core9.boolean,text:lineAnnotationTextOptionsDef,start:annotationPointOptionsDef,end:annotationPointOptionsDef},"price-range":{...annotationMeasurerStylesDefs,extendLeft:import_ag_charts_core9.boolean,extendRight:import_ag_charts_core9.boolean,text:lineAnnotationTextOptionsDef,start:annotationPointOptionsDef,end:annotationPointOptionsDef},"date-price-range":{...annotationMeasurerStylesDefs,text:lineAnnotationTextOptionsDef,start:annotationPointOptionsDef,end:annotationPointOptionsDef}},"an annotation initial state object"),initialStateOptionsDef={chartType:(0,import_ag_charts_core9.union)("candlestick","hollow-candlestick","ohlc","line","step-line","hlc","high-low"),annotations:(0,import_ag_charts_core9.arrayOfDefs)(annotationInitialStateOptionsDef),legend:(0,import_ag_charts_core9.arrayOfDefs)({visible:import_ag_charts_core9.boolean,seriesId:import_ag_charts_core9.string,itemId:import_ag_charts_core9.string,legendItemName:import_ag_charts_core9.string},"legend state array"),zoom:{rangeX:{start:(0,import_ag_charts_core9.or)(import_ag_charts_core9.number,serializableDate),end:(0,import_ag_charts_core9.or)(import_ag_charts_core9.number,serializableDate)},rangeY:{start:(0,import_ag_charts_core9.or)(import_ag_charts_core9.number,serializableDate),end:(0,import_ag_charts_core9.or)(import_ag_charts_core9.number,serializableDate)},ratioX:{start:(0,import_ag_charts_core9.and)(import_ag_charts_core9.ratio,(0,import_ag_charts_core9.lessThan)("end")),end:(0,import_ag_charts_core9.and)(import_ag_charts_core9.ratio,(0,import_ag_charts_core9.greaterThan)("start"))},ratioY:{start:(0,import_ag_charts_core9.and)(import_ag_charts_core9.ratio,(0,import_ag_charts_core9.lessThan)("end")),end:(0,import_ag_charts_core9.and)(import_ag_charts_core9.ratio,(0,import_ag_charts_core9.greaterThan)("start"))},autoScaledAxes:(0,import_ag_charts_core9.arrayOf)((0,import_ag_charts_core9.constant)("y"))}},import_ag_charts_community63=require("ag-charts-community"),import_ag_charts_core21=require("ag-charts-core"),import_ag_charts_community24=require("ag-charts-community"),import_ag_charts_community21=require("ag-charts-community");function prepareBoxPlotFromTo(e){return{from:e?{scalingX:1,scalingY:0}:{scalingX:0,scalingY:1},to:{scalingX:1,scalingY:1}}}function resetBoxPlotSelectionsScalingCenterFn(e){return(t,i)=>e?{scalingCenterY:i.scaledValues.medianValue}:{scalingCenterX:i.scaledValues.medianValue}}var import_ag_charts_community19=require("ag-charts-community"),import_ag_charts_core10=require("ag-charts-core"),{ScalableGroup,Rect,Line:Line3,BBox:BBox2,Selection:Selection3,applyShapeFillBBox}=import_ag_charts_community19._ModuleSupport,BoxPlotGroup=class extends ScalableGroup{constructor(){super(),this.append([new Rect({tag:0}),new Rect({tag:2}),new Rect({tag:1}),new Line3({tag:3}),new Line3({tag:3}),new Line3({tag:4}),new Line3({tag:4})])}updateDatumStyles(e,t,i,a,o){const{bandwidth:s,scaledValues:{xValue:r,medianValue:n}}=e;let{minValue:l,q1Value:c,q3Value:h,maxValue:p}=e.scaledValues;(i&&!a||!i&&a)&&([p,h,c,l]=[l,c,h,p]);const u=(B,G,V,K)=>i?{y:B,x:G,width:K,height:V}:{x:B,y:G,width:V,height:K},d=(B,G,V)=>i?{y1:B,y2:G,x:V}:{x1:B,x2:G,y:V},y=(B,G,V)=>i?{x1:G,x2:V,y:B}:{x:B,y1:G,y2:V},g=(B,G,V,K)=>({x:B,y:G,width:V,height:K}=u(B,G,V,K),new BBox2(B,G,V,K)),{opacity:m,fill:f,fillOpacity:b,stroke:x,strokeWidth:S,strokeOpacity:D,lineDash:_,lineDashOffset:k,cornerRadius:v,cap:A,whisker:I}=t;this.opacity=m??1;const M=Selection3.select(this,Rect),[L]=M.selectByTag(0),[R]=M.selectByTag(2),[C]=M.selectByTag(1),N=M.selectByTag(3),P=M.selectByTag(4);I.strokeWidth>s&&(I.strokeWidth=s);const T=u(c,r,h-c,s);R.setProperties(T),L.setProperties(T),L.setProperties({cornerRadius:v});const w=Math.max(Math.round(n-S/2),c+S),E=Math.min(Math.round(n+S/2),h-S);C.setProperties(T),C.setProperties({visible:w<E,cornerRadius:v,clipBBox:g(w,r+S,E-w,Math.max(0,s-S*2))});const O=Math.floor(r+s*(1-A.lengthRatio)/2),F=Math.ceil(r+s*(1+A.lengthRatio)/2);P[0].setProperties(y(l,O,F)),P[1].setProperties(y(p,O,F)),N[0].setProperties(d(Math.round(l+I.strokeWidth/2),c,Math.floor(r+s/2))),N[1].setProperties(d(h,Math.round(p-I.strokeWidth/2),Math.floor(r+s/2))),applyShapeFillBBox(L,f,o),L.setProperties({fill:f,fillOpacity:b,strokeWidth:S*2,strokeOpacity:0}),C.setProperties({fill:x,fillOpacity:D,strokeWidth:0});for(const B of[...N,...P])B.setProperties(I);R.setProperties({stroke:x,strokeWidth:S,strokeOpacity:D,lineDash:_,lineDashOffset:k,cornerRadius:v,fillOpacity:0})}distanceSquared(e,t){const i=Selection3.selectByClass(this,Rect,Line3);return import_ag_charts_community19._ModuleSupport.nearestSquared(e,t,i).distanceSquared}get midPoint(){const e=this.datum;return e.midPoint===void 0?(import_ag_charts_core10.Logger.error("BoxPlotGroup.datum.midPoint is undefined"),{x:NaN,y:NaN}):e.midPoint}},import_ag_charts_community20=require("ag-charts-community"),{BaseProperties:BaseProperties2,FillGradientDefaults,FillPatternDefaults,FillImageDefaults,AbstractBarSeriesProperties,makeSeriesTooltip,Property:Property12,mergeDefaults}=import_ag_charts_community20._ModuleSupport,BoxPlotSeriesCap=class extends BaseProperties2{constructor(){super(...arguments),this.lengthRatio=.5}};__decorateClass([Property12],BoxPlotSeriesCap.prototype,"lengthRatio",2);var BoxPlotSeriesWhisker=class extends BaseProperties2{};__decorateClass([Property12],BoxPlotSeriesWhisker.prototype,"stroke",2),__decorateClass([Property12],BoxPlotSeriesWhisker.prototype,"strokeWidth",2),__decorateClass([Property12],BoxPlotSeriesWhisker.prototype,"strokeOpacity",2),__decorateClass([Property12],BoxPlotSeriesWhisker.prototype,"lineDash",2),__decorateClass([Property12],BoxPlotSeriesWhisker.prototype,"lineDashOffset",2);var BoxPlotSeriesProperties=class extends AbstractBarSeriesProperties{constructor(){super(...arguments),this.fill="#c16068",this.fillGradientDefaults=new FillGradientDefaults,this.fillPatternDefaults=new FillPatternDefaults,this.fillImageDefaults=new FillImageDefaults,this.fillOpacity=1,this.stroke="#333",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.cap=new BoxPlotSeriesCap,this.whisker=new BoxPlotSeriesWhisker,this.tooltip=makeSeriesTooltip()}toJson(){const{stroke:e,strokeWidth:t,strokeOpacity:i,lineDash:a,lineDashOffset:o}=this,s=super.toJson();return s.whisker=mergeDefaults(s.whisker,{stroke:e,strokeWidth:t,strokeOpacity:i,lineDash:a,lineDashOffset:o}),s}getStyle(){const{fill:e,fillOpacity:t,strokeWidth:i,strokeOpacity:a,stroke:o,lineDash:s,lineDashOffset:r,cornerRadius:n,cap:l,whisker:c}=this;return{fill:e,fillOpacity:t,strokeWidth:i,strokeOpacity:a,stroke:o,lineDash:s,lineDashOffset:r,cornerRadius:n,cap:l,whisker:c,opacity:1}}};__decorateClass([Property12],BoxPlotSeriesProperties.prototype,"xKey",2),__decorateClass([Property12],BoxPlotSeriesProperties.prototype,"minKey",2),__decorateClass([Property12],BoxPlotSeriesProperties.prototype,"q1Key",2),__decorateClass([Property12],BoxPlotSeriesProperties.prototype,"medianKey",2),__decorateClass([Property12],BoxPlotSeriesProperties.prototype,"q3Key",2),__decorateClass([Property12],BoxPlotSeriesProperties.prototype,"maxKey",2),__decorateClass([Property12],BoxPlotSeriesProperties.prototype,"xName",2),__decorateClass([Property12],BoxPlotSeriesProperties.prototype,"yName",2),__decorateClass([Property12],BoxPlotSeriesProperties.prototype,"minName",2),__decorateClass([Property12],BoxPlotSeriesProperties.prototype,"q1Name",2),__decorateClass([Property12],BoxPlotSeriesProperties.prototype,"medianName",2),__decorateClass([Property12],BoxPlotSeriesProperties.prototype,"q3Name",2),__decorateClass([Property12],BoxPlotSeriesProperties.prototype,"maxName",2),__decorateClass([Property12],BoxPlotSeriesProperties.prototype,"fill",2),__decorateClass([Property12],BoxPlotSeriesProperties.prototype,"fillGradientDefaults",2),__decorateClass([Property12],BoxPlotSeriesProperties.prototype,"fillPatternDefaults",2),__decorateClass([Property12],BoxPlotSeriesProperties.prototype,"fillImageDefaults",2),__decorateClass([Property12],BoxPlotSeriesProperties.prototype,"fillOpacity",2),__decorateClass([Property12],BoxPlotSeriesProperties.prototype,"stroke",2),__decorateClass([Property12],BoxPlotSeriesProperties.prototype,"strokeWidth",2),__decorateClass([Property12],BoxPlotSeriesProperties.prototype,"strokeOpacity",2),__decorateClass([Property12],BoxPlotSeriesProperties.prototype,"lineDash",2),__decorateClass([Property12],BoxPlotSeriesProperties.prototype,"lineDashOffset",2),__decorateClass([Property12],BoxPlotSeriesProperties.prototype,"cornerRadius",2),__decorateClass([Property12],BoxPlotSeriesProperties.prototype,"itemStyler",2),__decorateClass([Property12],BoxPlotSeriesProperties.prototype,"cap",2),__decorateClass([Property12],BoxPlotSeriesProperties.prototype,"whisker",2),__decorateClass([Property12],BoxPlotSeriesProperties.prototype,"tooltip",2);var{fixNumericExtent,keyProperty,mergeDefaults:mergeDefaults2,SeriesNodePickMode,SMALLEST_KEY_INTERVAL,valueProperty,diff,animationValidation,computeBarFocusBounds,createDatumId,ContinuousScale:ContinuousScale2,ChartAxisDirection:ChartAxisDirection6,motion,getShapeStyle}=import_ag_charts_community21._ModuleSupport,BoxPlotSeriesNodeEvent=class extends import_ag_charts_community21._ModuleSupport.SeriesNodeEvent{constructor(e,t,i,a){super(e,t,i,a),this.xKey=a.properties.xKey,this.minKey=a.properties.minKey,this.q1Key=a.properties.q1Key,this.medianKey=a.properties.medianKey,this.q3Key=a.properties.q3Key,this.maxKey=a.properties.maxKey}},BoxPlotSeries=class extends import_ag_charts_community21._ModuleSupport.AbstractBarSeries{constructor(e){super({moduleCtx:e,pickModes:[SeriesNodePickMode.NEAREST_NODE,SeriesNodePickMode.EXACT_SHAPE_MATCH],propertyKeys:{x:["xKey"],y:["medianKey","q1Key","q3Key","minKey","maxKey"]},propertyNames:{x:["xName"],y:["medianName","q1Name","q3Name","minName","maxName"]},categoryKey:"xValue",pathsPerSeries:[]}),this.properties=new BoxPlotSeriesProperties,this.NodeEvent=BoxPlotSeriesNodeEvent}async processData(e){if(!this.visible)return;const{xKey:t,minKey:i,q1Key:a,medianKey:o,q3Key:s,maxKey:r}=this.properties,n=!this.ctx.animationManager.isSkipped(),l=this.getCategoryAxis()?.scale,c=this.getValueAxis()?.scale,{isContinuousX:h,xScaleType:p,yScaleType:u}=this.getScaleInformation({xScale:l,yScale:c}),d=[];n&&this.processedData&&d.push(diff(this.id,this.processedData)),n&&d.push(animationValidation());const{processedData:y}=await this.requestDataModel(e,this.data,{props:[keyProperty(t,p,{id:"xValue"}),valueProperty(i,u,{id:"minValue"}),valueProperty(a,u,{id:"q1Value"}),valueProperty(o,u,{id:"medianValue"}),valueProperty(s,u,{id:"q3Value"}),valueProperty(r,u,{id:"maxValue"}),...h?[SMALLEST_KEY_INTERVAL]:[],...d]});this.smallestDataInterval=y.reduced?.smallestKeyInterval,this.animationState.transition("updateData")}getSeriesDomain(e){const{processedData:t,dataModel:i}=this;if(!(t&&i))return[];if(e!==this.getBarDirection()){const{index:o,def:s}=i.resolveProcessedDataDefById(this,"xValue"),r=t.domain.keys[o];return s.type==="key"&&s.valueType==="category"?r:this.padBandExtent(r)}const a=this.domainForClippedRange(e,["minValue","maxValue"],"xValue");return fixNumericExtent(a)}getSeriesRange(e,t){return this.domainForVisibleRange(ChartAxisDirection6.Y,["maxValue","minValue"],"xValue",t)}createNodeData(){const{visible:e,dataModel:t,processedData:i}=this,a=this.getCategoryAxis(),o=this.getValueAxis();if(!(t&&i&&a&&o))return;const{xKey:s}=this.properties,r=[],n=t.resolveKeysById(this,"xValue",i),l=t.resolveColumnById(this,"minValue",i),c=t.resolveColumnById(this,"q1Value",i),h=t.resolveColumnById(this,"medianValue",i),p=t.resolveColumnById(this,"q3Value",i),u=t.resolveColumnById(this,"maxValue",i),{barWidth:d,groupIndex:y}=this.updateGroupScale(a),g=ContinuousScale2.is(a.scale)?d*-.5:0,{groupScale:m}=this,f=this.isVertical(),b={itemId:s,nodeData:r,labelData:[],scales:this.calculateScaling(),groupScale:this.getScaling(this.groupScale),visible:this.visible};return e&&(i.dataSources.get(this.id)??[]).forEach((S,D)=>{const _=n[D];if(_==null)return;const k=l[D],v=c[D],A=h[D],I=p[D],M=u[D];if([k,v,A,I,M].some(E=>typeof E!="number")||k>v||v>A||A>I||I>M)return;const L={xValue:Math.round(a.scale.convert(_)),minValue:Math.round(o.scale.convert(k)),q1Value:Math.round(o.scale.convert(v)),medianValue:Math.round(o.scale.convert(A)),q3Value:Math.round(o.scale.convert(I)),maxValue:Math.round(o.scale.convert(M))};L.xValue+=Math.round(m.convert(String(y)))+g;const R=Math.round(d),C=Math.abs(L.q3Value-L.q1Value),N=L.xValue+R/2,P=Math.min(L.q3Value,L.q1Value)+C/2,T={x:f?N:P,y:f?P:N};let w;f?w={x:T.x-R/2,y:L.minValue,width:R,height:L.maxValue-L.minValue}:w={x:L.minValue,y:T.y-R/2,width:L.maxValue-L.minValue,height:R},r.push({series:this,itemId:_,datum:S,datumIndex:D,xKey:s,bandwidth:R,scaledValues:L,midPoint:T,focusRect:w})}),b}legendItemSymbol(){const{fill:e,fillOpacity:t,stroke:i,strokeWidth:a,strokeOpacity:o,lineDash:s,lineDashOffset:r,fillGradientDefaults:n,fillPatternDefaults:l,fillImageDefaults:c}=this.properties;return{marker:getShapeStyle({fill:e,fillOpacity:t,stroke:i,strokeOpacity:o,strokeWidth:a,lineDash:s,lineDashOffset:r},n,l,c)}}getLegendData(e){const{id:t,ctx:{legendManager:i},visible:a}=this,{xKey:o,yName:s,showInLegend:r,legendItemName:n}=this.properties;return!o||e!=="category"?[]:[{legendType:"category",id:t,itemId:t,seriesId:t,enabled:a&&i.getItemEnabled({seriesId:t,itemId:t}),label:{text:n??s??t},symbol:this.legendItemSymbol(),legendItemName:n,hideInLegend:!r}]}getTooltipContent(e){const{id:t,dataModel:i,processedData:a,properties:o}=this,{xKey:s,xName:r,yName:n,medianKey:l,medianName:c,q1Key:h,q1Name:p,q3Key:u,q3Name:d,minKey:y,minName:g,maxKey:m,maxName:f,legendItemName:b,tooltip:x}=o,S=this.getCategoryAxis(),D=this.getValueAxis();if(!i||!a||!S||!D)return;const _=a.dataSources.get(this.id)?.[e],k=i.resolveKeysById(this,"xValue",a)[e],v=i.resolveColumnById(this,"minValue",a)[e],A=i.resolveColumnById(this,"q1Value",a)[e],I=i.resolveColumnById(this,"medianValue",a)[e],M=i.resolveColumnById(this,"q3Value",a)[e],L=i.resolveColumnById(this,"maxValue",a)[e];if(k==null)return;const R=this.getItemStyle({datumIndex:e,datum:_},!1),C=[{label:g,fallbackLabel:y,value:this.getAxisValueText(D,"tooltip",v,_,y,b)},{label:p,fallbackLabel:h,value:this.getAxisValueText(D,"tooltip",A,_,h,b)},{label:c,fallbackLabel:l,value:this.getAxisValueText(D,"tooltip",I,_,l,b)},{label:d,fallbackLabel:u,value:this.getAxisValueText(D,"tooltip",M,_,u,b)},{label:f,fallbackLabel:m,value:this.getAxisValueText(D,"tooltip",L,_,m,b)}];return this.formatTooltipWithContext(x,{heading:this.getAxisValueText(S,"tooltip",k,_,s,b),title:b??n,symbol:this.legendItemSymbol(),data:C},{seriesId:t,datum:_,title:n,xKey:s,xName:r,yName:n,medianKey:l,medianName:c,q1Key:h,q1Name:p,q3Key:u,q3Name:d,minKey:y,minName:g,maxKey:m,maxName:f,...R})}animateEmptyUpdateReady({datumSelection:e}){const t=this.isVertical(),{from:i,to:a}=prepareBoxPlotFromTo(t);motion.resetMotion([e],resetBoxPlotSelectionsScalingCenterFn(t)),motion.staticFromToMotion(this.id,"datums",this.ctx.animationManager,[e],i,a,{phase:"initial"})}isLabelEnabled(){return!1}updateDatumSelection(e){const t=e.nodeData??[];return e.datumSelection.update(t)}getItemStyle({datumIndex:e,datum:t},i){const{id:a,properties:o}=this,{xKey:s,minKey:r,q1Key:n,medianKey:l,q3Key:c,maxKey:h,fillGradientDefaults:p,fillPatternDefaults:u,fillImageDefaults:d,itemStyler:y}=o,g=this.getHighlightStyle(i);let m=getShapeStyle(mergeDefaults2(g,o.getStyle()),p,u,d);if(y!=null&&e!=null){const _=this.cachedDatumCallback(createDatumId(e,i?"highlight":"node"),()=>{const k=this.ctx.highlightManager?.getActiveHighlight(),v=this.getHighlightStateString(k,i,e);return this.callWithContext(y,{seriesId:a,datum:t,xKey:s,minKey:r,q1Key:n,medianKey:l,q3Key:c,maxKey:h,highlighted:i,highlightState:v,...m})});_&&(m=getShapeStyle(mergeDefaults2(_,m),p,u,d))}const{stroke:f,strokeWidth:b,strokeOpacity:x,lineDash:S,lineDashOffset:D}=m;return m.whisker=mergeDefaults2(m.whisker,{stroke:f,strokeWidth:b,strokeOpacity:x,lineDash:S,lineDashOffset:D}),m}updateDatumNodes({datumSelection:e,isHighlight:t}){const i=this.isVertical(),a=this.getValueAxis()?.isReversed();e.each((o,s)=>{const r=this.getItemStyle(s,t),n=this.getShapeFillBBox();o.updateDatumStyles(s,r,i,a,n)})}updateLabelNodes(){}updateLabelSelection(e){const{labelData:t,labelSelection:i}=e;return i.update(t)}nodeFactory(){return new BoxPlotGroup}computeFocusBounds({datumIndex:e}){return computeBarFocusBounds(this,this.contextNodeData?.nodeData[e].focusRect)}hasItemStylers(){return this.properties.itemStyler!=null}};BoxPlotSeries.className="BoxPlotSeries",BoxPlotSeries.type="box-plot";var import_ag_charts_community22=require("ag-charts-community"),import_ag_charts_core11=require("ag-charts-core"),{boxPlotSeriesThemeableOptionsDef,commonSeriesOptionsDefs}=import_ag_charts_community22._ModuleSupport,boxPlotSeriesOptionsDef={...commonSeriesOptionsDefs,...boxPlotSeriesThemeableOptionsDef,type:(0,import_ag_charts_core11.required)((0,import_ag_charts_core11.constant)("box-plot")),xKey:(0,import_ag_charts_core11.required)(import_ag_charts_core11.string),minKey:(0,import_ag_charts_core11.required)(import_ag_charts_core11.string),q1Key:(0,import_ag_charts_core11.required)(import_ag_charts_core11.string),medianKey:(0,import_ag_charts_core11.required)(import_ag_charts_core11.string),q3Key:(0,import_ag_charts_core11.required)(import_ag_charts_core11.string),maxKey:(0,import_ag_charts_core11.required)(import_ag_charts_core11.string),xName:import_ag_charts_core11.string,yName:import_ag_charts_core11.string,minName:import_ag_charts_core11.string,q1Name:import_ag_charts_core11.string,medianName:import_ag_charts_core11.string,q3Name:import_ag_charts_core11.string,maxName:import_ag_charts_core11.string,grouped:import_ag_charts_core11.boolean,legendItemName:import_ag_charts_core11.string},import_ag_charts_community23=require("ag-charts-community"),{ThemeConstants:{CARTESIAN_AXIS_TYPE},multiSeriesHighlightStyle}=import_ag_charts_community23._ModuleSupport,BOX_PLOT_SERIES_THEME={series:{direction:"vertical",fill:{$if:[{$or:[{$isGradient:{$palette:"fill"}},{$isPattern:{$palette:"fill"}},{$isImage:{$palette:"fill"}}]},{$palette:"fill"},{$mix:[import_ag_charts_community23._ModuleSupport.SAFE_FILL_OPERATION,{$ref:"chartBackgroundColor"},.7]}]},stroke:{$palette:"stroke"},fillGradientDefaults:import_ag_charts_community23._ModuleSupport.FILL_GRADIENT_LINEAR_DEFAULTS,fillPatternDefaults:import_ag_charts_community23._ModuleSupport.FILL_PATTERN_DEFAULTS,fillImageDefaults:import_ag_charts_community23._ModuleSupport.FILL_IMAGE_DEFAULTS,strokeWidth:2,highlight:multiSeriesHighlightStyle()},axes:{[CARTESIAN_AXIS_TYPE.NUMBER]:{crosshair:{snap:!1}},[CARTESIAN_AXIS_TYPE.CATEGORY]:{groupPaddingInner:.2,crosshair:{enabled:!1,snap:!1}}}},BoxPlotModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"box-plot",moduleFactory:e=>new BoxPlotSeries(e),defaultAxes:import_ag_charts_community24._ModuleSupport.DIRECTION_SWAP_AXES,themeTemplate:BOX_PLOT_SERIES_THEME,groupable:!0},BoxPlotSeriesModule={type:"series",name:"box-plot",chartType:"cartesian",enterprise:!0,options:boxPlotSeriesOptionsDef,create:e=>new BoxPlotSeries(e)},import_ag_charts_community34=require("ag-charts-community"),import_ag_charts_community31=require("ag-charts-community"),import_ag_charts_community26=require("ag-charts-community"),import_ag_charts_core12=require("ag-charts-core"),import_ag_charts_community25=require("ag-charts-community"),{AGGREGATION_SPAN,AGGREGATION_INDEX_X_MAX,AGGREGATION_INDEX_X_MIN,AGGREGATION_INDEX_Y_MAX,AGGREGATION_INDEX_Y_MIN,aggregationDomain,aggregationRangeFittingPoints,compactAggregationIndices,createAggregationIndices}=import_ag_charts_community25._ModuleSupport,AGGREGATION_THRESHOLD=1e3,OPEN=AGGREGATION_INDEX_X_MIN,HIGH=AGGREGATION_INDEX_Y_MAX,LOW=AGGREGATION_INDEX_Y_MIN,CLOSE=AGGREGATION_INDEX_X_MAX;function aggregateOhlcData(e,t,i,a,o){if(t.length<AGGREGATION_THRESHOLD)return;const[s,r]=aggregationDomain(e,o);let n=aggregationRangeFittingPoints(t),{indexData:l,valueData:c}=createAggregationIndices(t,i,a,s,r,n);const h=[{maxRange:n,indexData:l}];for(;n>64;)({indexData:l,valueData:c,maxRange:n}=compactAggregationIndices(l,c,n)),h.push({maxRange:n,indexData:l});return h.reverse(),h}var{fixNumericExtent:fixNumericExtent2,keyProperty:keyProperty2,createDatumId:createDatumId2,SeriesNodePickMode:SeriesNodePickMode2,ChartAxisDirection:ChartAxisDirection7,SMALLEST_KEY_INTERVAL:SMALLEST_KEY_INTERVAL2,valueProperty:valueProperty2,diff:diff2,animationValidation:animationValidation2,computeBarFocusBounds:computeBarFocusBounds2,visibleRangeIndices,BandScale,getShapeStyle:getShapeStyle2,processedDataIsAnimatable,mergeDefaults:mergeDefaults3,simpleMemorize2}=import_ag_charts_community26._ModuleSupport,memoizedAggregateOhlcData=simpleMemorize2(aggregateOhlcData),OhlcSeriesNodeEvent=class extends import_ag_charts_community26._ModuleSupport.SeriesNodeEvent{constructor(e,t,i,a){super(e,t,i,a),this.xKey=a.properties.xKey,this.openKey=a.properties.openKey,this.closeKey=a.properties.closeKey,this.highKey=a.properties.highKey,this.lowKey=a.properties.lowKey}},OhlcSeriesBase=class extends import_ag_charts_community26._ModuleSupport.AbstractBarSeries{constructor(e){super({moduleCtx:e,pickModes:[SeriesNodePickMode2.AXIS_ALIGNED,SeriesNodePickMode2.EXACT_SHAPE_MATCH],propertyKeys:{x:["xKey"],y:["lowKey","highKey","openKey","closeKey"]},propertyNames:{x:["xName"],y:["lowName","highName","openName","closeName"]},categoryKey:"xValue",pathsPerSeries:[]}),this.NodeEvent=OhlcSeriesNodeEvent,this.dataAggregationFilters=void 0}async processData(e){if(!this.visible)return;const{xKey:t,openKey:i,closeKey:a,highKey:o,lowKey:s}=this.properties,r=!this.ctx.animationManager.isSkipped(),n=this.getCategoryAxis()?.scale,l=this.getValueAxis()?.scale,{isContinuousX:c,xScaleType:h,yScaleType:p}=this.getScaleInformation({xScale:n,yScale:l}),u=[];r&&(this.processedData&&u.push(diff2(this.id,this.processedData)),u.push(animationValidation2())),i&&u.push(valueProperty2(i,p,{id:"openValue",invalidValue:void 0,missingValue:void 0}));const{dataModel:d,processedData:y}=await this.requestDataModel(e,this.data,{props:[keyProperty2(t,h,{id:"xValue"}),valueProperty2(a,p,{id:"closeValue"}),valueProperty2(o,p,{id:"highValue"}),valueProperty2(s,p,{id:"lowValue"}),...c?[SMALLEST_KEY_INTERVAL2]:[],...u]});this.smallestDataInterval=y.reduced?.smallestKeyInterval,this.dataAggregationFilters=this.aggregateData(d,y),this.animationState.transition("updateData")}aggregateData(e,t){if(t.type!=="ungrouped"||processedDataIsAnimatable(t))return;const i=this.axes[ChartAxisDirection7.X];if(i==null)return;const a=e.resolveKeysById(this,"xValue",t),o=e.resolveColumnById(this,"highValue",t),s=e.resolveColumnById(this,"lowValue",t),{index:r}=e.resolveProcessedDataDefById(this,"xValue"),n=t.domain.keys[r];return memoizedAggregateOhlcData(i.scale.type,a,o,s,n)}getSeriesDomain(e){const{processedData:t,dataModel:i}=this;if(!(t&&i))return[];if(e!==this.getBarDirection()){const{index:o,def:s}=i.resolveProcessedDataDefById(this,"xValue"),r=t.domain.keys[o];return s.type==="key"&&s.valueType==="category"?r:this.padBandExtent(r)}const a=this.domainForClippedRange(e,["highValue","lowValue"],"xValue");return fixNumericExtent2(a)}getSeriesRange(e,t){return this.domainForVisibleRange(ChartAxisDirection7.Y,["highValue","lowValue"],"xValue",t)}getVisibleItems(e,t,i){return this.countVisibleItems("xValue",["highValue","lowValue"],e,t,i)}createNodeData(){const{visible:e,dataModel:t,processedData:i}=this,a=this.getCategoryAxis(),o=this.getValueAxis();if(!(t&&i&&a&&o))return;const s=[],{xKey:r,highKey:n,lowKey:l}=this.properties,c=i.dataSources.get(this.id)??[],h=t.resolveKeysById(this,"xValue",i),p=t.resolveColumnById(this,"openValue",i),u=t.resolveColumnById(this,"closeValue",i),d=t.resolveColumnById(this,"highValue",i),y=t.resolveColumnById(this,"lowValue",i),{groupScale:g}=this,{barWidth:m,groupIndex:f}=this.updateGroupScale(a),b=g.convert(String(f)),x=m>=1?m:g.rawBandwidth,S=BandScale.is(a.scale),D={itemId:r,nodeData:s,labelData:[],scales:this.calculateScaling(),groupScale:this.getScaling(this.groupScale),visible:this.visible};if(!e)return D;const _=(C,N,P,T,w,E,O,F)=>{const B=c[C],G=S?O/2:0,V=a.scale.convert(N)+b+G,K=o.scale.convert(P),W=o.scale.convert(T),z=o.scale.convert(w),H=o.scale.convert(E),Y=T>P,j=Y?"up":"down",$=Math.min(z,H),q=Math.max(z,H)-$,J={x:V,y:$+q/2};s.push({series:this,itemId:j,datum:B,datumIndex:C,xKey:r,xValue:N,openValue:P,closeValue:T,highValue:w,lowValue:E,midPoint:J,aggregatedValue:T,isRising:Y,centerX:V,width:O,y:$,height:q,yOpen:K,yClose:W,crisp:F})},{dataAggregationFilters:k}=this,v=a.scale,[A,I]=v.range,M=Math.abs(I-A),L=C=>v.convert(h[C])+b,R=k?.find(C=>C.maxRange>M);if(R==null){const C=i.invalidData?.get(this.id);let[N,P]=visibleRangeIndices(1,c.length,a.range,T=>{const w=S?0:-x/2,E=L(T)+w;return[E,E+x]});i.input.count<1e3&&(N=0,P=i.input.count);for(let T=N;T<P;T+=1){if(C?.[T]===!0)continue;const w=h[T];if(w==null)continue;const E=p[T],O=u[T],F=d[T],B=y[T],G=B!=null&&B<=E&&B<=O,V=F!=null&&F>=E&&F>=O;if(!G){import_ag_charts_core12.Logger.warnOnce(`invalid low value for key [${l}] in data element, low value cannot be higher than datum open or close values`);continue}if(!V){import_ag_charts_core12.Logger.warnOnce(`invalid high value for key [${n}] in data element, high value cannot be lower than datum open or close values.`);continue}_(T,w,E,O,F,B,x,!0)}}else{const{maxRange:C,indexData:N}=R,[P,T]=visibleRangeIndices(1,C,a.range,w=>{const E=w*AGGREGATION_SPAN,O=N[E+OPEN],F=N[E+CLOSE];if(O===-1)return;const B=S?0:-x/2;return[L(O)+B,L(F)+B+x]});for(let w=P;w<T;w+=1){const E=w*AGGREGATION_SPAN,O=N[E+OPEN],F=N[E+CLOSE],B=N[E+HIGH],G=N[E+LOW];if(O===-1)continue;const V=(O+F)/2|0,K=h[V];if(K==null)continue;const W=p[O],z=u[F],H=d[B],Y=y[G],j=Math.abs(L(F)-L(O))+x;_(V,K,W,z,H,Y,j,!1)}}return D}isVertical(){return!0}isLabelEnabled(){return!1}updateDatumSelection(e){const t=e.nodeData??[];return e.datumSelection.update(t)}updateLabelNodes(e){}updateLabelSelection(e){const{labelData:t,labelSelection:i}=e;return i.update(t)}getItemStyle({datumIndex:e,itemId:t="up",datum:i,xValue:a},o){const{id:s,properties:r}=this,n=r.item[t],{itemStyler:l}=r,c=this.getHighlightStyle(o),h=mergeDefaults3(c,r.getStyle(t));let p=n.fillGradientDefaults&&n.fillPatternDefaults&&n.fillImageDefaults?getShapeStyle2(h,n.fillGradientDefaults,n.fillPatternDefaults,n.fillImageDefaults):h;if(l!=null&&e!=null){const{xKey:u,openKey:d,closeKey:y,highKey:g,lowKey:m}=r,f=this.ctx.highlightManager?.getActiveHighlight(),b=this.cachedDatumCallback(createDatumId2(createDatumId2(a),o?"highlight":"node"),()=>{const x=this.getHighlightStateString(f,o,e);return this.callWithContext(l,{seriesId:s,datum:i,itemId:t,xKey:u,openKey:d,closeKey:y,highKey:g,lowKey:m,highlighted:o,highlightState:x,...p})});b&&(p=n.fillGradientDefaults&&n.fillPatternDefaults&&n.fillImageDefaults?getShapeStyle2(mergeDefaults3(b,p),n.fillGradientDefaults,n.fillPatternDefaults,n.fillImageDefaults):mergeDefaults3(b,p))}return p}getTooltipContent(e){const{id:t,dataModel:i,processedData:a,properties:o}=this,{xKey:s,xName:r,yName:n,openKey:l,openName:c,highKey:h,highName:p,lowKey:u,lowName:d,closeKey:y,closeName:g,legendItemName:m,tooltip:f}=o,b=this.getCategoryAxis(),x=this.getValueAxis();if(!i||!a||!b||!x)return;const S=a.dataSources.get(this.id)?.[e],D=i.resolveKeysById(this,"xValue",a)[e],_=i.resolveColumnById(this,"openValue",a)[e],k=i.resolveColumnById(this,"highValue",a)[e],v=i.resolveColumnById(this,"lowValue",a)[e],A=i.resolveColumnById(this,"closeValue",a)[e];if(D==null)return;const I=A>=_?"up":"down",M=this.properties.item[I],L=this.getItemStyle({datumIndex:e,datum:S,itemId:I},!1);let R={fill:M.fill??M.stroke,fillOpacity:M.fillOpacity??M.strokeOpacity??1,stroke:M.stroke,strokeWidth:M.strokeWidth??1,strokeOpacity:M.strokeOpacity??1,lineDash:M.lineDash??[0],lineDashOffset:M.lineDashOffset??0};return M.fillGradientDefaults&&M.fillPatternDefaults&&M.fillImageDefaults&&(R=getShapeStyle2(R,M.fillGradientDefaults,M.fillPatternDefaults,M.fillImageDefaults)),this.formatTooltipWithContext(f,{heading:this.getAxisValueText(b,"tooltip",D,S,s,m),title:m,symbol:{marker:R},data:[{label:c,fallbackLabel:l,value:this.getAxisValueText(x,"tooltip",_,S,l,m)},{label:p,fallbackLabel:h,value:this.getAxisValueText(x,"tooltip",k,S,h,m)},{label:d,fallbackLabel:u,value:this.getAxisValueText(x,"tooltip",v,S,u,m)},{label:g,fallbackLabel:y,value:this.getAxisValueText(x,"tooltip",A,S,y,m)}]},{seriesId:t,datum:S,title:n,itemId:I,xKey:s,xName:r,yName:n,openKey:l,openName:c,highKey:h,highName:p,lowKey:u,lowName:d,closeKey:y,closeName:g,...L})}computeFocusBounds(e){const t=this.getNodeData()?.at(e.datumIndex);if(t==null)return;const{centerX:i,y:a,width:o,height:s}=t,r={x:i-o/2,y:a,width:o,height:s};return computeBarFocusBounds2(this,r)}},import_ag_charts_community28=require("ag-charts-community"),import_ag_charts_community27=require("ag-charts-community"),{Path:Path5,SceneChangeDetection,BBox:BBox3}=import_ag_charts_community27._ModuleSupport,OhlcBaseNode=class extends Path5{constructor(){super(...arguments),this.centerX=0,this.y=0,this.width=0,this.height=0,this.yOpen=0,this.yClose=0,this.crisp=!1,this.strokeAlignment=0}computeBBox(){const{centerX:e,y:t,width:i,height:a}=this;return new BBox3(e-i/2,t,i,a)}isPointInPath(e,t){return this.getBBox().containsPoint(e,t)}distanceSquared(e,t){return this.getBBox().distanceSquared(e,t)}get midPoint(){return{x:this.centerX,y:this.y+this.height/2}}alignedCoordinates(){const{y:e,width:t,height:i,crisp:a,strokeAlignment:o}=this;let{centerX:s,yOpen:r,yClose:n}=this,l=s-t/2,c=s+t/2,h=e,p=e+i;if(a&&t>1){s=this.align(s),r=this.align(r),n=this.align(n);const d=this.align(t/2);l=s-d,c=s+d,h=this.align(e),p=h+this.align(h,i)}const u=(h+p)/2;return s+=o,l+=o,c+=o,h-=o,p+=o,r+=r<u?o:-o,n+=n<u?o:-o,{centerX:s,x0:l,x1:c,y0:h,y1:p,yOpen:r,yClose:n}}executeStroke(e,t){const{width:i,strokeWidth:a}=this;i<a&&(e.lineWidth=i),super.executeStroke(e,t)}};__decorateClass([SceneChangeDetection()],OhlcBaseNode.prototype,"centerX",2),__decorateClass([SceneChangeDetection()],OhlcBaseNode.prototype,"y",2),__decorateClass([SceneChangeDetection()],OhlcBaseNode.prototype,"width",2),__decorateClass([SceneChangeDetection()],OhlcBaseNode.prototype,"height",2),__decorateClass([SceneChangeDetection()],OhlcBaseNode.prototype,"yOpen",2),__decorateClass([SceneChangeDetection()],OhlcBaseNode.prototype,"yClose",2),__decorateClass([SceneChangeDetection()],OhlcBaseNode.prototype,"crisp",2),__decorateClass([SceneChangeDetection()],OhlcBaseNode.prototype,"strokeAlignment",2);var OhlcNode=class extends OhlcBaseNode{updatePath(){const{path:e}=this,{centerX:t,x0:i,x1:a,y0:o,y1:s,yOpen:r,yClose:n}=this.alignedCoordinates();e.clear(),e.moveTo(t,o),e.lineTo(t,s),Math.abs(a-i)>1&&(e.moveTo(i,r),e.lineTo(t,r),e.moveTo(t,n),e.lineTo(a,n))}},{SceneArrayChangeDetection,SceneChangeDetection:SceneChangeDetection2,ExtendedPath2D,BBox:BBox4}=import_ag_charts_community28._ModuleSupport,CandlestickNode=class extends OhlcBaseNode{constructor(){super(...arguments),this.wickPath=new ExtendedPath2D,this.wickStroke=void 0,this.wickStrokeWidth=void 0,this.wickStrokeOpacity=void 0}computeDefaultGradientFillBBox(){const{width:e,centerX:t,yOpen:i,yClose:a}=this,o=Math.min(i,a),r=Math.max(i,a)-o,n=t-e/2,l=t+e/2;return new BBox4(n,o,l-n,r)}updatePath(){const{path:e,stroke:t,strokeWidth:i,strokeOpacity:a,lineDash:o,lineDashOffset:s,wickStroke:r,wickStrokeWidth:n,wickStrokeOpacity:l,wickLineDash:c,wickLineDashOffset:h,strokeAlignment:p}=this,{centerX:u,x0:d,x1:y,y0:g,y1:m,yOpen:f,yClose:b}=this.alignedCoordinates();this.path.clear(),this.wickPath.clear();const S=r!=null&&r!==t||n!=null&&n!==i||l!=null&&l!==a||c!=null&&c!==o||h!=null&&h!==s?this.wickPath:e;if(Math.abs(y-d)<=3){S.moveTo(u,g),S.lineTo(u,m);return}const D=Math.min(f,b),_=Math.max(f,b);S.moveTo(u,g),S.lineTo(u,D+i/2),S.moveTo(u,m),S.lineTo(u,_-i/2);const k=p+i/2,v=_-D-2*k;if(v>0)e.rect(d+k,D+k,y-d-2*k,v);else{const A=(D+_)/2;e.moveTo(d,A),e.lineTo(y,A)}}drawPath(e){super.drawPath(e);const{wickPath:t}=this;if(t.isEmpty())return;const{stroke:i,strokeWidth:a,strokeOpacity:o,lineDash:s,lineDashOffset:r,wickStroke:n=i,wickStrokeWidth:l=a,wickStrokeOpacity:c=o,wickLineDash:h=s,wickLineDashOffset:p=r}=this;l!==0&&(e.globalAlpha*=c,typeof n=="string"&&(e.strokeStyle=n),e.lineWidth=l,h!=null&&e.setLineDash([...h]),e.lineDashOffset=p,e.stroke(t.getPath2D()))}};__decorateClass([SceneChangeDetection2()],CandlestickNode.prototype,"wickStroke",2),__decorateClass([SceneChangeDetection2()],CandlestickNode.prototype,"wickStrokeWidth",2),__decorateClass([SceneChangeDetection2()],CandlestickNode.prototype,"wickStrokeOpacity",2),__decorateClass([SceneArrayChangeDetection()],CandlestickNode.prototype,"wickLineDash",2),__decorateClass([SceneChangeDetection2()],CandlestickNode.prototype,"wickLineDashOffset",2);var import_ag_charts_community30=require("ag-charts-community"),import_ag_charts_community29=require("ag-charts-community"),{BaseProperties:BaseProperties3,Property:Property13,AbstractBarSeriesProperties:AbstractBarSeriesProperties2,makeSeriesTooltip:makeSeriesTooltip2}=import_ag_charts_community29._ModuleSupport,OhlcSeriesItem=class extends BaseProperties3{constructor(){super(...arguments),this.stroke="#333",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0}};__decorateClass([Property13],OhlcSeriesItem.prototype,"stroke",2),__decorateClass([Property13],OhlcSeriesItem.prototype,"strokeWidth",2),__decorateClass([Property13],OhlcSeriesItem.prototype,"strokeOpacity",2),__decorateClass([Property13],OhlcSeriesItem.prototype,"lineDash",2),__decorateClass([Property13],OhlcSeriesItem.prototype,"lineDashOffset",2);var OhlcSeriesItems=class extends BaseProperties3{constructor(){super(...arguments),this.up=new OhlcSeriesItem,this.down=new OhlcSeriesItem}};__decorateClass([Property13],OhlcSeriesItems.prototype,"up",2),__decorateClass([Property13],OhlcSeriesItems.prototype,"down",2);var OhlcSeriesBaseProperties=class extends AbstractBarSeriesProperties2{};__decorateClass([Property13],OhlcSeriesBaseProperties.prototype,"xKey",2),__decorateClass([Property13],OhlcSeriesBaseProperties.prototype,"openKey",2),__decorateClass([Property13],OhlcSeriesBaseProperties.prototype,"closeKey",2),__decorateClass([Property13],OhlcSeriesBaseProperties.prototype,"highKey",2),__decorateClass([Property13],OhlcSeriesBaseProperties.prototype,"lowKey",2),__decorateClass([Property13],OhlcSeriesBaseProperties.prototype,"xName",2),__decorateClass([Property13],OhlcSeriesBaseProperties.prototype,"yName",2),__decorateClass([Property13],OhlcSeriesBaseProperties.prototype,"openName",2),__decorateClass([Property13],OhlcSeriesBaseProperties.prototype,"closeName",2),__decorateClass([Property13],OhlcSeriesBaseProperties.prototype,"highName",2),__decorateClass([Property13],OhlcSeriesBaseProperties.prototype,"lowName",2);var OhlcSeriesProperties=class extends OhlcSeriesBaseProperties{constructor(){super(...arguments),this.tooltip=makeSeriesTooltip2(),this.item=new OhlcSeriesItems}getStyle(e){const{strokeWidth:t,strokeOpacity:i,stroke:a,lineDash:o,lineDashOffset:s}=this.item[e];return{stroke:a,strokeWidth:t,strokeOpacity:i,lineDash:o,lineDashOffset:s,opacity:1}}};__decorateClass([Property13],OhlcSeriesProperties.prototype,"tooltip",2),__decorateClass([Property13],OhlcSeriesProperties.prototype,"item",2),__decorateClass([Property13],OhlcSeriesProperties.prototype,"itemStyler",2);var{FillGradientDefaults:FillGradientDefaults2,FillPatternDefaults:FillPatternDefaults2,FillImageDefaults:FillImageDefaults2,BaseProperties:BaseProperties4,makeSeriesTooltip:makeSeriesTooltip3,Property:Property14}=import_ag_charts_community30._ModuleSupport,CandlestickSeriesWick=class extends BaseProperties4{};__decorateClass([Property14],CandlestickSeriesWick.prototype,"stroke",2),__decorateClass([Property14],CandlestickSeriesWick.prototype,"strokeWidth",2),__decorateClass([Property14],CandlestickSeriesWick.prototype,"strokeOpacity",2),__decorateClass([Property14],CandlestickSeriesWick.prototype,"lineDash",2),__decorateClass([Property14],CandlestickSeriesWick.prototype,"lineDashOffset",2);var CandlestickSeriesItem=class extends BaseProperties4{constructor(){super(...arguments),this.fill="#c16068",this.fillGradientDefaults=new FillGradientDefaults2,this.fillPatternDefaults=new FillPatternDefaults2,this.fillImageDefaults=new FillImageDefaults2,this.fillOpacity=1,this.stroke="#333",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.wick=new CandlestickSeriesWick}};__decorateClass([Property14],CandlestickSeriesItem.prototype,"fill",2),__decorateClass([Property14],CandlestickSeriesItem.prototype,"fillGradientDefaults",2),__decorateClass([Property14],CandlestickSeriesItem.prototype,"fillPatternDefaults",2),__decorateClass([Property14],CandlestickSeriesItem.prototype,"fillImageDefaults",2),__decorateClass([Property14],CandlestickSeriesItem.prototype,"fillOpacity",2),__decorateClass([Property14],CandlestickSeriesItem.prototype,"stroke",2),__decorateClass([Property14],CandlestickSeriesItem.prototype,"strokeWidth",2),__decorateClass([Property14],CandlestickSeriesItem.prototype,"strokeOpacity",2),__decorateClass([Property14],CandlestickSeriesItem.prototype,"lineDash",2),__decorateClass([Property14],CandlestickSeriesItem.prototype,"lineDashOffset",2),__decorateClass([Property14],CandlestickSeriesItem.prototype,"cornerRadius",2),__decorateClass([Property14],CandlestickSeriesItem.prototype,"wick",2);var CandlestickSeriesItems=class extends BaseProperties4{constructor(){super(...arguments),this.up=new CandlestickSeriesItem,this.down=new CandlestickSeriesItem}};__decorateClass([Property14],CandlestickSeriesItems.prototype,"up",2),__decorateClass([Property14],CandlestickSeriesItems.prototype,"down",2);var CandlestickSeriesProperties=class extends OhlcSeriesBaseProperties{constructor(){super(),this.item=new CandlestickSeriesItems,this.tooltip=makeSeriesTooltip3(),this.highlightStyle.deprecated=!1}getStyle(e){const{fill:t,fillOpacity:i,strokeWidth:a,strokeOpacity:o,stroke:s,lineDash:r,lineDashOffset:n,cornerRadius:l,wick:c}=this.item[e];return{fill:t,fillOpacity:i,stroke:s,strokeWidth:a,strokeOpacity:o,lineDash:r,lineDashOffset:n,cornerRadius:l,opacity:1,wick:c}}};__decorateClass([Property14],CandlestickSeriesProperties.prototype,"item",2),__decorateClass([Property14],CandlestickSeriesProperties.prototype,"tooltip",2),__decorateClass([Property14],CandlestickSeriesProperties.prototype,"itemStyler",2);var{isGradientFill,isPatternFill,isImageFill,getShapeFill,applyShapeStyle}=import_ag_charts_community31._ModuleSupport,CandlestickSeries=class extends OhlcSeriesBase{constructor(){super(...arguments),this.properties=new CandlestickSeriesProperties}nodeFactory(){return new CandlestickNode}updateDatumNodes({datumSelection:e,isHighlight:t}){const{item:i}=this.properties,{up:a,down:o}=i,{strokeWidth:s}=a,{strokeWidth:r}=o;e.each((n,l)=>{const{isRising:c,centerX:h,width:p,y:u,height:d,yOpen:y,yClose:g,crisp:m}=l,f=this.getItemStyle(l,t);n.centerX=h,n.width=p,n.y=u,n.height=d,n.yOpen=y,n.yClose=g,n.crisp=m,applyShapeStyle(n,f,this.getShapeFillBBox());const b=f?.wick;n.wickStroke=b?.stroke,n.wickStrokeWidth=b?.strokeWidth,n.wickStrokeOpacity=b?.strokeOpacity,n.wickLineDash=b?.lineDash,n.wickLineDashOffset=b?.lineDashOffset,n.strokeAlignment=(c?s:r)/2})}legendItemSymbol(){const{up:e,down:t}=this.properties.item,i=getShapeFill(e.fill,e.fillGradientDefaults,e.fillPatternDefaults,e.fillImageDefaults),a=isGradientFill(i)?i.colorStops.map(l=>typeof l=="string"?l:{color:l.color,stop:l.stop!=null?l.stop*.5:void 0}):[{color:isPatternFill(i)||isImageFill(i)?e.stroke:i,stop:0},{color:isPatternFill(i)||isImageFill(i)?e.stroke:i,stop:.5}],o=getShapeFill(t.fill,t.fillGradientDefaults,t.fillPatternDefaults,t.fillImageDefaults),s=isGradientFill(o)?o.colorStops.map(l=>typeof l=="string"?l:{color:l.color,stop:l.stop!=null?l.stop*.5:void 0}):[{color:isPatternFill(o)||isImageFill(o)?t.stroke:o,stop:.5}],r={type:"gradient",gradient:"linear",rotation:90,colorStops:[...a,...s],reverse:!1},n={type:"gradient",gradient:"linear",rotation:90,colorStops:[{color:e.stroke,stop:0},{color:e.stroke,stop:.5},{color:t.stroke,stop:.5}],reverse:!1};return{marker:{fill:r,fillOpacity:e.fillOpacity,stroke:n,strokeWidth:e.strokeWidth??1,strokeOpacity:e.strokeOpacity??1,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset}}}getLegendData(e){const{id:t,data:i,visible:a,ctx:{legendManager:o}}=this,{xKey:s,yName:r,showInLegend:n,legendItemName:l}=this.properties;return!i?.length||!s||e!=="category"?[]:[{legendType:"category",id:t,itemId:t,seriesId:t,enabled:a&&o.getItemEnabled({seriesId:t,itemId:t}),label:{text:l??r??t},symbol:this.legendItemSymbol(),legendItemName:l,hideInLegend:!n}]}hasItemStylers(){return this.properties.itemStyler!=null}};CandlestickSeries.className="CandleStickSeries",CandlestickSeries.type="candlestick";var import_ag_charts_community32=require("ag-charts-community"),import_ag_charts_core13=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs2,candlestickSeriesThemeableOptionsDef}=import_ag_charts_community32._ModuleSupport,candlestickSeriesOptionsDef={...commonSeriesOptionsDefs2,...candlestickSeriesThemeableOptionsDef,type:(0,import_ag_charts_core13.required)((0,import_ag_charts_core13.constant)("candlestick")),xKey:(0,import_ag_charts_core13.required)(import_ag_charts_core13.string),openKey:(0,import_ag_charts_core13.required)(import_ag_charts_core13.string),highKey:(0,import_ag_charts_core13.required)(import_ag_charts_core13.string),lowKey:(0,import_ag_charts_core13.required)(import_ag_charts_core13.string),closeKey:(0,import_ag_charts_core13.required)(import_ag_charts_core13.string),xName:import_ag_charts_core13.string,yName:import_ag_charts_core13.string,openName:import_ag_charts_core13.string,highName:import_ag_charts_core13.string,lowName:import_ag_charts_core13.string,closeName:import_ag_charts_core13.string};candlestickSeriesOptionsDef.pickOutsideVisibleMinorAxis=(0,import_ag_charts_core13.undocumented)(import_ag_charts_core13.boolean),candlestickSeriesOptionsDef.focusPriority=(0,import_ag_charts_core13.undocumented)(import_ag_charts_core13.number);var import_ag_charts_community33=require("ag-charts-community"),{ThemeConstants:{CARTESIAN_AXIS_TYPE:CARTESIAN_AXIS_TYPE2},multiSeriesHighlightStyle:multiSeriesHighlightStyle2}=import_ag_charts_community33._ModuleSupport;function itemTheme(e){return{fill:{$if:[{$eq:[{$palette:"type"},"user-indexed"]},e==="up"?"transparent":{$palette:"fill"},{$palette:`${e}.fill`}]},stroke:{$if:[{$eq:[{$palette:"type"},"user-indexed"]},{$palette:"stroke"},{$palette:`${e}.stroke`}]},fillGradientDefaults:import_ag_charts_community33._ModuleSupport.FILL_GRADIENT_LINEAR_SHADED_DEFAULTS(e),fillPatternDefaults:import_ag_charts_community33._ModuleSupport.FILL_PATTERN_DEFAULTS,fillImageDefaults:import_ag_charts_community33._ModuleSupport.FILL_IMAGE_DEFAULTS}}var CANDLESTICK_SERIES_THEME={series:{item:{up:itemTheme("up"),down:itemTheme("down")},highlightStyle:{item:{strokeWidth:3}},tooltip:{range:{$path:["/tooltip/range","nearest"]}},highlight:multiSeriesHighlightStyle2()},animation:{enabled:!1},axes:{[CARTESIAN_AXIS_TYPE2.NUMBER]:{crosshair:{snap:!1}},[CARTESIAN_AXIS_TYPE2.ORDINAL_TIME]:{groupPaddingInner:0,crosshair:{enabled:!0}}}},{CARTESIAN_AXIS_TYPE:CARTESIAN_AXIS_TYPE3,CARTESIAN_POSITION}=import_ag_charts_community34._ModuleSupport.ThemeConstants,CandlestickModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"candlestick",moduleFactory:e=>new CandlestickSeries(e),defaultAxes:[{type:CARTESIAN_AXIS_TYPE3.NUMBER,position:CARTESIAN_POSITION.LEFT},{type:CARTESIAN_AXIS_TYPE3.ORDINAL_TIME,position:CARTESIAN_POSITION.BOTTOM}],themeTemplate:CANDLESTICK_SERIES_THEME,groupable:!1},CandlestickSeriesModule={type:"series",name:"candlestick",chartType:"cartesian",enterprise:!0,options:candlestickSeriesOptionsDef,create:e=>new CandlestickSeries(e)},import_ag_charts_community41=require("ag-charts-community"),import_ag_charts_community38=require("ag-charts-community"),import_ag_charts_core15=require("ag-charts-core"),import_ag_charts_community35=require("ag-charts-community"),import_ag_charts_core14=require("ag-charts-core"),{CachedTextMeasurerPool,TextUtils:TextUtils2,TextWrapper:TextWrapper2}=import_ag_charts_community35._ModuleSupport;function generateLabelSecondaryLabelFontSizeCandidates(e,t){const{fontSize:i,minimumFontSize:a=i}=e,{fontSize:o,minimumFontSize:s=o}=t,r=i-a,n=o-s;let l=e.fontSize,c=t.fontSize;const h=[{labelFontSize:i,secondaryLabelFontSize:o}];for(;l>a||c>s;){const p=r>0?(l-a)/r:-1,u=n>0?(c-s)/n:-1;p>u?l--:c--,h.push({labelFontSize:l,secondaryLabelFontSize:c})}return h.reverse(),h}function getLineHeight(e,t){return e.lineHeight!=null&&e.fontSize!=null?e.lineHeight*t/e.fontSize:TextUtils2.getLineHeight(t)}function formatStackedLabels(e,t,i,a,{padding:o},s){const{spacing:r=0}=t,n=2*o,l=2*o+r,c=(t.minimumFontSize??t.fontSize)+(a.minimumFontSize??a.fontSize);if(c>s(c+l,!1).height-l)return;const h=generateLabelSecondaryLabelFontSizeCandidates(t,a),p={fontFamily:t.fontFamily,fontSize:t.fontSize,fontStyle:t.fontStyle,fontWeight:t.fontWeight},u={fontFamily:a.fontFamily,fontSize:a.fontSize,fontStyle:a.fontStyle,fontWeight:a.fontWeight};let d,y;return(0,import_ag_charts_core14.findMaxValue)(0,h.length-1,g=>{const{labelFontSize:m,secondaryLabelFontSize:f}=h[g],b=g===0,x=getLineHeight(t,m),S=getLineHeight(a,f),D=s(x+S+l,b),_=D.width-n,k=D.height-l;if(x+S>k||((d==null||d.fontSize!==m)&&(p.fontSize=m,d=wrapLabel(t,e,_,k,p,t.wrapping,b?t.overflowStrategy:"hide")),d==null||d.width>_||d.height>k)||((y==null||y.fontSize!==f)&&(u.fontSize=f,y=wrapLabel(a,i,_,k,u,a.wrapping,b?a.overflowStrategy:"hide")),y==null))return;const v=d.height+y.height;if(!(y.width>_||v>k))return{width:Math.max(d.width,y.width),height:v+r,meta:D.meta,label:d,secondaryLabel:y}})}function formatSingleLabel(e,t,{padding:i},a){const o=2*i,s=Math.min(t.minimumFontSize??t.fontSize,t.fontSize),r={fontFamily:t.fontFamily,fontSize:t.fontSize,fontStyle:t.fontStyle,fontWeight:t.fontWeight};return(0,import_ag_charts_core14.findMaxValue)(s,t.fontSize,n=>{const l=getLineHeight(t,n),c=n===s,h=a(l+o,c),p=h.width-o,u=h.height-o;if(l>u)return;r.fontSize=n;const d=TextWrapper2.wrapLines(e,{maxWidth:p,maxHeight:u,font:r,textWrap:t.wrapping,overflow:(c?t.overflowStrategy:void 0)??"hide"});if(!d.length)return;const y=clipLines(d,{lineHeight:l,font:r,maxWidth:p,maxHeight:u});if(y)return[{fontSize:n,lineHeight:l,...y},h.meta]})}function hasInvalidFontSize(e){return e?.minimumFontSize!=null&&e?.fontSize!=null&&e?.minimumFontSize>e?.fontSize}function formatLabels(e,t,i,a,o,s){const r=t.enabled?e:void 0,n=a.enabled?i:void 0;(hasInvalidFontSize(t)||hasInvalidFontSize(a))&&import_ag_charts_core14.Logger.warnOnce("minimumFontSize should be set to a value less than or equal to the font size");let l;r!=null&&n!=null&&(l=formatStackedLabels(r,t,n,a,o,s));let c;if(l==null&&r!=null&&(c=formatSingleLabel(r,t,o,s)),c!=null){const[p,u]=c;l={width:p.width,height:p.height,meta:u,label:p,secondaryLabel:void 0}}let h;if(l==null&&r==null&&n!=null&&(h=formatSingleLabel(n,a,o,s)),h!=null){const[p,u]=h;l={width:p.width,height:p.height,meta:u,label:void 0,secondaryLabel:p}}return l}function wrapLabel(e,t,i,a,o,s,r){const n=TextWrapper2.wrapLines(t,{maxWidth:i,maxHeight:a,font:o,textWrap:s,overflow:r});if(!n.length)return;const l=getLineHeight(e,o.fontSize),{width:c}=CachedTextMeasurerPool.measureLines(n,{font:o});return{width:c,lineHeight:l,text:n.join(`
`),height:n.length*l,fontSize:o.fontSize}}function clipLines(e,{font:t,lineHeight:i=TextUtils2.defaultLineHeight,maxWidth:a,maxHeight:o=1/0}){let s=i*e.length;for(;s>o;){if(e.length===1)return;e.pop(),e[e.length-1]=TextWrapper2.appendEllipsis(e.at(-1)),s=i*e.length}const r=CachedTextMeasurerPool.measureLines(e,{font:t});let n,l;if(r.width>a){const c=[];l=0;for(const h of r.lineMetrics){if(h.width>a){if(!c.length)return;break}c.push(h.text),l=Math.max(l,h.width)}n=TextWrapper2.appendEllipsis(c.join(`
`))}else n=e.join(`
`),l=r.width;return{text:n,width:l,height:s}}var import_ag_charts_community37=require("ag-charts-community"),import_ag_charts_community36=require("ag-charts-community"),{Property:Property15}=import_ag_charts_community36._ModuleSupport,BaseAutoSizedLabel=class extends import_ag_charts_community36._ModuleSupport.Label{constructor(){super(...arguments),this.wrapping="on-space",this.overflowStrategy="ellipsis"}};__decorateClass([Property15],BaseAutoSizedLabel.prototype,"wrapping",2),__decorateClass([Property15],BaseAutoSizedLabel.prototype,"overflowStrategy",2),__decorateClass([Property15],BaseAutoSizedLabel.prototype,"lineHeight",2),__decorateClass([Property15],BaseAutoSizedLabel.prototype,"minimumFontSize",2);var AutoSizedLabel=class extends BaseAutoSizedLabel{constructor(){super(...arguments),this.spacing=0}};__decorateClass([Property15],AutoSizedLabel.prototype,"spacing",2);var AutoSizedSecondaryLabel=class extends BaseAutoSizedLabel{},{CartesianSeriesProperties,makeSeriesTooltip:makeSeriesTooltip4,Property:Property16}=import_ag_charts_community37._ModuleSupport,HeatmapSeriesProperties=class extends CartesianSeriesProperties{constructor(){super(...arguments),this.colorRange=["black","black"],this.stroke="black",this.strokeOpacity=1,this.strokeWidth=0,this.textAlign="center",this.verticalAlign="middle",this.itemPadding=0,this.label=new AutoSizedLabel,this.tooltip=makeSeriesTooltip4()}};__decorateClass([Property16],HeatmapSeriesProperties.prototype,"title",2),__decorateClass([Property16],HeatmapSeriesProperties.prototype,"xKey",2),__decorateClass([Property16],HeatmapSeriesProperties.prototype,"yKey",2),__decorateClass([Property16],HeatmapSeriesProperties.prototype,"colorKey",2),__decorateClass([Property16],HeatmapSeriesProperties.prototype,"xName",2),__decorateClass([Property16],HeatmapSeriesProperties.prototype,"yName",2),__decorateClass([Property16],HeatmapSeriesProperties.prototype,"colorName",2),__decorateClass([Property16],HeatmapSeriesProperties.prototype,"colorRange",2),__decorateClass([Property16],HeatmapSeriesProperties.prototype,"stroke",2),__decorateClass([Property16],HeatmapSeriesProperties.prototype,"strokeOpacity",2),__decorateClass([Property16],HeatmapSeriesProperties.prototype,"strokeWidth",2),__decorateClass([Property16],HeatmapSeriesProperties.prototype,"textAlign",2),__decorateClass([Property16],HeatmapSeriesProperties.prototype,"verticalAlign",2),__decorateClass([Property16],HeatmapSeriesProperties.prototype,"itemPadding",2),__decorateClass([Property16],HeatmapSeriesProperties.prototype,"itemStyler",2),__decorateClass([Property16],HeatmapSeriesProperties.prototype,"label",2),__decorateClass([Property16],HeatmapSeriesProperties.prototype,"tooltip",2);var{SeriesNodePickMode:SeriesNodePickMode3,computeBarFocusBounds:computeBarFocusBounds3,getMissCount,valueProperty:valueProperty3,ChartAxisDirection:ChartAxisDirection8,DEFAULT_CARTESIAN_DIRECTION_KEYS,DEFAULT_CARTESIAN_DIRECTION_NAMES,createDatumId:createDatumId3,ColorScale,Rect:Rect2,PointerEvents,applyShapeStyle:applyShapeStyle2,mergeDefaults:mergeDefaults4,formatValue,addHitTestersToQuadtree,findQuadtreeMatch,updateLabelNode}=import_ag_charts_community38._ModuleSupport,HeatmapSeriesNodeEvent=class extends import_ag_charts_community38._ModuleSupport.CartesianSeriesNodeEvent{constructor(e,t,i,a){super(e,t,i,a),this.colorKey=a.properties.colorKey}},textAlignFactors={left:-.5,center:0,right:-.5},verticalAlignFactors={top:-.5,middle:0,bottom:-.5},HeatmapSeries=class extends import_ag_charts_community38._ModuleSupport.CartesianSeries{constructor(e){super({moduleCtx:e,propertyKeys:{...DEFAULT_CARTESIAN_DIRECTION_KEYS,color:["colorKey"]},propertyNames:{...DEFAULT_CARTESIAN_DIRECTION_NAMES,color:["colorName"]},categoryKey:void 0,pickModes:[SeriesNodePickMode3.NEAREST_NODE,SeriesNodePickMode3.EXACT_SHAPE_MATCH],pathsPerSeries:[]}),this.properties=new HeatmapSeriesProperties,this.NodeEvent=HeatmapSeriesNodeEvent,this.colorScale=new ColorScale}async processData(e){const t=this.axes[ChartAxisDirection8.X],i=this.axes[ChartAxisDirection8.Y];if(!t||!i||!this.data?.length)return;const{xKey:a,yKey:o,colorRange:s,colorKey:r}=this.properties,n=this.axes[ChartAxisDirection8.X]?.scale,l=this.axes[ChartAxisDirection8.Y]?.scale,{xScaleType:c,yScaleType:h}=this.getScaleInformation({xScale:n,yScale:l}),p=this.colorScale.type,{dataModel:u,processedData:d}=await this.requestDataModel(e,this.data,{props:[valueProperty3(a,c,{id:"xValue"}),valueProperty3(o,h,{id:"yValue"}),...r?[valueProperty3(r,p,{id:"colorValue",invalidValue:void 0})]:[]]});if(this.isColorScaleValid()){const y=u.resolveProcessedDataIndexById(this,"colorValue"),g=d.domain.values[y].filter(f=>f!=null),m=import_ag_charts_community38._ModuleSupport.extent(g);if(this.colorScale.domain=m??[],m?.length&&m[0]===m[1]){const f=Math.floor(s.length/2);this.colorScale.range=[s[f],s[f]]}else this.colorScale.range=s;this.colorScale.update()}}isColorScaleValid(){const{colorKey:e}=this.properties;if(!e)return!1;const{dataModel:t,processedData:i}=this;if(!t||!i)return!1;const a=t.resolveProcessedDataIndexById(this,"colorValue"),o=i.input.count,s=getMissCount(this,i.defs.values[a].missing),r=t.resolveProcessedDataIndexById(this,"colorValue"),n=i.domain.values[r].filter(c=>c!=null).length;return!(o===0||o===s||n===0)}xCoordinateRange(e,t){const i=this.axes[ChartAxisDirection8.X].scale,a=t*(i.bandwidth??0)/2,o=i.convert(e)+a,s=t*(i.bandwidth??10);return[o,o+s]}yCoordinateRange(e,t){const i=this.axes[ChartAxisDirection8.Y].scale,a=t*(i.bandwidth??0)/2,o=i.convert(e[0])+a,s=t*(i.bandwidth??10);return[o,o+s]}getSeriesDomain(e){const{dataModel:t,processedData:i}=this;return!t||!i?[]:e===ChartAxisDirection8.X?t.getDomain(this,"xValue","value",i):t.getDomain(this,"yValue","value",i)}getSeriesRange(e,t){return[NaN,NaN]}createNodeData(){const{data:e,visible:t,axes:i,dataModel:a,processedData:o}=this,s=i[ChartAxisDirection8.X],r=i[ChartAxisDirection8.Y];if(!(e&&a&&o&&t&&s&&r))return;if(s.type!=="category"||r.type!=="category"){import_ag_charts_core15.Logger.warnOnce(`Heatmap series expected axes to have "category" type, but received "${s.type}" and "${r.type}" instead.`);return}const{xKey:n,xName:l,yKey:c,yName:h,colorKey:p,colorName:u,textAlign:d,verticalAlign:y,itemPadding:g,label:m}=this.properties,f=a.resolveColumnById(this,"xValue",o),b=a.resolveColumnById(this,"yValue",o),x=p?a.resolveColumnById(this,"colorValue",o):void 0,S=p?a.getDomain(this,"colorValue","value",o):[],D=s.scale,_=r.scale,k=(D.bandwidth??0)/2,v=(_.bandwidth??0)/2,A=[],I=[],M=D.bandwidth??10,L=_.bandwidth??10,R=(M-2*g)*textAlignFactors[d],C=(L-2*g)*verticalAlignFactors[y],N=()=>({width:M,height:L,meta:null});return(o.dataSources.get(this.id)??[]).forEach((T,w)=>{const E=f[w],O=b[w],F=D.convert(E)+k,B=_.convert(O)+v,G=x?.[w],V=m.enabled&&G!=null?this.getLabelText(G,T,p,"color",S,m,{value:G,datum:T,colorKey:p,colorName:u,xKey:n,yKey:c,xName:l,yName:h}):void 0,K=formatLabels(V,this.properties.label,void 0,this.properties.label,{padding:g},N),W={x:F,y:B,size:0};if(A.push({series:this,itemId:c,datumIndex:w,yKey:c,xKey:n,xValue:E,yValue:O,colorValue:G,datum:T,point:W,width:M,height:L,midPoint:{x:F,y:B},missing:x!=null&&G==null}),K?.label!=null){const{text:z,fontSize:H,lineHeight:Y,height:j}=K.label,{fontStyle:$,fontFamily:q,fontWeight:J,color:ee}=this.properties.label,U=W.x+R*(M-2*g),X=W.y+C*(L-2*g)-(K.height-j)*.5;I.push({series:this,itemId:c,datum:T,datumIndex:w,text:z,fontSize:H,lineHeight:Y,fontStyle:$,fontFamily:q,fontWeight:J,color:ee,textAlign:d,textBaseline:y,x:U,y:X})}}),{itemId:this.properties.yKey??this.id,nodeData:A,labelData:I,scales:this.calculateScaling(),visible:this.visible}}nodeFactory(){return new Rect2}update(e){return this.ctx.animationManager.skipCurrentBatch(),super.update(e)}updateDatumSelection(e){const{nodeData:t,datumSelection:i}=e,a=t??[];return i.update(a)}getItemStyle({datumIndex:e,datum:t,colorValue:i},a){const{id:o,properties:s}=this,{xKey:r,yKey:n,itemStyler:l,stroke:c,strokeWidth:h,strokeOpacity:p}=s,u=this.getHighlightStyle(a,e),d=mergeDefaults4(u,{fill:this.isColorScaleValid()&&i!=null?this.colorScale.convert(i):"transparent",fillOpacity:1,stroke:c,strokeWidth:h,strokeOpacity:p,opacity:1});let y;return l!=null&&e!=null&&(y=this.cachedDatumCallback(createDatumId3(e,a?"highlight":"node"),()=>{const g=this.ctx.highlightManager?.getActiveHighlight(),m=this.getHighlightStateString(g,a,e);return this.callWithContext(l,{seriesId:o,datum:t,xKey:r,yKey:n,highlighted:a,highlightState:m,...d})})),y?mergeDefaults4(y,d):d}updateDatumNodes(e){const{isHighlight:t}=e,i=this.axes[ChartAxisDirection8.X],[a,o]=i?.visibleRange??[],r=!(a!==0||o!==1);e.datumSelection.each((n,l)=>{const{point:c,width:h,height:p}=l,u=this.getItemStyle(l,t);n.crisp=r,n.x=Math.floor(c.x-h/2),n.y=Math.floor(c.y-p/2),n.width=Math.ceil(h),n.height=Math.ceil(p),applyShapeStyle2(n,u)})}updateLabelSelection(e){const{labelData:t,labelSelection:i}=e,{enabled:a}=this.properties.label,o=a?t:[];return i.update(o)}updateLabelNodes(e){e.labelSelection.each((t,i)=>{t.pointerEvents=PointerEvents.None,t.text=i.text,t.fillOpacity=this.getHighlightStyle(!1,i.datumIndex)?.opacity??1,updateLabelNode(this,t,this.properties,this.properties.label,i)})}getTooltipContent(e){const{id:t,dataModel:i,processedData:a,axes:o,properties:s,colorScale:r,ctx:n}=this,{formatManager:l}=n,{xKey:c,xName:h,yKey:p,yName:u,colorKey:d,colorName:y,colorRange:g,title:m,legendItemName:f,tooltip:b}=s,x=o[ChartAxisDirection8.X],S=o[ChartAxisDirection8.Y];if(!i||!a||!x||!S)return;const D=a.dataSources.get(this.id)?.[e],_=i.resolveColumnById(this,"xValue",a)[e],k=i.resolveColumnById(this,"yValue",a)[e],v=d!=null&&this.isColorScaleValid()?i.resolveColumnById(this,"colorValue",a)[e]:void 0;if(_==null)return;const A=[];let I;if(v==null)I=g[0];else{I=r.convert(v);const R=i.getDomain(this,"colorValue","value",a),C=l.format(this.callWithContext.bind(this),{type:"number",value:v,datum:D,seriesId:t,legendItemName:f,key:d,source:"tooltip",property:"color",domain:R,boundSeries:this.getFormatterContext("color"),fractionDigits:void 0});A.push({label:y,fallbackLabel:d,value:C??formatValue(v)})}A.push({label:h,fallbackLabel:c,value:this.getAxisValueText(x,"tooltip",_,D,c,f)},{label:u,fallbackLabel:p,value:this.getAxisValueText(S,"tooltip",k,D,p,f)});const M=this.getItemStyle({datumIndex:e,datum:D,colorValue:v},!1);M.fill!=null&&(I=M.fill);const L=I!=null?{marker:{shape:"square",fill:I,fillOpacity:1,stroke:void 0,strokeWidth:0,strokeOpacity:1,lineDash:[0],lineDashOffset:0}}:void 0;return this.formatTooltipWithContext(b,{title:m??f,symbol:L,data:A},{seriesId:t,datum:D,title:m,xKey:c,xName:h,yKey:p,yName:u,colorKey:d,colorName:y,...M})}getLegendData(e){return e!=="gradient"||!this.isColorScaleValid()||!this.dataModel?[]:[{legendType:"gradient",enabled:this.visible,seriesId:this.id,series:this.getFormatterContext("color"),colorDomain:this.colorScale.domain,colorRange:this.colorScale.range}]}isLabelEnabled(){return this.properties.label.enabled&&!!this.properties.colorKey}getBandScalePadding(){return{inner:0,outer:0}}computeFocusBounds({datumIndex:e}){const t=this.contextNodeData?.nodeData[e];if(t===void 0)return;const{width:i,height:a,midPoint:o}=t,s={x:o.x-i/2,y:o.y-a/2,width:i,height:a};return computeBarFocusBounds3(this,s)}initQuadTree(e){addHitTestersToQuadtree(e,this.datumNodesIter())}pickNodesExactShape(e){const t=findQuadtreeMatch(this,e);return t!=null&&t.distance<=0?[t.datum]:[]}pickNodeClosestDatum(e){return findQuadtreeMatch(this,e)}hasItemStylers(){return this.properties.itemStyler!=null}};HeatmapSeries.className="HeatmapSeries",HeatmapSeries.type="heatmap";var import_ag_charts_community39=require("ag-charts-community"),import_ag_charts_core16=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs3,heatmapSeriesThemeableOptionsDef,without}=import_ag_charts_community39._ModuleSupport,heatmapSeriesOptionsDef={...without(heatmapSeriesThemeableOptionsDef,["showInLegend"]),...without(commonSeriesOptionsDefs3,["showInLegend"]),type:(0,import_ag_charts_core16.required)((0,import_ag_charts_core16.constant)("heatmap")),xKey:(0,import_ag_charts_core16.required)(import_ag_charts_core16.string),yKey:(0,import_ag_charts_core16.required)(import_ag_charts_core16.string),colorKey:import_ag_charts_core16.string,xName:import_ag_charts_core16.string,yName:import_ag_charts_core16.string,colorName:import_ag_charts_core16.string,colorRange:(0,import_ag_charts_core16.arrayOf)(import_ag_charts_core16.color)},import_ag_charts_community40=require("ag-charts-community"),HEATMAP_SERIES_THEME={series:{stroke:{$if:[{$eq:[{$palette:"type"},"inbuilt"]},{$ref:"chartBackgroundColor"},{$path:["/0",{$palette:"stroke"},{$palette:"strokes"}]}]},strokeWidth:{$isUserOption:["./stroke",2,void 0]},colorRange:{$if:[{$eq:[{$palette:"type"},"inbuilt"]},{$palette:"divergingColors"},import_ag_charts_community40._ModuleSupport.SAFE_RANGE2_OPERATION]},label:{...import_ag_charts_community40._ModuleSupport.LABEL_BOXING_DEFAULTS,enabled:!1,color:{$ref:"textColor"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},wrapping:"on-space",overflowStrategy:"ellipsis"},itemPadding:3,highlight:import_ag_charts_community40._ModuleSupport.singleSeriesHighlightStyle()},gradientLegend:{enabled:!0,...import_ag_charts_community40._ModuleSupport.LEGEND_CONTAINER_THEME}},{ThemeConstants:{CARTESIAN_AXIS_TYPE:CARTESIAN_AXIS_TYPE4,CARTESIAN_POSITION:CARTESIAN_POSITION2}}=import_ag_charts_community41._ModuleSupport,HeatmapModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"heatmap",moduleFactory:e=>new HeatmapSeries(e),defaultAxes:[{type:CARTESIAN_AXIS_TYPE4.CATEGORY,position:CARTESIAN_POSITION2.LEFT},{type:CARTESIAN_AXIS_TYPE4.CATEGORY,position:CARTESIAN_POSITION2.BOTTOM}],themeTemplate:HEATMAP_SERIES_THEME},HeatmapSeriesModule={type:"series",name:"heatmap",chartType:"cartesian",enterprise:!0,options:heatmapSeriesOptionsDef,create:e=>new HeatmapSeries(e)},import_ag_charts_community44=require("ag-charts-community"),import_ag_charts_community42=require("ag-charts-community"),{applyShapeStyle:applyShapeStyle3}=import_ag_charts_community42._ModuleSupport,OhlcSeries=class extends OhlcSeriesBase{constructor(){super(...arguments),this.properties=new OhlcSeriesProperties}nodeFactory(){return new OhlcNode}updateDatumNodes({datumSelection:e,isHighlight:t}){const{item:i}=this.properties,{up:a,down:o}=i,{strokeWidth:s}=a,{strokeWidth:r}=o;e.each((n,l)=>{const{isRising:c,centerX:h,width:p,y:u,height:d,yOpen:y,yClose:g,crisp:m}=l;n.centerX=h,n.width=p,n.y=u,n.height=d,n.yOpen=y,n.yClose=g,n.crisp=m;const f=this.getItemStyle(l,t);applyShapeStyle3(n,f),n.strokeAlignment=(c?s:r)/2})}getLegendData(e){const{id:t,data:i,ctx:{legendManager:a},visible:o}=this,{xKey:s,yName:r,item:{up:n,down:l},showInLegend:c,legendItemName:h}=this.properties;if(!i?.length||!s||e!=="category")return[];const p={type:"gradient",gradient:"linear",colorSpace:"rgb",colorStops:[{color:n.stroke,stop:0},{color:n.stroke,stop:.5},{color:l.stroke,stop:.5}],rotation:90};return[{legendType:"category",id:t,itemId:t,seriesId:t,enabled:o&&a.getItemEnabled({seriesId:t,itemId:t}),label:{text:h??r??t},symbol:{marker:{fill:p,fillOpacity:n.strokeOpacity,stroke:void 0,strokeWidth:0,strokeOpacity:1,lineDash:[0],lineDashOffset:0}},legendItemName:h,hideInLegend:!c}]}hasItemStylers(){return this.properties.itemStyler!=null}};OhlcSeries.className="ohlc",OhlcSeries.type="ohlc";var import_ag_charts_community43=require("ag-charts-community"),import_ag_charts_core17=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs4,ohlcSeriesThemeableOptionsDef}=import_ag_charts_community43._ModuleSupport,ohlcSeriesOptionsDef={...commonSeriesOptionsDefs4,...ohlcSeriesThemeableOptionsDef,type:(0,import_ag_charts_core17.required)((0,import_ag_charts_core17.constant)("ohlc")),xKey:(0,import_ag_charts_core17.required)(import_ag_charts_core17.string),openKey:(0,import_ag_charts_core17.required)(import_ag_charts_core17.string),highKey:(0,import_ag_charts_core17.required)(import_ag_charts_core17.string),lowKey:(0,import_ag_charts_core17.required)(import_ag_charts_core17.string),closeKey:(0,import_ag_charts_core17.required)(import_ag_charts_core17.string),xName:import_ag_charts_core17.string,yName:import_ag_charts_core17.string,openName:import_ag_charts_core17.string,highName:import_ag_charts_core17.string,lowName:import_ag_charts_core17.string,closeName:import_ag_charts_core17.string};ohlcSeriesOptionsDef.pickOutsideVisibleMinorAxis=(0,import_ag_charts_core17.undocumented)(import_ag_charts_core17.boolean),ohlcSeriesOptionsDef.focusPriority=(0,import_ag_charts_core17.undocumented)(import_ag_charts_core17.number);var{ThemeConstants:{CARTESIAN_AXIS_TYPE:CARTESIAN_AXIS_TYPE5,CARTESIAN_POSITION:CARTESIAN_POSITION3},multiSeriesHighlightStyle:multiSeriesHighlightStyle3}=import_ag_charts_community44._ModuleSupport,OhlcModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"ohlc",moduleFactory:e=>new OhlcSeries(e),defaultAxes:[{type:CARTESIAN_AXIS_TYPE5.NUMBER,position:CARTESIAN_POSITION3.LEFT},{type:CARTESIAN_AXIS_TYPE5.ORDINAL_TIME,position:CARTESIAN_POSITION3.BOTTOM}],themeTemplate:{animation:{enabled:!1},series:{item:{up:{stroke:{$if:[{$eq:[{$palette:"type"},"user-indexed"]},{$palette:"stroke"},{$palette:"up.stroke"}]}},down:{stroke:{$if:[{$eq:[{$palette:"type"},"user-indexed"]},{$palette:"stroke"},{$palette:"down.stroke"}]}}},tooltip:{range:{$path:["/tooltip/range","nearest"]}},highlight:multiSeriesHighlightStyle3(!1)},axes:{[CARTESIAN_AXIS_TYPE5.NUMBER]:{crosshair:{snap:!1}},[CARTESIAN_AXIS_TYPE5.ORDINAL_TIME]:{groupPaddingInner:0,crosshair:{enabled:!0}}}},groupable:!1},OhlcSeriesModule={type:"series",name:"ohlc",chartType:"cartesian",enterprise:!0,options:ohlcSeriesOptionsDef,create:e=>new OhlcSeries(e)},import_ag_charts_community51=require("ag-charts-community"),import_ag_charts_community48=require("ag-charts-community"),import_ag_charts_community45=require("ag-charts-community"),{AGGREGATION_INDEX_Y_MAX:AGGREGATION_INDEX_Y_MAX2,AGGREGATION_INDEX_Y_MIN:AGGREGATION_INDEX_Y_MIN2,aggregationDomain:aggregationDomain2,aggregationIndexForXRatio,aggregationRangeFittingPoints:aggregationRangeFittingPoints2,aggregationXRatioForXValue,compactAggregationIndices:compactAggregationIndices2,createAggregationIndices:createAggregationIndices2}=import_ag_charts_community45._ModuleSupport,AGGREGATION_THRESHOLD2=1e3;function aggregationContainsTopIndex(e,t,i,a,o,s){const r=e[s];if(r==null)return!1;const n=aggregationXRatioForXValue(r,t,i),l=aggregationIndexForXRatio(n,o);return s===a[l+AGGREGATION_INDEX_Y_MAX2]}function aggregationContainsBottomIndex(e,t,i,a,o,s){const r=e[s];if(r==null)return!1;const n=aggregationXRatioForXValue(r,t,i),l=aggregationIndexForXRatio(n,o);return s===a[l+AGGREGATION_INDEX_Y_MIN2]}function aggregateRangeAreaData(e,t,i,a,o){if(t.length<AGGREGATION_THRESHOLD2)return;const[s,r]=aggregationDomain2(e,o);let n=aggregationRangeFittingPoints2(t);const{indexData:l,valueData:c}=createAggregationIndices2(t,i,a,s,r,n);let h=[],p=[];for(let d=0;d<t.length;d+=1)aggregationContainsTopIndex(t,s,r,l,n,d)&&h.push(d),aggregationContainsBottomIndex(t,s,r,l,n,d)&&p.push(d);const u=[{maxRange:n,topIndices:h,bottomIndices:p}];for(;n>64;)({maxRange:n}=compactAggregationIndices2(l,c,n,{inPlace:!0})),h=h.filter(aggregationContainsTopIndex.bind(null,t,s,r,l,n)),p=p.filter(aggregationContainsBottomIndex.bind(null,t,s,r,l,n)),u.push({maxRange:n,topIndices:h,bottomIndices:p});return u.reverse(),u}var import_ag_charts_community46=require("ag-charts-community"),{CartesianSeriesProperties:CartesianSeriesProperties2,FillGradientDefaults:FillGradientDefaults3,FillPatternDefaults:FillPatternDefaults3,FillImageDefaults:FillImageDefaults3,InterpolationProperties,SeriesMarker,makeSeriesTooltip:makeSeriesTooltip5,Property:Property17,DropShadow,Label}=import_ag_charts_community46._ModuleSupport,RangeAreaSeriesLabel=class extends Label{constructor(){super(...arguments),this.placement="outside",this.spacing=0}};__decorateClass([Property17],RangeAreaSeriesLabel.prototype,"placement",2),__decorateClass([Property17],RangeAreaSeriesLabel.prototype,"spacing",2);var RangeAreaProperties=class extends CartesianSeriesProperties2{constructor(){super(...arguments),this.fill="#99CCFF",this.fillGradientDefaults=new FillGradientDefaults3,this.fillPatternDefaults=new FillPatternDefaults3,this.fillImageDefaults=new FillImageDefaults3,this.fillOpacity=1,this.stroke="#99CCFF",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.interpolation=new InterpolationProperties,this.shadow=new DropShadow().set({enabled:!1}),this.marker=new SeriesMarker,this.label=new RangeAreaSeriesLabel,this.tooltip=makeSeriesTooltip5(),this.connectMissingData=!1}};__decorateClass([Property17],RangeAreaProperties.prototype,"xKey",2),__decorateClass([Property17],RangeAreaProperties.prototype,"yLowKey",2),__decorateClass([Property17],RangeAreaProperties.prototype,"yHighKey",2),__decorateClass([Property17],RangeAreaProperties.prototype,"xName",2),__decorateClass([Property17],RangeAreaProperties.prototype,"yName",2),__decorateClass([Property17],RangeAreaProperties.prototype,"yLowName",2),__decorateClass([Property17],RangeAreaProperties.prototype,"yHighName",2),__decorateClass([Property17],RangeAreaProperties.prototype,"fill",2),__decorateClass([Property17],RangeAreaProperties.prototype,"fillGradientDefaults",2),__decorateClass([Property17],RangeAreaProperties.prototype,"fillPatternDefaults",2),__decorateClass([Property17],RangeAreaProperties.prototype,"fillImageDefaults",2),__decorateClass([Property17],RangeAreaProperties.prototype,"fillOpacity",2),__decorateClass([Property17],RangeAreaProperties.prototype,"stroke",2),__decorateClass([Property17],RangeAreaProperties.prototype,"strokeWidth",2),__decorateClass([Property17],RangeAreaProperties.prototype,"strokeOpacity",2),__decorateClass([Property17],RangeAreaProperties.prototype,"lineDash",2),__decorateClass([Property17],RangeAreaProperties.prototype,"lineDashOffset",2),__decorateClass([Property17],RangeAreaProperties.prototype,"interpolation",2),__decorateClass([Property17],RangeAreaProperties.prototype,"shadow",2),__decorateClass([Property17],RangeAreaProperties.prototype,"marker",2),__decorateClass([Property17],RangeAreaProperties.prototype,"label",2),__decorateClass([Property17],RangeAreaProperties.prototype,"tooltip",2),__decorateClass([Property17],RangeAreaProperties.prototype,"connectMissingData",2);var import_ag_charts_community47=require("ag-charts-community"),{CollapseMode,isScaleValid,pairUpSpans,prepareAreaFillAnimationFns,plotInterpolatedLinePathStroke,prepareLinePathPropertyAnimation,areScalingEqual}=import_ag_charts_community47._ModuleSupport;function prepareRangeAreaPathStrokeAnimationFns(e,t,i,a){const o=(l,c)=>{plotInterpolatedLinePathStroke(l,c,t.removed),plotInterpolatedLinePathStroke(l,c,i.removed)},s=(l,c)=>{plotInterpolatedLinePathStroke(l,c,t.moved),plotInterpolatedLinePathStroke(l,c,i.moved)},r=(l,c)=>{plotInterpolatedLinePathStroke(l,c,t.added),plotInterpolatedLinePathStroke(l,c,i.added)},n=prepareLinePathPropertyAnimation(e,a);return{status:e,path:{addPhaseFn:r,updatePhaseFn:s,removePhaseFn:o},pathProperties:n}}function prepareRangeAreaPathAnimation(e,t,i){const a=e.scales.x?.type==="category",o=t.scales.x?.type==="category";if(a!==o||!isScaleValid(e.scales.x)||!isScaleValid(t.scales.x))return;let s="updated";t.visible&&!e.visible?s="removed":!t.visible&&e.visible&&(s="added");const r=pairUpSpans({scales:e.scales,data:e.fillData.spans},{scales:t.scales,data:t.fillData.spans},CollapseMode.Split);if(r==null)return;const n=pairUpSpans({scales:e.scales,data:e.fillData.phantomSpans},{scales:t.scales,data:t.fillData.phantomSpans},CollapseMode.Split);if(n==null)return;const l=pairUpSpans({scales:e.scales,data:e.highStrokeData.spans},{scales:t.scales,data:t.highStrokeData.spans},CollapseMode.Split);if(l==null)return;const c=pairUpSpans({scales:e.scales,data:e.lowStrokeData.spans},{scales:t.scales,data:t.lowStrokeData.spans},CollapseMode.Split);if(c==null)return;const h="fade",p=prepareAreaFillAnimationFns(s,r,n,h),u=prepareRangeAreaPathStrokeAnimationFns(s,l,c,h),d=(i?.changed??!0)||!areScalingEqual(e.scales.x,t.scales.x)||!areScalingEqual(e.scales.y,t.scales.y)||s!=="updated";return{status:s,fill:p,stroke:u,hasMotion:d}}var{valueProperty:valueProperty4,keyProperty:keyProperty3,ChartAxisDirection:ChartAxisDirection9,mergeDefaults:mergeDefaults5,updateLabelNode:updateLabelNode2,fixNumericExtent:fixNumericExtent3,buildResetPathFn,resetLabelFn,resetMarkerFn,resetMarkerPositionFn,pathSwipeInAnimation,resetMotion,markerSwipeScaleInAnimation,seriesLabelFadeInAnimation,animationValidation:animationValidation3,diff:diff3,updateClipPath,computeMarkerFocusBounds,plotAreaPathFill,plotLinePathStroke,interpolatePoints,pathFadeInAnimation,markerFadeInAnimation,fromToMotion,pathMotion,extent,applyShapeFillBBox:applyShapeFillBBox2,PointerEvents:PointerEvents2,Marker,BBox:BBox5,findMinMax:findMinMax2,getShapeStyle:getShapeStyle3,getShapeFill:getShapeFill2,applyShapeStyle:applyShapeStyle4,processedDataIsAnimatable:processedDataIsAnimatable2,simpleMemorize2:simpleMemorize22}=import_ag_charts_community48._ModuleSupport,memoizedAggregateRangeAreaData=simpleMemorize22(aggregateRangeAreaData),RangeAreaSeriesNodeEvent=class extends import_ag_charts_community48._ModuleSupport.SeriesNodeEvent{constructor(e,t,i,a){super(e,t,i,a),this.xKey=a.properties.xKey,this.yLowKey=a.properties.yLowKey,this.yHighKey=a.properties.yHighKey}},RangeAreaSeries=class extends import_ag_charts_community48._ModuleSupport.CartesianSeries{constructor(e){super({moduleCtx:e,pathsPerSeries:["fill","stroke"],pickModes:[import_ag_charts_community48._ModuleSupport.SeriesNodePickMode.AXIS_ALIGNED],propertyKeys:{[ChartAxisDirection9.X]:["xKey"],[ChartAxisDirection9.Y]:["yLowKey","yHighKey"]},propertyNames:{[ChartAxisDirection9.X]:["xName"],[ChartAxisDirection9.Y]:["yLowName","yHighName","yName"]},categoryKey:"xValue",animationResetFns:{path:buildResetPathFn({getVisible:()=>this.visible,getOpacity:()=>this.getOpacity()}),label:resetLabelFn,datum:(t,i)=>({...resetMarkerFn(t),...resetMarkerPositionFn(t,i)})},clipFocusBox:!1}),this.properties=new RangeAreaProperties,this.NodeEvent=RangeAreaSeriesNodeEvent,this.dataAggregationFilters=void 0}async processData(e){const{xKey:t,yLowKey:i,yHighKey:a}=this.properties,o=this.axes[ChartAxisDirection9.X]?.scale,s=this.axes[ChartAxisDirection9.Y]?.scale,{xScaleType:r,yScaleType:n}=this.getScaleInformation({xScale:o,yScale:s}),l=[],c=!this.ctx.animationManager.isSkipped();!this.ctx.animationManager.isSkipped()&&this.processedData&&l.push(diff3(this.id,this.processedData)),c&&l.push(animationValidation3());const{dataModel:h,processedData:p}=await this.requestDataModel(e,this.data,{props:[keyProperty3(t,r,{id:"xValue"}),valueProperty4(i,n,{id:"yLowValue"}),valueProperty4(a,n,{id:"yHighValue"}),...l]});this.dataAggregationFilters=this.aggregateData(h,p),this.animationState.transition("updateData")}aggregateData(e,t){if(t.type!=="ungrouped"||processedDataIsAnimatable2(t))return;const i=this.axes[ChartAxisDirection9.X];if(i==null)return;const a=e.resolveKeysById(this,"xValue",t),o=e.resolveColumnById(this,"yHighValue",t),s=e.resolveColumnById(this,"yLowValue",t),{index:r}=e.resolveProcessedDataDefById(this,"xValue"),n=t.domain.keys[r];return memoizedAggregateRangeAreaData(i.scale.type,a,o,s,n)}xCoordinateRange(e){const t=this.axes[ChartAxisDirection9.X].scale.convert(e);return[t,t]}yCoordinateRange(e){const t=this.axes[ChartAxisDirection9.Y].scale.convert(e[0]);return[t,t]}getSeriesDomain(e){const{processedData:t,dataModel:i}=this;if(!(t&&i))return[];const{domain:{keys:[a]}}=t;if(e===ChartAxisDirection9.X){const o=i.resolveProcessedDataDefById(this,"xValue");return o?.def.type==="key"&&o.def.valueType==="category"?a:fixNumericExtent3(extent(a))}else{const o=this.domainForClippedRange(ChartAxisDirection9.Y,["yHighValue","yLowValue"],"xValue"),s=findMinMax2(o);return fixNumericExtent3(s)}}getSeriesRange(e,t){return this.domainForVisibleRange(ChartAxisDirection9.Y,["yHighValue","yLowValue"],"xValue",t)}createNodeData(){const{data:e,dataModel:t,processedData:i,axes:a}=this,o=a[ChartAxisDirection9.X],s=a[ChartAxisDirection9.Y];if(!(e&&o&&s&&t&&i))return;const r=o.scale,n=s.scale,{xKey:l,yLowKey:c,yHighKey:h,connectMissingData:p,marker:u,interpolation:d}=this.properties,y=i.dataSources.get(this.id)??[],g=(r.bandwidth??0)/2,m=t.resolveKeysById(this,"xValue",i),f=t.resolveColumnById(this,"yHighValue",i),b=t.resolveColumnById(this,"yLowValue",i),x=O=>r.convert(m[O])+g,S=[],D=[],_=[],k=(O,F,B)=>{const G=y[O],V=m[O];if(V==null)return;const K=_[_.length-1];if(Number.isFinite(F)&&Number.isFinite(B)){const W=(J,ee,U)=>{D.push({index:O,series:this,itemId:J,datum:G,datumIndex:O,midPoint:{x:H,y:U},yHighValue:F,yLowValue:B,xValue:V,xKey:l,yLowKey:c,yHighKey:h,point:{x:H,y:U,size:$},enabled:!0});const X=this.createLabelData({datumIndex:O,point:{x:H,y:U},value:ee,yLowValue:B,yHighValue:F,itemId:J,inverted:z,datum:G,series:this});S.push(X)},z=B>F,H=x(O),Y=n.convert(F),j=n.convert(B),{size:$}=u;W("high",F,Y),W("low",B,j);const q={high:{point:{x:H,y:Y},xDatum:V,yDatum:F},low:{point:{x:H,y:j},xDatum:V,yDatum:B}};Array.isArray(K)?K.push(q):K!=null?(K.skip+=1,_.push([q])):_.push([q])}else p||(Array.isArray(K)||K==null?_.push({skip:0}):K.skip+=1)},{dataAggregationFilters:v}=this,[A,I]=r.range,M=Math.abs(I-A),L=v?.find(O=>O.maxRange>M),R=L?.topIndices,C=L?.bottomIndices;let[N,P]=this.visibleRangeIndices("xValue",o.range,R);N=Math.max(N-1,0),P=Math.min(P+1,R?.length??m.length),i.input.count<1e3&&(N=0,P=i.input.count);for(let O=N;O<P;O+=1){const F=R?.[O]??O,B=C?.[O]??O;k(F,f[F],b[B])}const T=_.flatMap(O=>{if(!Array.isArray(O))return[];const F=O.map(B=>B.high);return interpolatePoints(F,d)}),w=_.flatMap(O=>{if(!Array.isArray(O))return[];const F=O.map(B=>B.low);return interpolatePoints(F,d)});return{itemId:`${c}-${h}`,labelData:S,nodeData:D,fillData:{itemId:"high",spans:T,phantomSpans:w},highStrokeData:{itemId:"high",spans:T},lowStrokeData:{itemId:"low",spans:w},scales:this.calculateScaling(),visible:this.visible}}createLabelData({datumIndex:e,point:t,value:i,itemId:a,inverted:o,datum:s,series:r}){const{xKey:n,yLowKey:l,yHighKey:c,xName:h,yName:p,yLowName:u,yHighName:d,label:y}=this.properties,{placement:g}=y,m=y.spacing+(typeof y.padding=="number"?y.padding:0);let f=a;o&&(f=a==="low"?"high":"low");const b=g==="outside"&&f==="high"||g==="inside"&&f==="low"?-1:1,x=this.getSeriesDomain(ChartAxisDirection9.Y);return{x:t.x,y:t.y+m*b,series:r,itemId:a,datum:s,datumIndex:e,text:this.getLabelText(i,s,a==="high"?c:l,"y",x,y,{value:i,datum:s,itemId:a,xKey:n,yLowKey:l,yHighKey:c,xName:h,yLowName:u,yHighName:d,yName:p}),textAlign:"center",textBaseline:b===-1?"bottom":"top"}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}updatePathNodes(e){const{visible:t}=e,[i,a]=e.paths,{strokeWidth:o,stroke:s,strokeOpacity:r,lineDash:n,lineDashOffset:l,fill:c,fillOpacity:h,opacity:p}=mergeDefaults5(this.getHighlightStyle(),this.properties);a.setProperties({fill:void 0,lineCap:"round",lineJoin:"round",pointerEvents:PointerEvents2.None,stroke:s,strokeWidth:o,strokeOpacity:r,lineDash:n,lineDashOffset:l,opacity:p,visible:t});const u=getShapeFill2(c,this.properties.fillGradientDefaults,this.properties.fillPatternDefaults,this.properties.fillImageDefaults),d=this.getShapeFillBBox();applyShapeFillBBox2(i,u,d),applyShapeStyle4(i,{stroke:void 0,fill:u,fillOpacity:h,lineDash:n,lineDashOffset:l,strokeOpacity:r,strokeWidth:o,opacity:p},d),i.setProperties({pointerEvents:PointerEvents2.None,lineJoin:"round",fillShadow:this.properties.shadow,opacity:p,visible:t}),updateClipPath(this,a),updateClipPath(this,i)}updatePaths(e){this.updateAreaPaths(e.paths,e.contextData)}updateAreaPaths(e,t){for(const i of e)i.visible=t.visible;if(t.visible)this.updateFillPath(e,t),this.updateStrokePath(e,t);else for(const i of e)i.path.clear(),i.markDirty("RangeArea")}updateFillPath(e,t){const[i]=e;i.path.clear(),plotAreaPathFill(i,t.fillData),i.markDirty("RangeArea")}updateStrokePath(e,t){const[,i]=e;i.path.clear(),plotLinePathStroke(i,t.highStrokeData.spans),plotLinePathStroke(i,t.lowStrokeData.spans),i.markDirty("RangeArea")}updateDatumSelection(e){const{nodeData:t,datumSelection:i}=e;return this.properties.marker.isDirty()&&(i.clear(),i.cleanup()),i.update(this.properties.marker.enabled?t:[])}updateDatumNodes(e){const{datumSelection:t,isHighlight:i}=e,{xKey:a,yLowKey:o,yHighKey:s,marker:r,fill:n,stroke:l,strokeWidth:c,fillOpacity:h,strokeOpacity:p}=this.properties,u=this.getShapeFillBBox();t.each((d,y)=>{const g={xKey:a,yHighKey:s,yLowKey:o},m=this.getMarkerStyle(r,y,g,i,void 0,{fill:n,fillOpacity:h,stroke:l,strokeWidth:c,strokeOpacity:p});this.applyMarkerStyle(m,d,y.point,u)}),i||this.properties.marker.markClean()}updateLabelSelection(e){const{labelData:t,labelSelection:i}=e;return i.update(t,a=>{a.pointerEvents=PointerEvents2.None})}updateLabelNodes(e){const t={xKey:this.properties.xKey,xName:this.properties.xName??this.properties.xKey,yName:this.properties.yName,yLowKey:this.properties.yLowKey,yLowName:this.properties.yLowName??this.properties.yLowKey,yHighKey:this.properties.yHighKey,yHighName:this.properties.yHighName??this.properties.yHighKey};e.labelSelection.each((i,a)=>{i.fillOpacity=this.getHighlightStyle(!1,a.datumIndex).opacity??1,updateLabelNode2(this,i,t,this.properties.label,a)})}getHighlightLabelData(e,t){const i=e.filter(a=>a.datum===t.datum);return i.length>0?i:void 0}getHighlightData(e,t){const i=e.filter(a=>a.datum===t.datum);return i.length>0?i:void 0}getTooltipContent(e,t){const{id:i,dataModel:a,processedData:o,axes:s,properties:r}=this,{xName:n,yName:l,yLowKey:c,yLowName:h,xKey:p,yHighKey:u,yHighName:d,tooltip:y,legendItemName:g}=r,m=s[ChartAxisDirection9.X],f=s[ChartAxisDirection9.Y];if(!a||!o||!m||!f)return;const b=o.dataSources.get(this.id)?.[e],x=a.resolveKeysById(this,"xValue",o)[e],S=a.resolveColumnById(this,"yHighValue",o)[e],D=a.resolveColumnById(this,"yLowValue",o)[e];if(x==null)return;const _=this.getMarkerStyle(this.properties.marker,{datumIndex:e,datum:b},{xKey:p,yLowKey:c,yHighKey:u},!1),k=`${this.getAxisValueText(f,"tooltip",D,b,c,g)} - ${this.getAxisValueText(f,"tooltip",S,b,u,g)}`;return this.formatTooltipWithContext(y,{heading:this.getAxisValueText(m,"tooltip",x,b,p,g),symbol:this.legendItemSymbol(),data:[{label:l,fallbackLabel:`${h??c} - ${d??u}`,value:k}]},{seriesId:i,datum:b,title:l,itemId:t?.itemId??"unknown",xName:n,yName:l,yLowKey:c,yLowName:h,xKey:p,yHighKey:u,yHighName:d,..._})}legendItemSymbol(){const{fill:e,stroke:t,strokeWidth:i,strokeOpacity:a,lineDash:o,marker:s}=this.properties;return{marker:getShapeStyle3({shape:s.shape,fill:s.fill??e,stroke:s.stroke??t,fillOpacity:s.fillOpacity,strokeOpacity:s.strokeOpacity,strokeWidth:s.strokeWidth,lineDash:s.lineDash,lineDashOffset:s.lineDashOffset},s.fillGradientDefaults,s.fillPatternDefaults,s.fillImageDefaults),line:{stroke:t,strokeOpacity:a,strokeWidth:i,lineDash:o}}}getLegendData(e){if(e!=="category")return[];const{id:t,visible:i}=this,{yLowKey:a,yHighKey:o,yName:s,yLowName:r,yHighName:n,showInLegend:l}=this.properties,c=s??`${r??a} - ${n??o}`,h=`${a}-${o}`;return[{legendType:"category",id:t,itemId:h,seriesId:t,enabled:i,label:{text:`${c}`},symbol:this.legendItemSymbol(),hideInLegend:!l}]}isLabelEnabled(){return this.properties.label.enabled}onDataChange(){}nodeFactory(){return new Marker}animateEmptyUpdateReady(e){const{datumSelection:t,labelSelection:i,contextData:a,paths:o}=e,{animationManager:s}=this.ctx;this.updateAreaPaths(o,a),pathSwipeInAnimation(this,s,...o),resetMotion([t],resetMarkerPositionFn),markerSwipeScaleInAnimation(this,s,t),seriesLabelFadeInAnimation(this,"labels",s,i)}animateReadyResize(e){const{contextData:t,paths:i}=e;this.updateAreaPaths(i,t),super.animateReadyResize(e)}animateWaitingUpdateReady(e){const{animationManager:t}=this.ctx,{datumSelection:i,labelSelection:a,contextData:o,paths:s,previousContextData:r}=e,[n,l]=s;if(n==null&&l==null)return;this.resetDatumAnimation(e),this.resetLabelAnimation(e);const c=()=>{this.resetPathAnimation(e),this.updateAreaPaths(s,o)},h=()=>{t.skipCurrentBatch(),c()};if(o==null||r==null){c(),markerFadeInAnimation(this,t,"added",i),pathFadeInAnimation(this,"fill_path_properties",t,"add",n),pathFadeInAnimation(this,"stroke_path_properties",t,"add",l),seriesLabelFadeInAnimation(this,"labels",t,a);return}const p=prepareRangeAreaPathAnimation(o,r,this.processedData?.reduced?.diff?.[this.id]);if(p===void 0){h();return}else if(p.status==="no-op")return;fromToMotion(this.id,"fill_path_properties",t,[n],p.fill.pathProperties),fromToMotion(this.id,"stroke_path_properties",t,[l],p.stroke.pathProperties),p.status==="added"?this.updateAreaPaths(s,o):p.status==="removed"?this.updateAreaPaths(s,r):(pathMotion(this.id,"fill_path_update",t,[n],p.fill.path),pathMotion(this.id,"stroke_path_update",t,[l],p.stroke.path)),p.hasMotion&&(markerFadeInAnimation(this,t,void 0,i),seriesLabelFadeInAnimation(this,"labels",t,a)),this.ctx.animationManager.animate({id:this.id,groupId:"reset_after_animation",phase:"trailing",from:{},to:{},onComplete:()=>this.updateAreaPaths(s,o)})}getFormattedMarkerStyle(e){const{xKey:t,yLowKey:i,yHighKey:a}=this.properties;return this.getMarkerStyle(this.properties.marker,e,{xKey:t,yLowKey:i,yHighKey:a},!0)}computeFocusBounds(e){const t=computeMarkerFocusBounds(this,e),i=computeMarkerFocusBounds(this,{...e,datumIndex:e.datumIndex+1});if(t&&i)return BBox5.merge([t,i])}isDatumEnabled(e,t){return t%2===0&&super.isDatumEnabled(e,t)}hasItemStylers(){return this.properties.marker.itemStyler!=null||this.properties.label.itemStyler!=null}};RangeAreaSeries.className="RangeAreaSeries",RangeAreaSeries.type="range-area";var import_ag_charts_community49=require("ag-charts-community"),import_ag_charts_core18=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs5,rangeAreaSeriesThemeableOptionsDef}=import_ag_charts_community49._ModuleSupport,rangeAreaSeriesOptionsDef={...commonSeriesOptionsDefs5,...rangeAreaSeriesThemeableOptionsDef,type:(0,import_ag_charts_core18.required)((0,import_ag_charts_core18.constant)("range-area")),xKey:(0,import_ag_charts_core18.required)(import_ag_charts_core18.string),yLowKey:(0,import_ag_charts_core18.required)(import_ag_charts_core18.string),yHighKey:(0,import_ag_charts_core18.required)(import_ag_charts_core18.string),xName:import_ag_charts_core18.string,yName:import_ag_charts_core18.string,yLowName:import_ag_charts_core18.string,yHighName:import_ag_charts_core18.string};rangeAreaSeriesOptionsDef.pickOutsideVisibleMinorAxis=(0,import_ag_charts_core18.undocumented)(import_ag_charts_core18.boolean),rangeAreaSeriesOptionsDef.focusPriority=(0,import_ag_charts_core18.undocumented)(import_ag_charts_core18.number);var import_ag_charts_community50=require("ag-charts-community"),RANGE_AREA_SERIES_THEME={series:{fill:{$palette:"fill"},fillGradientDefaults:import_ag_charts_community50._ModuleSupport.FILL_GRADIENT_LINEAR_DEFAULTS,fillPatternDefaults:import_ag_charts_community50._ModuleSupport.FILL_PATTERN_DEFAULTS,stroke:{$palette:"stroke"},fillOpacity:.7,nodeClickRange:"nearest",marker:{enabled:!1,fill:{$palette:"fill"},stroke:{$palette:"stroke"},fillGradientDefaults:import_ag_charts_community50._ModuleSupport.FILL_GRADIENT_RADIAL_REVERSED_DEFAULTS,fillPatternDefaults:import_ag_charts_community50._ModuleSupport.FILL_PATTERN_DEFAULTS,fillImageDefaults:import_ag_charts_community50._ModuleSupport.FILL_IMAGE_DEFAULTS,size:6,strokeWidth:2},label:{...import_ag_charts_community50._ModuleSupport.LABEL_BOXING_DEFAULTS,enabled:!1,placement:"outside",padding:{$isUserOption:["./spacing",0,10]},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}},interpolation:{type:"linear"},tooltip:{range:{$path:["/tooltip/range","nearest"]}},highlight:import_ag_charts_community50._ModuleSupport.multiSeriesHighlightStyle()},axes:{[import_ag_charts_community50._ModuleSupport.ThemeConstants.CARTESIAN_AXIS_TYPE.NUMBER]:{crosshair:{enabled:!0}}}},{ThemeConstants:{CARTESIAN_AXIS_TYPE:CARTESIAN_AXIS_TYPE6,CARTESIAN_POSITION:CARTESIAN_POSITION4}}=import_ag_charts_community51._ModuleSupport,RangeAreaModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"range-area",moduleFactory:e=>new RangeAreaSeries(e),defaultAxes:[{type:CARTESIAN_AXIS_TYPE6.NUMBER,position:CARTESIAN_POSITION4.LEFT},{type:CARTESIAN_AXIS_TYPE6.CATEGORY,position:CARTESIAN_POSITION4.BOTTOM}],themeTemplate:RANGE_AREA_SERIES_THEME},RangeAreaSeriesModule={type:"series",name:"range-area",chartType:"cartesian",enterprise:!0,options:rangeAreaSeriesOptionsDef,create:e=>new RangeAreaSeries(e)},import_ag_charts_community57=require("ag-charts-community"),import_ag_charts_community54=require("ag-charts-community"),import_ag_charts_community52=require("ag-charts-community"),{aggregationDomain:aggregationDomain3,aggregationRangeFittingPoints:aggregationRangeFittingPoints3,compactAggregationIndices:compactAggregationIndices3,createAggregationIndices:createAggregationIndices3}=import_ag_charts_community52._ModuleSupport,AGGREGATION_THRESHOLD3=1e3;function aggregateRangeBarData(e,t,i,a,o){if(t.length<AGGREGATION_THRESHOLD3)return;const[s,r]=aggregationDomain3(e,o);let n=aggregationRangeFittingPoints3(t),{indexData:l,valueData:c}=createAggregationIndices3(t,i,a,s,r,n);const h=[{maxRange:n,indexData:l}];for(;n>64;)({indexData:l,valueData:c,maxRange:n}=compactAggregationIndices3(l,c,n)),h.push({maxRange:n,indexData:l});return h.reverse(),h}var import_ag_charts_community53=require("ag-charts-community"),{AbstractBarSeriesProperties:AbstractBarSeriesProperties3,FillGradientDefaults:FillGradientDefaults4,FillPatternDefaults:FillPatternDefaults4,FillImageDefaults:FillImageDefaults4,makeSeriesTooltip:makeSeriesTooltip6,Property:Property18,DropShadow:DropShadow2,Label:Label2}=import_ag_charts_community53._ModuleSupport,RangeBarSeriesLabel=class extends Label2{constructor(){super(...arguments),this.placement="inside",this.spacing=0}};__decorateClass([Property18],RangeBarSeriesLabel.prototype,"placement",2),__decorateClass([Property18],RangeBarSeriesLabel.prototype,"spacing",2);var RangeBarProperties=class extends AbstractBarSeriesProperties3{constructor(){super(...arguments),this.fill="#99CCFF",this.fillGradientDefaults=new FillGradientDefaults4,this.fillPatternDefaults=new FillPatternDefaults4,this.fillImageDefaults=new FillImageDefaults4,this.fillOpacity=1,this.stroke="#99CCFF",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.shadow=new DropShadow2().set({enabled:!1}),this.label=new RangeBarSeriesLabel,this.tooltip=makeSeriesTooltip6()}getStyle(){const{fill:e,fillOpacity:t,stroke:i,strokeWidth:a,strokeOpacity:o,lineDash:s,lineDashOffset:r,cornerRadius:n}=this;return{fill:e,fillOpacity:t,stroke:i,strokeWidth:a,strokeOpacity:o,lineDash:s,lineDashOffset:r,cornerRadius:n,opacity:1}}};__decorateClass([Property18],RangeBarProperties.prototype,"xKey",2),__decorateClass([Property18],RangeBarProperties.prototype,"yLowKey",2),__decorateClass([Property18],RangeBarProperties.prototype,"yHighKey",2),__decorateClass([Property18],RangeBarProperties.prototype,"xName",2),__decorateClass([Property18],RangeBarProperties.prototype,"yName",2),__decorateClass([Property18],RangeBarProperties.prototype,"yLowName",2),__decorateClass([Property18],RangeBarProperties.prototype,"yHighName",2),__decorateClass([Property18],RangeBarProperties.prototype,"fill",2),__decorateClass([Property18],RangeBarProperties.prototype,"fillGradientDefaults",2),__decorateClass([Property18],RangeBarProperties.prototype,"fillPatternDefaults",2),__decorateClass([Property18],RangeBarProperties.prototype,"fillImageDefaults",2),__decorateClass([Property18],RangeBarProperties.prototype,"fillOpacity",2),__decorateClass([Property18],RangeBarProperties.prototype,"stroke",2),__decorateClass([Property18],RangeBarProperties.prototype,"strokeWidth",2),__decorateClass([Property18],RangeBarProperties.prototype,"strokeOpacity",2),__decorateClass([Property18],RangeBarProperties.prototype,"lineDash",2),__decorateClass([Property18],RangeBarProperties.prototype,"lineDashOffset",2),__decorateClass([Property18],RangeBarProperties.prototype,"cornerRadius",2),__decorateClass([Property18],RangeBarProperties.prototype,"itemStyler",2),__decorateClass([Property18],RangeBarProperties.prototype,"shadow",2),__decorateClass([Property18],RangeBarProperties.prototype,"label",2),__decorateClass([Property18],RangeBarProperties.prototype,"tooltip",2);var{SeriesNodePickMode:SeriesNodePickMode4,valueProperty:valueProperty5,keyProperty:keyProperty4,ChartAxisDirection:ChartAxisDirection10,checkCrisp,updateLabelNode:updateLabelNode3,SMALLEST_KEY_INTERVAL:SMALLEST_KEY_INTERVAL3,LARGEST_KEY_INTERVAL,diff:diff4,prepareBarAnimationFunctions,midpointStartingBarPosition,resetBarSelectionsFn,fixNumericExtent:fixNumericExtent4,seriesLabelFadeInAnimation:seriesLabelFadeInAnimation2,resetLabelFn:resetLabelFn2,animationValidation:animationValidation4,computeBarFocusBounds:computeBarFocusBounds4,visibleRangeIndices:visibleRangeIndices2,createDatumId:createDatumId4,ContinuousScale:ContinuousScale3,Rect:Rect3,PointerEvents:PointerEvents3,motion:motion2,applyShapeStyle:applyShapeStyle5,findMinMax:findMinMax3,getShapeStyle:getShapeStyle4,areScalingEqual:areScalingEqual2,processedDataIsAnimatable:processedDataIsAnimatable3,AGGREGATION_SPAN:AGGREGATION_SPAN2,AGGREGATION_INDEX_X_MAX:AGGREGATION_INDEX_X_MAX2,AGGREGATION_INDEX_X_MIN:AGGREGATION_INDEX_X_MIN2,AGGREGATION_INDEX_Y_MAX:AGGREGATION_INDEX_Y_MAX3,AGGREGATION_INDEX_Y_MIN:AGGREGATION_INDEX_Y_MIN3,mergeDefaults:mergeDefaults6,simpleMemorize2:simpleMemorize23}=import_ag_charts_community54._ModuleSupport,memoizedAggregateRangeBarData=simpleMemorize23(aggregateRangeBarData),RangeBarSeriesNodeEvent=class extends import_ag_charts_community54._ModuleSupport.SeriesNodeEvent{constructor(e,t,i,a){super(e,t,i,a),this.xKey=a.properties.xKey,this.yLowKey=a.properties.yLowKey,this.yHighKey=a.properties.yHighKey}},RangeBarSeries=class extends import_ag_charts_community54._ModuleSupport.AbstractBarSeries{constructor(e){super({moduleCtx:e,pickModes:[SeriesNodePickMode4.AXIS_ALIGNED,SeriesNodePickMode4.EXACT_SHAPE_MATCH],propertyKeys:{x:["xKey"],y:["yLowKey","yHighKey"]},propertyNames:{x:["xName"],y:["yLowName","yHighName","yName"]},categoryKey:"xValue",datumSelectionGarbageCollection:!1,animationResetFns:{datum:resetBarSelectionsFn,label:resetLabelFn2}}),this.properties=new RangeBarProperties,this.dataAggregationFilters=void 0,this.NodeEvent=RangeBarSeriesNodeEvent}async processData(e){const{xKey:t,yLowKey:i,yHighKey:a}=this.properties,o=this.getCategoryAxis()?.scale,s=this.getValueAxis()?.scale,{isContinuousX:r,xScaleType:n,yScaleType:l}=this.getScaleInformation({xScale:o,yScale:s}),c=[];this.ctx.animationManager.isSkipped()||(this.processedData&&c.push(diff4(this.id,this.processedData)),c.push(animationValidation4()));const h=this.visible?{}:{forceValue:0},{dataModel:p,processedData:u}=await this.requestDataModel(e,this.data,{props:[keyProperty4(t,n,{id:"xValue"}),valueProperty5(i,l,{id:"yLowValue",invalidValue:null,...h}),valueProperty5(a,l,{id:"yHighValue",invalidValue:null,...h}),...r?[SMALLEST_KEY_INTERVAL3,LARGEST_KEY_INTERVAL]:[],...c],groupByKeys:!1});this.smallestDataInterval=u.reduced?.smallestKeyInterval,this.largestDataInterval=u.reduced?.largestKeyInterval,this.dataAggregationFilters=this.aggregateData(p,u),this.animationState.transition("updateData")}aggregateData(e,t){if(t.type!=="ungrouped"||processedDataIsAnimatable3(t))return;const i=this.axes[ChartAxisDirection10.X];if(i==null)return;const a=e.resolveKeysById(this,"xValue",t),o=e.resolveColumnById(this,"yHighValue",t),s=e.resolveColumnById(this,"yLowValue",t),{index:r}=e.resolveProcessedDataDefById(this,"xValue"),n=t.domain.keys[r];return memoizedAggregateRangeBarData(i.scale.type,a,o,s,n)}getSeriesDomain(e){const{processedData:t,dataModel:i}=this;if(!t||!i)return[];const{keys:[a]}=t.domain;if(e===this.getCategoryDirection()){const o=i.resolveProcessedDataDefById(this,"xValue");return o?.def.type==="key"&&o?.def.valueType==="category"?a:this.padBandExtent(a)}else{const o=this.domainForClippedRange(e,["yHighValue","yLowValue"],"xValue"),s=findMinMax3(o);return fixNumericExtent4(s)}}getSeriesRange(e,t){return this.domainForVisibleRange(ChartAxisDirection10.Y,["yHighValue","yLowValue"],"xValue",t)}createNodeData(){const{data:e,dataModel:t,groupScale:i,processedData:a,visible:o}=this,s=this.getCategoryAxis(),r=this.getValueAxis();if(!(e&&s&&r&&t&&a?.dataSources))return;const n=s.scale,l=r.scale,c=this.getBarDirection()===ChartAxisDirection10.X,{xKey:h,yLowKey:p,yHighKey:u,strokeWidth:d}=this.properties,y=`${p}-${u}`,g={itemId:y,nodeData:[],labelData:[],scales:this.calculateScaling(),groupScale:this.getScaling(this.groupScale),visible:this.visible};if(!o)return g;const m=a.dataSources.get(this.id)??[],f=t.resolveKeysById(this,"xValue",a),b=t.resolveColumnById(this,"yLowValue",a),x=t.resolveColumnById(this,"yHighValue",a),{barWidth:S,groupIndex:D}=this.updateGroupScale(s),_=ContinuousScale3.is(n)?S*-.5:0,k=i.convert(String(D)),v=checkCrisp(s?.scale,s?.visibleRange,this.smallestDataInterval,this.largestDataInterval),A=P=>Math.round(n.convert(f[P]))+k+_,I=(P,T,w,E,O,F,B)=>{const G=m[P],V=f[P];if(V==null)return;const K=b[P],W=x[P];if(!Number.isFinite(K?.valueOf())||!Number.isFinite(W?.valueOf()))return;const[z,H]=K<W?[K,W]:[W,K],Y=Math.round(l.convert(F)),j=Math.round(l.convert(O)),$=Math.max(d,Math.abs(j-Y)),q={x:c?Math.min(Y,j):w,y:c?w:Math.min(Y,j),width:c?$:E,height:c?E:$},J={x:q.x+q.width/2,y:q.y+q.height/2},ee=this.createLabelData({datumIndex:P,rect:q,barAlongX:c,yLowValue:z,yHighValue:H,datum:G,series:this}),U={index:T,series:this,itemId:y,datum:G,datumIndex:P,xValue:V,yLowValue:K,yHighValue:W,yLowKey:p,yHighKey:u,xKey:h,x:q.x,y:q.y,width:q.width,height:q.height,midPoint:J,crisp:B,labels:ee};g.nodeData.push(U),g.labelData.push(...ee)},{dataAggregationFilters:M}=this,[L,R]=n.range,C=Math.abs(R-L),N=M?.find(P=>P.maxRange>C);if(N!=null){const{maxRange:P,indexData:T}=N,[w,E]=visibleRangeIndices2(1,P,s.range,O=>{const F=O*AGGREGATION_SPAN2,B=T[F+AGGREGATION_INDEX_X_MIN2],G=T[F+AGGREGATION_INDEX_X_MAX2];if(B===-1)return;const V=(B+G)/2|0;return[A(V),A(G)+S]});for(let O=w;O<E;O+=1){const F=O*AGGREGATION_SPAN2,B=T[F+AGGREGATION_INDEX_X_MIN2],G=T[F+AGGREGATION_INDEX_X_MAX2],V=T[F+AGGREGATION_INDEX_Y_MIN3],K=T[F+AGGREGATION_INDEX_Y_MAX3];if(B===-1)continue;const W=(B+G)/2|0;if(f[W]==null)continue;const H=A(W),Y=Math.abs(A(B)-A(G))+S,j=b[V],$=x[K];I(W,0,H,Y,j,$,!1)}}else if(a.type==="ungrouped"){const P=a.invalidData?.get(this.id);let[T,w]=this.visibleRangeIndices("xValue",s.range);a.input.count<1e3&&(T=0,w=a.input.count);for(let E=T;E<w;E+=1){if(P?.[E]===!0)continue;const O=A(E),F=S,B=b[E],G=x[E];I(E,0,O,F,B,G,v)}}else for(const{datumIndex:P,groupIndex:T}of t.forEachGroupDatum(this,a)){const w=A(P),E=S,O=b[P],F=x[P];I(P,T,w,E,O,F,v)}return g}createLabelData({datumIndex:e,rect:t,barAlongX:i,yLowValue:a,yHighValue:o,datum:s,series:r}){const{xKey:n,yLowKey:l,yHighKey:c,xName:h,yLowName:p,yHighName:u,yName:d,label:y}=this.properties,g={datum:s,xKey:n,yLowKey:l,yHighKey:c,xName:h,yLowName:p,yHighName:u,yName:d},{placement:m}=y,x=(y.spacing+(typeof y.padding=="number"?y.padding:0))*(m==="outside"?1:-1),S=this.getSeriesDomain(ChartAxisDirection10.Y),D={datumIndex:e,x:t.x+(i?-x:t.width/2),y:t.y+(i?t.height/2:t.height+x),textAlign:i?"left":"center",textBaseline:i?"middle":"bottom",text:this.getLabelText(a,s,l,"y",S,y,{itemId:"low",value:a,...g}),itemId:"low",datum:s,series:r},_={datumIndex:e,x:t.x+(i?t.width+x:t.width/2),y:t.y+(i?t.height/2:-x),textAlign:i?"right":"center",textBaseline:i?"middle":"top",text:this.getLabelText(o,s,c,"y",S,y,{itemId:"high",value:o,...g}),itemId:"high",datum:s,series:r};return m==="outside"&&(D.textAlign=i?"right":"center",D.textBaseline=i?"middle":"top",_.textAlign=i?"left":"center",_.textBaseline=i?"middle":"bottom"),[D,_]}nodeFactory(){return new Rect3}updateDatumSelection(e){const{nodeData:t,datumSelection:i}=e,a=t??[];return i.update(a,void 0,o=>this.getDatumId(o))}getItemStyle(e,t){const{id:i,properties:a}=this,{xKey:o,yHighKey:s,yLowKey:r,itemStyler:n,fillGradientDefaults:l,fillPatternDefaults:c,fillImageDefaults:h}=a,p=this.getHighlightStyle(t,e.datumIndex),u=mergeDefaults6(p,a.getStyle());let d=getShapeStyle4(u,l,c,h);if(n!=null&&e!=null){const y=this.cachedDatumCallback(createDatumId4(this.getDatumId(e),t?"highlight":"node"),()=>{const g=this.ctx.highlightManager?.getActiveHighlight(),m=this.getHighlightStateString(g,t,e.datumIndex);return this.callWithContext(n,{seriesId:i,datum:e.datum,xKey:o,yHighKey:s,yLowKey:r,highlighted:t,highlightState:m,...d})});y&&(d=getShapeStyle4(mergeDefaults6(y,d),l,c,h))}return d}updateDatumNodes(e){const{datumSelection:t,isHighlight:i}=e,a=this.getCategoryDirection()===ChartAxisDirection10.X,o=this.getShapeFillBBox();t.each((s,r)=>{const n=this.getItemStyle(r,i);applyShapeStyle5(s,n,o),s.cornerRadius=n.cornerRadius,s.visible=a?r.width>0:r.height>0,s.crisp=r.crisp})}getHighlightLabelData(e,t){const i=e.filter(a=>a.datum===t.datum);return i.length>0?i:void 0}updateLabelSelection(e){const t=this.properties.label.enabled?e.labelData:[];return e.labelSelection.update(t,i=>{i.pointerEvents=PointerEvents3.None})}updateLabelNodes(e){const t={xKey:this.properties.xKey,xName:this.properties.xName??this.properties.xKey,yName:this.properties.yName,yLowKey:this.properties.yLowKey,yLowName:this.properties.yLowName??this.properties.yLowKey,yHighKey:this.properties.yHighKey,yHighName:this.properties.yHighName??this.properties.yHighKey};e.labelSelection.each((i,a)=>{i.fillOpacity=this.getHighlightStyle(!1,a?.datumIndex).opacity??1,updateLabelNode3(this,i,t,this.properties.label,a)})}getTooltipContent(e){const{id:t,dataModel:i,processedData:a,properties:o}=this,{xKey:s,xName:r,yName:n,yLowKey:l,yHighKey:c,yLowName:h,yHighName:p,tooltip:u,legendItemName:d}=o,y=this.getCategoryAxis(),g=this.getValueAxis(),m=this.contextNodeData?.nodeData?.[e];if(!i||!a||!y||!g||!m)return;const f=a.dataSources.get(this.id)?.[e],b=i.resolveKeysById(this,"xValue",a)[e],x=i.resolveColumnById(this,"yHighValue",a)[e],S=i.resolveColumnById(this,"yLowValue",a)[e];if(b==null)return;const D=this.getItemStyle(m,!1),_=`${this.getAxisValueText(g,"tooltip",S,f,l,d)} - ${this.getAxisValueText(g,"tooltip",x,f,c,d)}`;return this.formatTooltipWithContext(u,{heading:this.getAxisValueText(y,"tooltip",b,f,s,d),symbol:this.legendItemSymbol(),data:[{label:n,fallbackLabel:`${h??l} - ${p??c}`,value:_}]},{seriesId:t,datum:f,title:n,xKey:s,xName:r,yName:n,yLowKey:l,yHighKey:c,yLowName:h,yHighName:p,...D})}legendItemSymbol(){const{fill:e,stroke:t,strokeWidth:i,fillOpacity:a,strokeOpacity:o,lineDash:s,lineDashOffset:r,fillGradientDefaults:n,fillPatternDefaults:l,fillImageDefaults:c}=this.properties;return{marker:getShapeStyle4({fill:e,stroke:t,fillOpacity:a,strokeOpacity:o,strokeWidth:i,lineDash:s,lineDashOffset:r},n,l,c)}}getLegendData(e){if(e!=="category")return[];const{id:t,visible:i}=this,{yName:a,yLowName:o,yHighName:s,yLowKey:r,yHighKey:n,showInLegend:l}=this.properties,c=a??`${o??r} - ${s??n}`,h=`${r}-${n}`;return[{legendType:"category",id:t,itemId:h,seriesId:t,enabled:i,label:{text:`${c}`},symbol:this.legendItemSymbol(),hideInLegend:!l}]}animateEmptyUpdateReady({datumSelection:e,labelSelection:t}){const i=prepareBarAnimationFunctions(midpointStartingBarPosition(this.isVertical(),"normal"));motion2.fromToMotion(this.id,"datums",this.ctx.animationManager,[e],i),seriesLabelFadeInAnimation2(this,"labels",this.ctx.animationManager,t)}animateWaitingUpdateReady(e){const{datumSelection:t,labelSelection:i,contextData:a,previousContextData:o}=e,s=import_ag_charts_community54._ModuleSupport.calculateDataDiff(this.id,t,this.getDatumId.bind(this),a,o,this.processedData);this.ctx.animationManager.stopByAnimationGroupId(this.id);const r=o==null?"fade":"normal",n=prepareBarAnimationFunctions(midpointStartingBarPosition(this.isVertical(),r));motion2.fromToMotion(this.id,"datums",this.ctx.animationManager,[t],n,(l,c)=>this.getDatumId(c),s),(s?.changed||!areScalingEqual2(a.groupScale,o?.groupScale))&&seriesLabelFadeInAnimation2(this,"labels",this.ctx.animationManager,i)}getDatumId(e){return`${e.xValue}`}isLabelEnabled(){return this.properties.label.enabled}onDataChange(){}computeFocusBounds({datumIndex:e}){return computeBarFocusBounds4(this,this.contextNodeData?.nodeData[e])}hasItemStylers(){return this.properties.itemStyler!=null}};RangeBarSeries.className="RangeBarSeries",RangeBarSeries.type="range-bar";var import_ag_charts_community55=require("ag-charts-community"),import_ag_charts_core19=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs6,rangeBarSeriesThemeableOptionsDef}=import_ag_charts_community55._ModuleSupport,rangeBarSeriesOptionsDef={...commonSeriesOptionsDefs6,...rangeBarSeriesThemeableOptionsDef,type:(0,import_ag_charts_core19.required)((0,import_ag_charts_core19.constant)("range-bar")),xKey:(0,import_ag_charts_core19.required)(import_ag_charts_core19.string),yLowKey:(0,import_ag_charts_core19.required)(import_ag_charts_core19.string),yHighKey:(0,import_ag_charts_core19.required)(import_ag_charts_core19.string),xName:import_ag_charts_core19.string,yName:import_ag_charts_core19.string,yLowName:import_ag_charts_core19.string,yHighName:import_ag_charts_core19.string};rangeBarSeriesOptionsDef.pickOutsideVisibleMinorAxis=(0,import_ag_charts_core19.undocumented)(import_ag_charts_core19.boolean),rangeBarSeriesOptionsDef.focusPriority=(0,import_ag_charts_core19.undocumented)(import_ag_charts_core19.number);var import_ag_charts_community56=require("ag-charts-community"),RANGE_BAR_SERIES_THEME={series:{direction:"vertical",fill:{$palette:"fill"},stroke:{$palette:"stroke"},fillGradientDefaults:import_ag_charts_community56._ModuleSupport.FILL_GRADIENT_LINEAR_DEFAULTS,fillPatternDefaults:import_ag_charts_community56._ModuleSupport.FILL_PATTERN_DEFAULTS,fillImageDefaults:import_ag_charts_community56._ModuleSupport.FILL_IMAGE_DEFAULTS,strokeWidth:{$isUserOption:["./stroke",2,0]},label:{...import_ag_charts_community56._ModuleSupport.LABEL_BOXING_DEFAULTS,enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"chartBackgroundColor"},placement:"inside",padding:{$isUserOption:["./spacing",0,6]}},highlight:import_ag_charts_community56._ModuleSupport.multiSeriesHighlightStyle()},axes:{[import_ag_charts_community56._ModuleSupport.ThemeConstants.CARTESIAN_AXIS_TYPE.NUMBER]:{crosshair:{enabled:!0}}}},RangeBarModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"range-bar",moduleFactory:e=>new RangeBarSeries(e),defaultAxes:import_ag_charts_community57._ModuleSupport.DIRECTION_SWAP_AXES,themeTemplate:RANGE_BAR_SERIES_THEME,groupable:!0},RangeBarSeriesModule={type:"series",name:"range-bar",chartType:"cartesian",enterprise:!0,options:rangeBarSeriesOptionsDef,create:e=>new RangeBarSeries(e)},import_ag_charts_community62=require("ag-charts-community"),import_ag_charts_community59=require("ag-charts-community"),import_ag_charts_community58=require("ag-charts-community"),{AbstractBarSeriesProperties:AbstractBarSeriesProperties4,BaseProperties:BaseProperties5,FillGradientDefaults:FillGradientDefaults5,FillPatternDefaults:FillPatternDefaults5,FillImageDefaults:FillImageDefaults5,PropertiesArray,makeSeriesTooltip:makeSeriesTooltip7,Property:Property19,DropShadow:DropShadow3,Label:Label3}=import_ag_charts_community58._ModuleSupport,WaterfallSeriesTotal=class extends BaseProperties5{};__decorateClass([Property19],WaterfallSeriesTotal.prototype,"totalType",2),__decorateClass([Property19],WaterfallSeriesTotal.prototype,"index",2),__decorateClass([Property19],WaterfallSeriesTotal.prototype,"axisLabel",2);var WaterfallSeriesItemTooltip=class extends BaseProperties5{};__decorateClass([Property19],WaterfallSeriesItemTooltip.prototype,"renderer",2);var WaterfallSeriesLabel=class extends Label3{constructor(){super(...arguments),this.placement="outside-end",this.spacing=0}};__decorateClass([Property19],WaterfallSeriesLabel.prototype,"placement",2),__decorateClass([Property19],WaterfallSeriesLabel.prototype,"spacing",2);var WaterfallSeriesItem=class extends BaseProperties5{constructor(){super(...arguments),this.fill="#c16068",this.fillGradientDefaults=new FillGradientDefaults5,this.fillPatternDefaults=new FillPatternDefaults5,this.fillImageDefaults=new FillImageDefaults5,this.stroke="#c16068",this.fillOpacity=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.strokeWidth=1,this.cornerRadius=0,this.shadow=new DropShadow3().set({enabled:!1}),this.label=new WaterfallSeriesLabel,this.tooltip=new WaterfallSeriesItemTooltip}};__decorateClass([Property19],WaterfallSeriesItem.prototype,"name",2),__decorateClass([Property19],WaterfallSeriesItem.prototype,"fill",2),__decorateClass([Property19],WaterfallSeriesItem.prototype,"fillGradientDefaults",2),__decorateClass([Property19],WaterfallSeriesItem.prototype,"fillPatternDefaults",2),__decorateClass([Property19],WaterfallSeriesItem.prototype,"fillImageDefaults",2),__decorateClass([Property19],WaterfallSeriesItem.prototype,"stroke",2),__decorateClass([Property19],WaterfallSeriesItem.prototype,"fillOpacity",2),__decorateClass([Property19],WaterfallSeriesItem.prototype,"strokeOpacity",2),__decorateClass([Property19],WaterfallSeriesItem.prototype,"lineDash",2),__decorateClass([Property19],WaterfallSeriesItem.prototype,"lineDashOffset",2),__decorateClass([Property19],WaterfallSeriesItem.prototype,"strokeWidth",2),__decorateClass([Property19],WaterfallSeriesItem.prototype,"cornerRadius",2),__decorateClass([Property19],WaterfallSeriesItem.prototype,"itemStyler",2),__decorateClass([Property19],WaterfallSeriesItem.prototype,"shadow",2),__decorateClass([Property19],WaterfallSeriesItem.prototype,"label",2),__decorateClass([Property19],WaterfallSeriesItem.prototype,"tooltip",2);var WaterfallSeriesConnectorLine=class extends BaseProperties5{constructor(){super(...arguments),this.enabled=!0,this.stroke="black",this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.strokeWidth=2}};__decorateClass([Property19],WaterfallSeriesConnectorLine.prototype,"enabled",2),__decorateClass([Property19],WaterfallSeriesConnectorLine.prototype,"stroke",2),__decorateClass([Property19],WaterfallSeriesConnectorLine.prototype,"strokeOpacity",2),__decorateClass([Property19],WaterfallSeriesConnectorLine.prototype,"lineDash",2),__decorateClass([Property19],WaterfallSeriesConnectorLine.prototype,"lineDashOffset",2),__decorateClass([Property19],WaterfallSeriesConnectorLine.prototype,"strokeWidth",2);var WaterfallSeriesItems=class extends BaseProperties5{constructor(){super(...arguments),this.positive=new WaterfallSeriesItem,this.negative=new WaterfallSeriesItem,this.total=new WaterfallSeriesItem}};__decorateClass([Property19],WaterfallSeriesItems.prototype,"positive",2),__decorateClass([Property19],WaterfallSeriesItems.prototype,"negative",2),__decorateClass([Property19],WaterfallSeriesItems.prototype,"total",2);var WaterfallSeriesProperties=class extends AbstractBarSeriesProperties4{constructor(){super(...arguments),this.item=new WaterfallSeriesItems,this.totals=new PropertiesArray(WaterfallSeriesTotal),this.line=new WaterfallSeriesConnectorLine,this.tooltip=makeSeriesTooltip7()}getStyle(e){const{fillOpacity:t,strokeWidth:i,strokeOpacity:a,fill:o,stroke:s,lineDash:r,lineDashOffset:n,cornerRadius:l}=this.item[e==="subtotal"?"total":e];return{fill:o,fillOpacity:t,stroke:s,strokeWidth:i,strokeOpacity:a,lineDash:r,lineDashOffset:n,cornerRadius:l,opacity:1}}};__decorateClass([Property19],WaterfallSeriesProperties.prototype,"xKey",2),__decorateClass([Property19],WaterfallSeriesProperties.prototype,"yKey",2),__decorateClass([Property19],WaterfallSeriesProperties.prototype,"xName",2),__decorateClass([Property19],WaterfallSeriesProperties.prototype,"yName",2),__decorateClass([Property19],WaterfallSeriesProperties.prototype,"item",2),__decorateClass([Property19],WaterfallSeriesProperties.prototype,"totals",2),__decorateClass([Property19],WaterfallSeriesProperties.prototype,"line",2),__decorateClass([Property19],WaterfallSeriesProperties.prototype,"tooltip",2);var{adjustLabelPlacement,SeriesNodePickMode:SeriesNodePickMode5,fixNumericExtent:fixNumericExtent5,valueProperty:valueProperty6,keyProperty:keyProperty5,accumulativeValueProperty,trailingAccumulatedValueProperty,ChartAxisDirection:ChartAxisDirection11,createDatumId:createDatumId5,checkCrisp:checkCrisp2,updateLabelNode:updateLabelNode4,prepareBarAnimationFunctions:prepareBarAnimationFunctions2,collapsedStartingBarPosition,resetBarSelectionsFn:resetBarSelectionsFn2,seriesLabelFadeInAnimation:seriesLabelFadeInAnimation3,resetLabelFn:resetLabelFn3,animationValidation:animationValidation5,DEFAULT_CARTESIAN_DIRECTION_KEYS:DEFAULT_CARTESIAN_DIRECTION_KEYS2,DEFAULT_CARTESIAN_DIRECTION_NAMES:DEFAULT_CARTESIAN_DIRECTION_NAMES2,computeBarFocusBounds:computeBarFocusBounds5,isContinuous,Rect:Rect4,motion:motion3,applyShapeStyle:applyShapeStyle6,getShapeStyle:getShapeStyle5,mergeDefaults:mergeDefaults7}=import_ag_charts_community59._ModuleSupport,WaterfallSeries=class extends import_ag_charts_community59._ModuleSupport.AbstractBarSeries{constructor(e){super({moduleCtx:e,propertyKeys:DEFAULT_CARTESIAN_DIRECTION_KEYS2,propertyNames:DEFAULT_CARTESIAN_DIRECTION_NAMES2,categoryKey:void 0,pickModes:[SeriesNodePickMode5.NEAREST_NODE,SeriesNodePickMode5.EXACT_SHAPE_MATCH],pathsPerSeries:["connector"],pathsZIndexSubOrderOffset:[-1,-1],animationResetFns:{datum:resetBarSelectionsFn2,label:resetLabelFn3}}),this.properties=new WaterfallSeriesProperties,this.seriesItemTypes=new Set(["positive","negative","total"])}async processData(e){const{xKey:t,yKey:i,totals:a}=this.properties,{data:o=[]}=this;if(!this.visible)return;const s=b=>isContinuous(b)&&Number(b)>=0,r=b=>isContinuous(b)&&Number(b)>=0,n=b=>b==="total"||b==="subtotal",l={missingValue:void 0,invalidValue:void 0},c=[],h=a.reduce((b,x)=>{const S=b.get(x.index);return S?S.push(x):b.set(x.index,[x]),b},new Map);o.forEach((b,x)=>{c.push(b),h.get(x)?.forEach(S=>c.push({...S.toJson(),[t]:S.axisLabel}))});const p=[];this.ctx.animationManager.isSkipped()||p.push(animationValidation5());const u=this.getCategoryAxis()?.scale,d=this.getValueAxis()?.scale,{isContinuousX:y,xScaleType:g,yScaleType:m}=this.getScaleInformation({xScale:u,yScale:d}),{processedData:f}=await this.requestDataModel(e,c,{props:[keyProperty5(t,g,{id:"xValue"}),accumulativeValueProperty(i,m,{...l,id:"yCurrent"}),accumulativeValueProperty(i,m,{...l,missingValue:0,id:"yCurrentTotal"}),accumulativeValueProperty(i,m,{...l,id:"yCurrentPositive",validation:s}),accumulativeValueProperty(i,m,{...l,id:"yCurrentNegative",validation:r}),trailingAccumulatedValueProperty(i,m,{...l,id:"yPrevious"}),valueProperty6(i,m,{id:"yRaw"}),valueProperty6("totalType","category",{id:"totalTypeValue",missingValue:void 0,validation:n}),...y?[import_ag_charts_community59._ModuleSupport.SMALLEST_KEY_INTERVAL,import_ag_charts_community59._ModuleSupport.LARGEST_KEY_INTERVAL]:[],...p]});this.smallestDataInterval=f.reduced?.smallestKeyInterval,this.largestDataInterval=f.reduced?.largestKeyInterval,this.updateSeriesItemTypes(),this.animationState.transition("updateData")}getSeriesDomain(e){const{processedData:t,dataModel:i}=this;if(!t||!i)return[];const{keys:[a],values:o}=t.domain;if(e===this.getCategoryDirection()){const s=i.resolveProcessedDataDefById(this,"xValue");if(s?.def.type==="key"&&s?.def.valueType==="category")return a;const r=e===ChartAxisDirection11.Y,n=this.getCategoryAxis().isReversed();return this.padBandExtent(a,n!==r)}else{const s=i.resolveProcessedDataIndexById(this,"yCurrent"),r=o[s],n=[Math.min(0,r[0]),Math.max(0,r[1])];return fixNumericExtent5(n)}}getSeriesRange(e,t){return[NaN,NaN]}createNodeData(){const{data:e,dataModel:t,processedData:i}=this,a=this.getCategoryAxis(),o=this.getValueAxis();if(!e||!a||!o||!t||!i)return;const{line:s}=this.properties,r=a.scale,n=o.scale,l=this.getBarDirection()===ChartAxisDirection11.X,c=this.getBandwidth(a)??10,h=a.isReversed(),p=o.isReversed();if(i.type!=="ungrouped")return;const u={itemId:this.properties.yKey,nodeData:[],labelData:[],pointData:[],scales:this.calculateScaling(),groupScale:this.getScaling(this.groupScale),visible:this.visible};if(!this.visible)return u;const d=[],y=t.resolveKeysById(this,"xValue",i),g=t.resolveColumnById(this,"yRaw",i),m=t.resolveColumnById(this,"totalTypeValue",i),f=t.resolveColumnById(this,"yCurrent",i),b=t.resolveColumnById(this,"yPrevious",i),x=t.resolveColumnById(this,"yCurrentTotal",i),S=this.getSeriesDomain(ChartAxisDirection11.Y),D=checkCrisp2(a?.scale,a?.visibleRange,this.smallestDataInterval,this.largestDataInterval);function _(N,P,T){return N||P?{cumulativeValue:x[T],trailingValue:P?v:0}:{cumulativeValue:f[T],trailingValue:b[T]}}function k(N,P,T,w,E){return N?w:P?(w??0)-(E??0):T}let v=0;const{xKey:A,yKey:I,xName:M,yName:L}=this.properties;(i.dataSources.get(this.id)??[]).forEach((N,P)=>{const T=m[P],w=this.isSubtotal(T),E=this.isTotal(T),O=E||w,F=y[P];if(F==null)return;const B=Math.round(r.convert(F)),G=g[P],{cumulativeValue:V,trailingValue:K}=_(E,w,P);O&&(v=V??0);const W=Math.round(n.convert(V)),z=Math.round(n.convert(K)),H=k(E,w,G,V,K),Y=(H??0)>=0,j=this.getSeriesItemType(Y,T),{strokeWidth:$,label:q}=this.getItemConfig(j),J=Y?W:z,ee=Y?z:W,U=Math.max($,Math.abs(ee-J)),X={x:l?Math.min(J,ee):B,y:l?B:Math.min(J,ee),width:l?U:c,height:l?c:U},ie={x:X.x+X.width/2,y:X.y+X.height/2},Z=O?W:z,te=Math.floor(s.strokeWidth)%2/2,Q=h?W:Z,ae=h?Z:W;let oe,se;l?(oe={x:Q+te,y:X.y},se={x:ae+te,y:X.y+X.height}):(oe={x:X.x,y:Q+te},se={x:X.x+X.width,y:ae+te});const ne={x:h?se.x:oe.x,y:h?se.y:oe.y,x2:h?oe.x:se.x,y2:h?oe.y:se.y,size:0};d.push(ne);const re=j==="subtotal"?"total":j,le=this.getLabelText(H,N,I,"y",S,q,{itemId:re,value:H,datum:N,xKey:A,yKey:I,xName:M,yName:L}),ce=q.spacing+(typeof q.padding=="number"?q.padding:0),he={index:P,series:this,itemId:j,datum:N,datumIndex:P,cumulativeValue:V??0,xValue:F,yValue:H,yKey:I,xKey:A,x:X.x,y:X.y,width:X.width,height:X.height,midPoint:ie,crisp:D,label:{text:le,...adjustLabelPlacement({isUpward:(H??-1)>=0!==p,isVertical:!l,placement:q.placement,spacing:ce,rect:X})}};u.nodeData.push(he),u.labelData.push(he)});const C=this.properties.line.enabled;return f!=null&&C&&(u.pointData=d),u}updateSeriesItemTypes(){const{dataModel:e,seriesItemTypes:t,processedData:i}=this;if(!e||!i)return;t.clear();const a=e.resolveProcessedDataIndexById(this,"yCurrentPositive"),o=e.resolveProcessedDataIndexById(this,"yCurrentNegative"),s=e.resolveProcessedDataIndexById(this,"totalTypeValue"),r=i.domain.values[a]??[],n=i.domain.values[o]??[];r.length>0&&t.add("positive"),n.length>0&&t.add("negative");const l=i?.domain.values[s];l&&l.forEach(c=>{(c==="total"||c==="subtotal")&&t.add("total")})}isSubtotal(e){return e==="subtotal"}isTotal(e){return e==="total"}nodeFactory(){return new Rect4}getSeriesItemType(e,t){return t??(e?"positive":"negative")}getItemConfig(e){switch(e){case"positive":return this.properties.item.positive;case"negative":return this.properties.item.negative;case"subtotal":case"total":return this.properties.item.total}}updateDatumSelection(e){const{nodeData:t,datumSelection:i}=e,a=t??[];return i.update(a)}getItemStyle({datumIndex:e=0,datum:t,itemId:i="total"},a){const{id:o,properties:s}=this,r=s.item[i==="subtotal"?"total":i],n=this.getHighlightStyle(a,e),l=mergeDefaults7(n,s.getStyle(i)),{itemStyler:c,fillGradientDefaults:h,fillPatternDefaults:p,fillImageDefaults:u}=r,{xKey:d,yKey:y}=s;let g=getShapeStyle5(l,h,p,u);if(c!=null){const m=this.ctx.highlightManager?.getActiveHighlight(),f=this.cachedDatumCallback(createDatumId5(e,a?"highlight":"node"),()=>{const b=this.getHighlightStateString(m,a,e);return this.callWithContext(c,{seriesId:o,itemId:i,datum:t,xKey:d,yKey:y,highlighted:a,highlightState:b,...g})});f&&(g=getShapeStyle5(mergeDefaults7(f,g),h,p,u))}return g}updateDatumNodes(e){const{datumSelection:t,isHighlight:i}=e,a=this.getCategoryDirection()===ChartAxisDirection11.X,o=this.getShapeFillBBox();t.each((s,r)=>{const n=this.getItemStyle(r,i);applyShapeStyle6(s,n,o),s.cornerRadius=n.cornerRadius??0,s.visible=a?r.width>0:r.height>0,s.crisp=r.crisp})}updateLabelSelection(e){const{labelData:t,labelSelection:i}=e;if(t.length===0)return i.update([]);const a=t.filter(o=>{const{label:s}=this.getItemConfig(o.itemId);return s.enabled});return i.update(a)}updateLabelNodes(e){const t={itemId:"positive",xKey:this.properties.xKey,xName:this.properties.xName??this.properties.xName,yKey:this.properties.yKey,yName:this.properties.yName??this.properties.yName};e.labelSelection.each((i,a)=>{t.itemId=a.itemId,i.fillOpacity=this.getHighlightStyle(!1,a.datumIndex)?.opacity??1,updateLabelNode4(this,i,t,this.getItemConfig(a.itemId).label,a.label)})}getTooltipContent(e){const{id:t,dataModel:i,processedData:a,properties:o}=this,{xKey:s,xName:r,yKey:n,yName:l,tooltip:c,legendItemName:h}=o,p=this.getCategoryAxis(),u=this.getValueAxis();if(!i||!a||!p||!u)return;const d=a.dataSources.get(this.id)?.[e],y=i.resolveKeysById(this,"xValue",a)[e],g=i.resolveColumnById(this,"yRaw",a)[e],m=i.resolveColumnById(this,"yCurrentTotal",a),f=i.resolveColumnById(this,"totalTypeValue",a);if(y==null)return;const b=f[e],x=(g??0)>=0,S=this.getSeriesItemType(x,b);let D;if(this.isTotal(b))D=m[e];else if(this.isSubtotal(b)){D=m[e];for(let k=e-1;k>=0;k-=1)if(this.isSubtotal(f[k])){D=D-m[k];break}}else D=g;const _=this.getItemStyle({datumIndex:e,datum:d,itemId:S},!1);return this.formatTooltipWithContext(c,{heading:this.getAxisValueText(p,"tooltip",y,d,s,h),symbol:this.legendItemSymbol(S),data:[{label:l,fallbackLabel:n,value:this.getAxisValueText(u,"tooltip",D,d,n,h)}]},{seriesId:t,datum:d,title:l,itemId:S,xKey:s,xName:r,yKey:n,yName:l,..._})}legendItemSymbol(e){const{fill:t,stroke:i,fillOpacity:a,strokeOpacity:o,strokeWidth:s,lineDash:r,lineDashOffset:n,fillGradientDefaults:l,fillPatternDefaults:c,fillImageDefaults:h}=this.getItemConfig(e);return{marker:getShapeStyle5({fill:t,stroke:i,fillOpacity:a,strokeOpacity:o,strokeWidth:s,lineDash:r,lineDashOffset:n},l,c,h)}}getLegendData(e){if(e!=="category")return[];const{id:t,seriesItemTypes:i}=this,a=[],o=r=>r.charAt(0).toUpperCase()+r.substring(1),{showInLegend:s}=this.properties;return i.forEach(r=>{const{name:n}=this.getItemConfig(r);a.push({legendType:"category",id:t,itemId:r,seriesId:t,enabled:!0,label:{text:n??o(r)},symbol:this.legendItemSymbol(r),hideInLegend:!s,isFixed:!0})}),a}toggleSeriesItem(){}animateEmptyUpdateReady(e){const{datumSelection:t,labelSelection:i,contextData:a}=e,o=prepareBarAnimationFunctions2(collapsedStartingBarPosition(this.isVertical(),this.axes,"normal"));motion3.fromToMotion(this.id,"datums",this.ctx.animationManager,[t],o),seriesLabelFadeInAnimation3(this,"labels",this.ctx.animationManager,i);const{pointData:s}=a;s&&(this.isVertical()?this.animateConnectorLinesVertical(e):this.animateConnectorLinesHorizontal(e))}animateConnectorLinesHorizontal(e){const{pointData:t=[]}=e.contextData,[i]=e.paths,{path:a}=i;this.updateLineNode(i);const o=this.getValueAxis(),s=o?.isReversed(),r=s?(h,p)=>h<p:(h,p)=>h>p,n=o?.scale.convert(0),l=t.reduce((h,p)=>(r(p.x,h)&&(h=p.x),h),s?1/0:0),c=(h,p,u,d,y)=>(h-p)/(u-p)*(y-d)+d;this.ctx.animationManager.animate({id:`${this.id}_connectors`,groupId:this.id,phase:"initial",from:n,to:l,ease:import_ag_charts_community59._ModuleSupport.Motion.easeOut,collapsable:!1,onUpdate(h){a.clear(!0),t.forEach((p,u)=>{const d=c(h,n,l,n,p.x),y=c(h,n,l,n,p.x2);u!==0&&a.lineTo(d,p.y),a.moveTo(y,p.y2)}),i.checkPathDirty()},onStop:()=>this.resetConnectorLinesPath(e)})}animateConnectorLinesVertical(e){const{pointData:t=[]}=e.contextData,[i]=e.paths,{path:a}=i;this.updateLineNode(i);const o=this.getValueAxis(),s=o?.isReversed(),r=s?(h,p)=>h>p:(h,p)=>h<p,n=o?.scale.convert(0),l=t.reduce((h,p)=>(r(p.y,h)&&(h=p.y),h),s?0:1/0),c=(h,p,u,d,y)=>(h-p)/(u-p)*(y-d)+d;this.ctx.animationManager.animate({id:`${this.id}_connectors`,groupId:this.id,phase:"initial",from:n,to:l,ease:import_ag_charts_community59._ModuleSupport.Motion.easeOut,collapsable:!1,onUpdate(h){a.clear(!0),t.forEach((p,u)=>{const d=c(h,n,l,n,p.y),y=c(h,n,l,n,p.y2);u!==0&&a.lineTo(p.x,d),a.moveTo(p.x2,y)}),i.checkPathDirty()},onStop:()=>this.resetConnectorLinesPath(e)})}animateReadyResize(e){super.animateReadyResize(e),this.resetConnectorLinesPath(e)}updatePaths(e){this.resetConnectorLinesPath({contextData:e.contextData,paths:e.paths})}resetConnectorLinesPath({contextData:e,paths:t}){if(t.length===0)return;const[i]=t;this.updateLineNode(i);const{path:a}=i;a.clear(!0);const{pointData:o}=e;o&&(o.forEach((s,r)=>{r!==0&&a.lineTo(s.x,s.y),a.moveTo(s.x2,s.y2)}),i.checkPathDirty())}updateLineNode(e){const{stroke:t,strokeWidth:i,strokeOpacity:a,lineDash:o,lineDashOffset:s}=this.properties.line;e.setProperties({fill:void 0,stroke:t,strokeWidth:i,strokeOpacity:a,lineDash:o,lineDashOffset:s,lineJoin:"round",pointerEvents:import_ag_charts_community59._ModuleSupport.PointerEvents.None})}isLabelEnabled(){const{positive:e,negative:t,total:i}=this.properties.item;return e.label.enabled||t.label.enabled||i.label.enabled}onDataChange(){}computeFocusBounds({datumIndex:e}){return computeBarFocusBounds5(this,this.contextNodeData?.nodeData[e])}hasItemStylers(){const{positive:e,negative:t,total:i}=this.properties.item;return e.itemStyler!=null||t.itemStyler!=null||i.itemStyler!=null}};WaterfallSeries.className="WaterfallSeries",WaterfallSeries.type="waterfall";var import_ag_charts_community60=require("ag-charts-community"),import_ag_charts_core20=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs7,waterfallSeriesThemeableOptionsDef}=import_ag_charts_community60._ModuleSupport,waterfallSeriesOptionsDef={...waterfallSeriesThemeableOptionsDef,...commonSeriesOptionsDefs7,type:(0,import_ag_charts_core20.required)((0,import_ag_charts_core20.constant)("waterfall")),xKey:(0,import_ag_charts_core20.required)(import_ag_charts_core20.string),yKey:(0,import_ag_charts_core20.required)(import_ag_charts_core20.string),xName:import_ag_charts_core20.string,yName:import_ag_charts_core20.string,totals:(0,import_ag_charts_core20.arrayOfDefs)({totalType:(0,import_ag_charts_core20.required)((0,import_ag_charts_core20.union)("total","subtotal")),index:(0,import_ag_charts_core20.required)(import_ag_charts_core20.positiveNumber),axisLabel:(0,import_ag_charts_core20.required)(import_ag_charts_core20.string)},"a total definition options array")},import_ag_charts_community61=require("ag-charts-community");function itemTheme2(e,t){return{fill:{$if:[{$eq:[{$palette:"type"},"user-indexed"]},{$path:[`/${t}`,{$palette:"fill"},{$palette:"fills"}]},{$palette:`${e}.fill`}]},fillGradientDefaults:import_ag_charts_community61._ModuleSupport.FILL_GRADIENT_LINEAR_SHADED_DEFAULTS(e),fillPatternDefaults:import_ag_charts_community61._ModuleSupport.FILL_PATTERN_DEFAULTS,fillImageDefaults:import_ag_charts_community61._ModuleSupport.FILL_IMAGE_DEFAULTS,stroke:{$palette:`${e}.stroke`},strokeWidth:{$isUserOption:["./stroke",2,0]},label:{...import_ag_charts_community61._ModuleSupport.LABEL_BOXING_DEFAULTS,enabled:!1,fontStyle:void 0,fontWeight:{$ref:"fontWeight"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},color:{$ref:"textColor"},formatter:void 0,placement:"outside-end",padding:{$isUserOption:["./spacing",0,6]}}}}var WATERFALL_SERIES_THEME={series:{item:{positive:itemTheme2("altUp",0),negative:itemTheme2("altDown",1),total:itemTheme2("neutral",2)},line:{stroke:{$palette:"neutral.stroke"},strokeOpacity:1,lineDash:[0],lineDashOffset:0,strokeWidth:2},highlight:import_ag_charts_community61._ModuleSupport.singleSeriesHighlightStyle()},legend:{enabled:!0,toggleSeries:!1}},WaterfallModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"waterfall",solo:!0,moduleFactory:e=>new WaterfallSeries(e),defaultAxes:import_ag_charts_community62._ModuleSupport.DIRECTION_SWAP_AXES,themeTemplate:WATERFALL_SERIES_THEME},WaterfallSeriesModule={type:"series",name:"waterfall",chartType:"cartesian",enterprise:!0,options:waterfallSeriesOptionsDef,create:e=>new WaterfallSeries(e)},{NewAreaSeriesModule,NewBarSeriesModule,NewBubbleSeriesModule,NewHistogramSeriesModule,NewLineSeriesModule,NewScatterSeriesModule,numberFormatValidator,without:without2}=import_ag_charts_community63._ModuleSupport,navigatorHandleOptionsDef={width:import_ag_charts_core21.positiveNumber,height:import_ag_charts_core21.positiveNumber,grip:import_ag_charts_core21.boolean,fill:import_ag_charts_core21.color,stroke:import_ag_charts_core21.color,strokeWidth:import_ag_charts_core21.positiveNumber,cornerRadius:import_ag_charts_core21.positiveNumber},commonIgnoredMiniChartProperties=["cursor","highlightStyle","listeners","nodeClickRange","showInLegend","showInMiniChart","tooltip","visible","xName","yName"],barIgnoredMiniChartProperties=[...commonIgnoredMiniChartProperties,"errorBar","label","legendItemName","direction"],boxPlotIngnoredMiniChartProperties=[...commonIgnoredMiniChartProperties,"direction","legendItemName","minName","q1Name","medianName","q3Name","maxName"],bubbleIgnoredMiniChartProperties=[...commonIgnoredMiniChartProperties,"title","label","labelKey","labelName","sizeName"],heatmapIgnoredMiniChartProperties=[...commonIgnoredMiniChartProperties,"title","label","colorName","textAlign","verticalAlign","itemPadding","colorRange"],histogramIgnoredMiniChartProperties=[...commonIgnoredMiniChartProperties,"label"],lineIgnoredMiniChartProperties=[...commonIgnoredMiniChartProperties,"errorBar","title","label"],rangeAreaIgnoredMiniChartProperties=[...commonIgnoredMiniChartProperties,"label","yLowName","yHighName"],rangeBarIgnoredMiniChartProperties=[...commonIgnoredMiniChartProperties,"direction","label","yLowName","yHighName"],scatterIgnoredMiniChartProperties=[...commonIgnoredMiniChartProperties,"errorBar","title","label","labelKey","labelName"],waterfallIgnoredMiniChartProperties=[...commonIgnoredMiniChartProperties,"direction"],navigatorOptionsDef={enabled:import_ag_charts_core21.boolean,height:import_ag_charts_core21.positiveNumber,spacing:import_ag_charts_core21.positiveNumber,cornerRadius:import_ag_charts_core21.number,mask:{fill:import_ag_charts_core21.color,fillOpacity:import_ag_charts_core21.ratio,stroke:import_ag_charts_core21.color,strokeWidth:import_ag_charts_core21.positiveNumber},minHandle:navigatorHandleOptionsDef,maxHandle:navigatorHandleOptionsDef,miniChart:{enabled:import_ag_charts_core21.boolean,padding:{top:import_ag_charts_core21.positiveNumber,bottom:import_ag_charts_core21.positiveNumber},label:{enabled:import_ag_charts_core21.boolean,avoidCollisions:import_ag_charts_core21.boolean,spacing:import_ag_charts_core21.positiveNumber,format:numberFormatValidator,formatter:import_ag_charts_core21.callback,interval:{minSpacing:import_ag_charts_core21.positiveNumber,maxSpacing:import_ag_charts_core21.positiveNumber,values:import_ag_charts_core21.array,step:import_ag_charts_core21.number},...import_ag_charts_core21.fontOptionsDef},series:(0,import_ag_charts_core21.arrayOfDefs)((0,import_ag_charts_core21.typeUnion)({area:without2(NewAreaSeriesModule.options,[...commonIgnoredMiniChartProperties,"type"]),bar:without2(NewBarSeriesModule.options,[...barIgnoredMiniChartProperties,"type"]),"box-plot":without2(BoxPlotSeriesModule.options,[...boxPlotIngnoredMiniChartProperties,"type"]),bubble:without2(NewBubbleSeriesModule.options,[...bubbleIgnoredMiniChartProperties,"type"]),candlestick:without2(CandlestickSeriesModule.options,[...commonIgnoredMiniChartProperties,"type"]),heatmap:without2(HeatmapSeriesModule.options,[...heatmapIgnoredMiniChartProperties,"type"]),histogram:without2(NewHistogramSeriesModule.options,[...histogramIgnoredMiniChartProperties,"type"]),line:without2(NewLineSeriesModule.options,[...lineIgnoredMiniChartProperties,"type"]),ohlc:without2(OhlcSeriesModule.options,[...commonIgnoredMiniChartProperties,"type"]),"range-area":without2(RangeAreaSeriesModule.options,[...rangeAreaIgnoredMiniChartProperties,"type"]),"range-bar":without2(RangeBarSeriesModule.options,[...rangeBarIgnoredMiniChartProperties,"type"]),scatter:without2(NewScatterSeriesModule.options,[...scatterIgnoredMiniChartProperties,"type"]),waterfall:without2(WaterfallSeriesModule.options,[...waterfallIgnoredMiniChartProperties,"type"])},"miniChart series options"))}},{annotationOptionsDef}=import_ag_charts_community64._ModuleSupport,AnnotationsModule={type:"plugin",name:"annotations",chartType:"cartesian",options:annotationOptionsDef,create(){return null}},NavigatorModule={type:"plugin",name:"navigator",chartType:"cartesian",options:navigatorOptionsDef,create(){return null}},InitialStateModule={type:"plugin",name:"initialState",options:initialStateOptionsDef,create(){return null}},import_ag_charts_community70=require("ag-charts-community"),import_ag_charts_community68=require("ag-charts-community"),import_ag_charts_core23=require("ag-charts-core"),import_ag_charts_community65=require("ag-charts-community"),import_ag_charts_core22=require("ag-charts-core");function computeNodeGraph(e,t,i){i||(t=removeCircularLinks(t));const a=new Map;for(const s of e)a.set(s.id,{datum:s,linksBefore:[],linksAfter:[],maxPathLengthBefore:-1,maxPathLengthAfter:-1});let o=0;return a.forEach((s,r)=>{o=Math.max(o,computePathLength(a,t,s,r,-1,[])+computePathLength(a,t,s,r,1,[])+1)}),{links:t,nodeGraph:a,maxPathLength:o}}function findCircularLinks(e,t,i,a){const o=a.indexOf(t);if(o!==-1){for(let r=o;r<a.length;r+=1)i.add(a[r]);return}a.push(t);const{toNode:s}=t;for(const r of e)r.fromNode===s&&findCircularLinks(e,r,i,a);a.pop()}function removeCircularLinks(e){const t=new Set;for(const i of e)findCircularLinks(e,i,t,[]);return t.size!==0&&import_ag_charts_core22.Logger.warnOnce("Some links formed circular references. These will be removed from the output."),t.size===0?e:e.filter(i=>!t.has(i))}function computePathLength(e,t,i,a,o,s){if(s.includes(a))return 1/0;let r=o===-1?i.maxPathLengthBefore:i.maxPathLengthAfter;if(r===-1){r=0;const n=o===-1?i.linksBefore:i.linksAfter;for(const l of t){const{fromNode:c,toNode:h}=l,p=o===-1?h.id:c.id,u=o===-1?c.id:h.id,d=a===p?e.get(u):void 0;d!=null&&(n.push({node:d,link:l}),s?.push(a),r=Math.max(r,computePathLength(e,t,d,u,o,s)+1),s?.pop())}o===-1?i.maxPathLengthBefore=r:i.maxPathLengthAfter=r}return r}var{Series,DataController,keyProperty:keyProperty6,valueProperty:valueProperty7,Selection:Selection4,Group:Group5,TransformableText}=import_ag_charts_community65._ModuleSupport,FlowProportionSeriesNodeEvent=class extends import_ag_charts_community65._ModuleSupport.SeriesNodeEvent{constructor(e,t,i,a){super(e,t,i,a);const{datumIndex:o}=i,s=a.contextNodeData?.nodeData.find(r=>r.datumIndex.type===o.type&&r.datumIndex.index===o.index);this.size=s?.size,this.label=s?.type===1?s?.label:void 0}},FlowProportionSeries=class extends Series{constructor(){super(...arguments),this.NodeEvent=FlowProportionSeriesNodeEvent,this.nodeCount=0,this.linkCount=0,this.linksDataModel=void 0,this.linksProcessedData=void 0,this.nodesDataModel=void 0,this.nodesProcessedData=void 0,this.processedNodes=new Map,this.linkGroup=this.contentGroup.appendChild(new Group5({name:"linkGroup"})),this.nodeGroup=this.contentGroup.appendChild(new Group5({name:"nodeGroup"})),this.focusLinkGroup=this.highlightGroup.appendChild(new Group5({name:"linkGroup"})),this.focusNodeGroup=this.highlightGroup.appendChild(new Group5({name:"nodeGroup"})),this.highlightLinkGroup=this.highlightGroup.appendChild(new Group5({name:"linkGroup"})),this.highlightNodeGroup=this.highlightGroup.appendChild(new Group5({name:"nodeGroup"})),this.labelSelection=Selection4.select(this.labelGroup,TransformableText),this.linkSelection=Selection4.select(this.linkGroup,()=>this.linkFactory()),this.nodeSelection=Selection4.select(this.nodeGroup,()=>this.nodeFactory()),this.focusLinkSelection=Selection4.select(this.focusLinkGroup,()=>this.linkFactory()),this.focusNodeSelection=Selection4.select(this.focusNodeGroup,()=>this.nodeFactory()),this.highlightLinkSelection=Selection4.select(this.highlightLinkGroup,()=>this.linkFactory()),this.highlightNodeSelection=Selection4.select(this.highlightNodeGroup,()=>this.nodeFactory())}get nodes(){return this.properties.nodes}async processData(e){const{data:t,nodes:i}=this;if(t==null)return;const{fromKey:a,toKey:o,sizeKey:s,idKey:r,labelKey:n}=this.properties,l=new DataController("standalone",e.suppressFieldDotNotation),c=i!=null?l.request(this.id,i,{props:[keyProperty6(r,void 0,{id:"idValue",includeProperty:!1}),...n!=null?[valueProperty7(n,void 0,{id:"labelValue",includeProperty:!1})]:[]],groupByKeys:!0}):null,h=e.request(this.id,t,{props:[valueProperty7(a,void 0,{id:"fromValue",includeProperty:!1}),valueProperty7(o,void 0,{id:"toValue",includeProperty:!1}),...s!=null?[valueProperty7(s,void 0,{id:"sizeValue",includeProperty:!1,missingValue:0})]:[]],groupByKeys:!1});i!=null&&l.execute();const[p,u]=await Promise.all([c,h]);this.nodesDataModel=p?.dataModel,this.nodesProcessedData=p?.processedData,this.linksDataModel=u?.dataModel,this.linksProcessedData=u?.processedData;const d=new Map;if(p==null){const y=u.dataModel.resolveColumnById(this,"fromValue",u.processedData),g=u.dataModel.resolveColumnById(this,"toValue",u.processedData),m=f=>{const b=d.size;return{series:this,itemId:void 0,datum:{},datumIndex:{type:1,index:b},type:1,index:b,linksBefore:[],linksAfter:[],id:f,size:0,label:f}};u.processedData.dataSources.get(this.id)?.forEach((f,b)=>{const x=y[b],S=g[b];x==null||S==null||(d.has(x)||d.set(x,m(x)),d.has(S)||d.set(S,m(S)))})}else{const y=p.dataModel.resolveColumnById(this,"idValue",p.processedData),g=n!=null?p.dataModel.resolveColumnById(this,"labelValue",p.processedData):void 0;p.processedData.dataSources.get(this.id)?.forEach((m,f)=>{const b=y[f],x=g?.[f];d.set(b,{series:this,itemId:void 0,datum:m,datumIndex:{type:1,index:f},type:1,index:f,linksBefore:[],linksAfter:[],id:b,size:0,label:x})})}this.processedNodes=d}getNodeGraph(e,t,{includeCircularReferences:i}){const{linksDataModel:a,linksProcessedData:o}=this;if(a==null||o==null){const{links:y,nodeGraph:g,maxPathLength:m}=computeNodeGraph(new Map().values(),[],i);return this.nodeCount=0,this.linkCount=0,{nodeGraph:g,links:y,maxPathLength:m}}const{sizeKey:s}=this.properties,r=a.resolveColumnById(this,"fromValue",o),n=a.resolveColumnById(this,"toValue",o),l=s!=null?a.resolveColumnById(this,"sizeValue",o):void 0,c=new Map;this.processedNodes.forEach(y=>{const g=e(y);c.set(y.id,g)});const h=[];o.dataSources.get(this.id)?.forEach((y,g)=>{const m=r[g],f=n[g],b=l!=null?l[g]:1,x=c.get(m),S=c.get(f);if(b<=0||x==null||S==null)return;const D=t({series:this,itemId:void 0,datum:y,datumIndex:{type:0,index:g},type:0,index:g,fromNode:x,toNode:S,size:b});h.push(D)});const{links:p,nodeGraph:u,maxPathLength:d}=computeNodeGraph(c.values(),h,i);return u.forEach(y=>{y.datum.linksBefore=y.linksBefore.map(g=>g.link),y.datum.linksAfter=y.linksAfter.map(g=>g.link)}),this.nodeCount=u.size,this.linkCount=p.length,{nodeGraph:u,links:p,maxPathLength:d}}updateSelections(){this.nodeDataRefresh&&(this.contextNodeData=this.createNodeData(),this.nodeDataRefresh=!1)}update(e){const{seriesRect:t}=e,i={seriesRectWidth:t?.width??0,seriesRectHeight:t?.height??0};(this._nodeDataDependencies==null||this._nodeDataDependencies.seriesRectWidth!==i.seriesRectWidth||this._nodeDataDependencies.seriesRectHeight!==i.seriesRectHeight)&&(this._nodeDataDependencies=i),this.updateSelections();const a=this.contextNodeData?.nodeData??[],o=this.contextNodeData?.labelData??[];let s=this.ctx.highlightManager?.getActiveHighlight();if(s?.series===this&&s.type==null){const{itemId:h}=s;s=h!=null?a.find(p=>p.type===1&&p.id===h):void 0}else s?.series!==this&&(s=void 0);this.contentGroup.visible=this.visible,this.contentGroup.opacity=s!=null?this.properties.highlight.unhighlightedItem.opacity??1:1,this.labelSelection=this.updateLabelSelection({labelData:o,labelSelection:this.labelSelection}),this.updateLabelNodes({labelSelection:this.labelSelection}),this.linkSelection=this.updateLinkSelection({nodeData:a.filter(h=>h.type===0),datumSelection:this.linkSelection}),this.updateLinkNodes({datumSelection:this.linkSelection,isHighlight:!1}),this.nodeSelection=this.updateNodeSelection({nodeData:a.filter(h=>h.type===1),datumSelection:this.nodeSelection}),this.updateNodeNodes({datumSelection:this.nodeSelection,isHighlight:!1});let r,n,l,c;s?.type===1?(r=a.filter(h=>h.type===0&&(h.toNode===s||h.fromNode===s)),n=r.map(h=>h.fromNode===s?h.toNode:h.fromNode),n.push(s),l=[],c=[s]):s?.type===0?(r=[s],n=[s.fromNode,s.toNode],l=[s],c=[]):(r=[],n=[],l=[],c=[]),this.focusLinkSelection=this.updateLinkSelection({nodeData:r,datumSelection:this.focusLinkSelection}),this.updateLinkNodes({datumSelection:this.focusLinkSelection,isHighlight:!1}),this.focusNodeSelection=this.updateNodeSelection({nodeData:n,datumSelection:this.focusNodeSelection}),this.updateNodeNodes({datumSelection:this.focusNodeSelection,isHighlight:!1}),this.highlightLinkSelection=this.updateLinkSelection({nodeData:l,datumSelection:this.highlightLinkSelection}),this.updateLinkNodes({datumSelection:this.highlightLinkSelection,isHighlight:!0}),this.highlightNodeSelection=this.updateNodeSelection({nodeData:c,datumSelection:this.highlightNodeSelection}),this.updateNodeNodes({datumSelection:this.highlightNodeSelection,isHighlight:!0})}resetAnimation(e){}dataCount(){return NaN}getSeriesDomain(e){return[]}getSeriesRange(e,t){return[NaN,NaN]}legendItemSymbol(e,t,i={}){const{fills:a,strokes:o}=this.properties,{fill:s=a[t%a.length],fillOpacity:r=1,stroke:n=o[t%o.length],strokeWidth:l=0,strokeOpacity:c=1,lineDash:h=[0],lineDashOffset:p=0}=i;return{marker:{fill:s,fillOpacity:r,stroke:n,strokeWidth:l,strokeOpacity:c,lineDash:h,lineDashOffset:p}}}getLegendData(e){if(e!=="category")return[];const{showInLegend:t}=this.properties;return Array.from(this.processedNodes.values(),({id:i,label:a},o)=>({legendType:"category",id:this.id,itemId:i,seriesId:this.id,enabled:!0,label:{text:a??i},symbol:this.legendItemSymbol(1,o),hideInLegend:!t,isFixed:!0}))}pickNodeClosestDatum({x:e,y:t}){let i=1/0,a;return this.linkSelection.each((o,s)=>{const r=o.distanceSquared(e,t);r<i&&(i=r,a=s)}),this.nodeSelection.each((o,s)=>{const r=o.distanceSquared(e,t);r<i&&(i=r,a=s)}),a!=null?{datum:a,distance:Math.sqrt(i)}:void 0}getDatumAriaText(e,t){if(e.type===0)return this.ctx.localeManager.t("ariaAnnounceFlowProportionLink",{index:e.index+1,count:this.linkCount,from:e.fromNode.id,to:e.toNode.id,size:e.size,sizeName:this.properties.sizeName??this.properties.sizeKey});if(e.type===1)return this.ctx.localeManager.t("ariaAnnounceFlowProportionNode",{index:e.index+1,count:this.nodeCount,description:t})}pickFocus(e){const{datumIndexDelta:t,otherIndexDelta:i}=e,a=this.contextNodeData?.nodeData[e.datumIndex-e.datumIndexDelta];let o=a;if(i!==0||t===0)return;if(a?.type===0){const n=Array.from(this.linkSelection,h=>h.datum),c=n.indexOf(a)+t;if(c>=0&&c<n.length)o=n[c];else if(c>0)o=n[n.length-1];else{const h=Array.from(this.nodeSelection,p=>p.datum);o=h[h.length-1]}}else if(a?.type===1){const n=Array.from(this.nodeSelection,h=>h.datum),c=n.indexOf(a)+t;c>=0&&c<n.length?o=n[c]:c<0?o=n[0]:o=Array.from(this.linkSelection,p=>p.datum)[0]}if(o==null)return;const s=o.type===1?Array.from(this.nodeSelection).find(n=>n.datum===o):Array.from(this.linkSelection).find(n=>n.datum===o);if(s==null)return;const r=this.computeFocusBounds(s.node);if(r!=null)return{datum:s.datum,datumIndex:this.contextNodeData?.nodeData.indexOf(s.datum)??0,otherIndex:0,bounds:r,clipFocusBox:!0}}getCategoryValue(e){}datumIndexForCategoryValue(e){}},import_ag_charts_community66=require("ag-charts-community"),{Path:Path6,SceneChangeDetection:SceneChangeDetection3}=import_ag_charts_community66._ModuleSupport;function bezierControlPoints({radius:e,startAngle:t,endAngle:i,tension:a}){const o=e*Math.cos(t),s=e*Math.sin(t),r=e*Math.cos(i),n=e*Math.sin(i),l=o*a,c=s*a,h=r*a,p=n*a;return{x:[o,l,h,r],y:[s,c,p,n]}}var ChordLink=class extends Path6{constructor(){super(...arguments),this.centerX=0,this.centerY=0,this.radius=0,this.startAngle1=0,this.endAngle1=0,this.startAngle2=0,this.endAngle2=0,this.tension=1}tensionedCurveTo(e,t,i,a,o,s,r,n){const{path:l,tension:c}=this,h=1-c;l.cubicCurveTo((i-e)*h+e,(a-t)*h+t,(o-r)*h+r,(s-n)*h+n,r,n)}updatePath(){const{path:e,centerX:t,centerY:i,radius:a}=this;let{startAngle1:o,endAngle1:s,startAngle2:r,endAngle2:n}=this;o>r&&([o,r]=[r,o],[s,n]=[n,s]),e.clear();const l=t+a*Math.cos(o),c=i+a*Math.sin(o);e.moveTo(l,c),this.tensionedCurveTo(l,c,t,i,t,i,t+a*Math.cos(n),i+a*Math.sin(n)),e.arc(t,i,a,n,r,!0),this.tensionedCurveTo(t+a*Math.cos(r),i+a*Math.sin(r),t,i,t,i,t+a*Math.cos(s),i+a*Math.sin(s)),e.arc(t,i,a,s,o,!0),e.closePath()}};__decorateClass([SceneChangeDetection3()],ChordLink.prototype,"centerX",2),__decorateClass([SceneChangeDetection3()],ChordLink.prototype,"centerY",2),__decorateClass([SceneChangeDetection3()],ChordLink.prototype,"radius",2),__decorateClass([SceneChangeDetection3()],ChordLink.prototype,"startAngle1",2),__decorateClass([SceneChangeDetection3()],ChordLink.prototype,"endAngle1",2),__decorateClass([SceneChangeDetection3()],ChordLink.prototype,"startAngle2",2),__decorateClass([SceneChangeDetection3()],ChordLink.prototype,"endAngle2",2),__decorateClass([SceneChangeDetection3()],ChordLink.prototype,"tension",2);var import_ag_charts_community67=require("ag-charts-community"),{FillGradientDefaults:FillGradientDefaults6,FillPatternDefaults:FillPatternDefaults6,FillImageDefaults:FillImageDefaults6,BaseProperties:BaseProperties6,makeSeriesTooltip:makeSeriesTooltip8,SeriesProperties,Property:Property20,Label:Label4}=import_ag_charts_community67._ModuleSupport,ChordSeriesLabelProperties=class extends Label4{constructor(){super(...arguments),this.spacing=1,this.maxWidth=1}};__decorateClass([Property20],ChordSeriesLabelProperties.prototype,"spacing",2),__decorateClass([Property20],ChordSeriesLabelProperties.prototype,"maxWidth",2);var ChordSeriesLinkProperties=class extends BaseProperties6{constructor(){super(...arguments),this.fill=void 0,this.fillOpacity=1,this.stroke=void 0,this.strokeOpacity=1,this.strokeWidth=1,this.lineDash=[0],this.lineDashOffset=0,this.tension=0}getStyle(e,t,i){const{fillOpacity:a,strokeWidth:o,strokeOpacity:s,lineDash:r,lineDashOffset:n,tension:l}=this,c=this.fill??e[i%e.length],h=this.stroke??t[i%e.length];return{fill:c,fillOpacity:a,stroke:h,strokeWidth:o,strokeOpacity:s,lineDash:r,lineDashOffset:n,tension:l}}};__decorateClass([Property20],ChordSeriesLinkProperties.prototype,"fill",2),__decorateClass([Property20],ChordSeriesLinkProperties.prototype,"fillOpacity",2),__decorateClass([Property20],ChordSeriesLinkProperties.prototype,"stroke",2),__decorateClass([Property20],ChordSeriesLinkProperties.prototype,"strokeOpacity",2),__decorateClass([Property20],ChordSeriesLinkProperties.prototype,"strokeWidth",2),__decorateClass([Property20],ChordSeriesLinkProperties.prototype,"lineDash",2),__decorateClass([Property20],ChordSeriesLinkProperties.prototype,"lineDashOffset",2),__decorateClass([Property20],ChordSeriesLinkProperties.prototype,"tension",2),__decorateClass([Property20],ChordSeriesLinkProperties.prototype,"itemStyler",2);var ChordSeriesNodeProperties=class extends BaseProperties6{constructor(){super(...arguments),this.spacing=1,this.width=1,this.fill=void 0,this.fillOpacity=1,this.stroke=void 0,this.strokeOpacity=1,this.strokeWidth=1,this.lineDash=[0],this.lineDashOffset=0}getStyle(e,t,i){const{fillOpacity:a,strokeWidth:o,strokeOpacity:s,lineDash:r,lineDashOffset:n}=this,l=this.fill??e[i%e.length],c=this.stroke??t[i%e.length];return{fill:l,fillOpacity:a,stroke:c,strokeWidth:o,strokeOpacity:s,lineDash:r,lineDashOffset:n}}};__decorateClass([Property20],ChordSeriesNodeProperties.prototype,"spacing",2),__decorateClass([Property20],ChordSeriesNodeProperties.prototype,"width",2),__decorateClass([Property20],ChordSeriesNodeProperties.prototype,"fill",2),__decorateClass([Property20],ChordSeriesNodeProperties.prototype,"fillOpacity",2),__decorateClass([Property20],ChordSeriesNodeProperties.prototype,"stroke",2),__decorateClass([Property20],ChordSeriesNodeProperties.prototype,"strokeOpacity",2),__decorateClass([Property20],ChordSeriesNodeProperties.prototype,"strokeWidth",2),__decorateClass([Property20],ChordSeriesNodeProperties.prototype,"lineDash",2),__decorateClass([Property20],ChordSeriesNodeProperties.prototype,"lineDashOffset",2),__decorateClass([Property20],ChordSeriesNodeProperties.prototype,"itemStyler",2);var ChordSeriesProperties=class extends SeriesProperties{constructor(){super(),this.idKey="",this.idName=void 0,this.labelKey=void 0,this.labelName=void 0,this.sizeKey=void 0,this.sizeName=void 0,this.nodes=void 0,this.fillGradientDefaults=new FillGradientDefaults6,this.fillPatternDefaults=new FillPatternDefaults6,this.fillImageDefaults=new FillImageDefaults6,this.fills=[],this.strokes=[],this.label=new ChordSeriesLabelProperties,this.link=new ChordSeriesLinkProperties,this.node=new ChordSeriesNodeProperties,this.tooltip=makeSeriesTooltip8(),this.highlightStyle.deprecated=!1}};__decorateClass([Property20],ChordSeriesProperties.prototype,"fromKey",2),__decorateClass([Property20],ChordSeriesProperties.prototype,"toKey",2),__decorateClass([Property20],ChordSeriesProperties.prototype,"idKey",2),__decorateClass([Property20],ChordSeriesProperties.prototype,"idName",2),__decorateClass([Property20],ChordSeriesProperties.prototype,"labelKey",2),__decorateClass([Property20],ChordSeriesProperties.prototype,"labelName",2),__decorateClass([Property20],ChordSeriesProperties.prototype,"sizeKey",2),__decorateClass([Property20],ChordSeriesProperties.prototype,"sizeName",2),__decorateClass([Property20],ChordSeriesProperties.prototype,"nodes",2),__decorateClass([Property20],ChordSeriesProperties.prototype,"fillGradientDefaults",2),__decorateClass([Property20],ChordSeriesProperties.prototype,"fillPatternDefaults",2),__decorateClass([Property20],ChordSeriesProperties.prototype,"fillImageDefaults",2),__decorateClass([Property20],ChordSeriesProperties.prototype,"fills",2),__decorateClass([Property20],ChordSeriesProperties.prototype,"strokes",2),__decorateClass([Property20],ChordSeriesProperties.prototype,"label",2),__decorateClass([Property20],ChordSeriesProperties.prototype,"link",2),__decorateClass([Property20],ChordSeriesProperties.prototype,"node",2),__decorateClass([Property20],ChordSeriesProperties.prototype,"tooltip",2);var{SeriesNodePickMode:SeriesNodePickMode6,CachedTextMeasurerPool:CachedTextMeasurerPool2,TextWrapper:TextWrapper3,TextUtils:TextUtils3,createDatumId:createDatumId6,angleBetween:angleBetween2,normalizeAngle360:normalizeAngle3604,isBetweenAngles,Sector:Sector3,evaluateBezier,applyShapeStyle:applyShapeStyle7,getShapeStyle:getShapeStyle6,getLabelStyles,BBox:BBox6,mergeDefaults:mergeDefaults8}=import_ag_charts_community68._ModuleSupport,nodeMidAngle=e=>e.startAngle+angleBetween2(e.startAngle,e.endAngle)/2,ChordSeries=class extends FlowProportionSeries{constructor(e){super({moduleCtx:e,pickModes:[SeriesNodePickMode6.NEAREST_NODE,SeriesNodePickMode6.EXACT_SHAPE_MATCH]}),this.properties=new ChordSeriesProperties}isLabelEnabled(){return(this.properties.labelKey!=null||this.nodes==null)&&this.properties.label.enabled}linkFactory(){return new ChordLink}nodeFactory(){return new Sector3}createNodeData(){const{id:e,_nodeDataDependencies:{seriesRectWidth:t,seriesRectHeight:i}={seriesRectWidth:0,seriesRectHeight:0},properties:a}=this,{fromKey:o,toKey:s,sizeKey:r,labelKey:n,label:{spacing:l,maxWidth:c,fontSize:h},node:{width:p,spacing:u}}=a,d=t/2,y=i/2;let g=[];const{nodeGraph:m,links:f}=this.getNodeGraph(N=>({...N,centerX:d,centerY:y,innerRadius:NaN,outerRadius:NaN,startAngle:NaN,endAngle:NaN}),N=>({...N,centerX:d,centerY:y,radius:NaN,startAngle1:NaN,endAngle1:NaN,startAngle2:NaN,endAngle2:NaN}),{includeCircularReferences:!0});let b=0;m.forEach(({datum:N,linksBefore:P,linksAfter:T},w)=>{const E=P.reduce((O,{link:F})=>O+F.size,0)+T.reduce((O,{link:F})=>O+F.size,0);if(E===0)m.delete(w);else{const{label:O}=a;N.size=E,b+=N.size;const F=O.enabled?this.getLabelText(N.label,N.datum,n,"label",[],O,{datum:N.datum,value:N.label,fromKey:o,toKey:s,sizeKey:r,size:N.size}):void 0;N.label=F}});let x=0;if(this.isLabelEnabled()){const N=CachedTextMeasurerPool2.getMeasurer({font:this.properties.label});let P=0;m.forEach(({datum:T})=>{const{id:w,label:E}=T;if(E==null)return;const O=TextWrapper3.wrapText(E,{maxWidth:c,font:this.properties.label,textWrap:"never"}),{width:F}=N.measureText(O);P=Math.max(F,P),g.push({id:w,text:O,centerX:d,centerY:y,angle:NaN,radius:NaN,size:T.size})}),x=P+l}const S=m.size;let D=Math.min(t,i)/2-p-x,_=u/D;if(x!==0&&(S*_>=1.5*Math.PI||D<=0)&&(g=[],D=Math.min(t,i)/2-p,_=u/D),S*_>=2*Math.PI||D<=0){import_ag_charts_core23.Logger.warnOnce("There was insufficient space to display the Chord Series.");return}const k=D,v=D+p,A=Math.max((2*Math.PI-S*_)/b,0);let I=0;m.forEach(({datum:N})=>{N.innerRadius=k,N.outerRadius=v,N.startAngle=I,N.endAngle=I+N.size*A,I=N.endAngle+_;const P=(N.innerRadius+N.outerRadius)/2,T=nodeMidAngle(N);N.midPoint={x:N.centerX+P*Math.cos(T),y:N.centerY+P*Math.sin(T)}});const M=[];m.forEach(({datum:N,linksBefore:P,linksAfter:T})=>{const w=nodeMidAngle(N),E=[...P.map(F=>({link:F.link,distance:angleBetween2(nodeMidAngle(F.node.datum),w),after:!1})),...T.map(F=>({link:F.link,distance:angleBetween2(nodeMidAngle(F.node.datum),w),after:!0}))];let O=N.startAngle;E.toSorted((F,B)=>F.distance-B.distance).forEach(({link:F,after:B})=>{const G=F.size*A;B?(F.startAngle1=O,F.endAngle1=O+G):(F.startAngle2=O,F.endAngle2=O+G),O+=F.size*A}),M.push(N)});const{tension:L}=this.properties.link;f.forEach(N=>{N.radius=D;const P=bezierControlPoints({radius:D,startAngle:N.startAngle1,endAngle:N.endAngle2,tension:L}),T=bezierControlPoints({radius:D,startAngle:N.startAngle2,endAngle:N.endAngle1,tension:L}),w=evaluateBezier(...P.x,.5),E=evaluateBezier(...P.y,.5),O=evaluateBezier(...T.x,.5),F=evaluateBezier(...T.y,.5);N.midPoint={x:N.centerX+(w+O)/2,y:N.centerY+(E+F)/2},M.push(N)}),g.forEach(N=>{const P=m.get(N.id)?.datum;P!=null&&(N.radius=v+l,N.angle=normalizeAngle3604(P.startAngle+angleBetween2(P.startAngle,P.endAngle)/2))}),g.sort((N,P)=>N.angle-P.angle);let R=1/0,C=-1/0;return g=g.filter(N=>{const P=TextUtils3.getLineHeight(h),T=Math.atan2(P/2,N.radius),w=N.angle-T,E=N.angle+T;return isBetweenAngles(R,w,E)||isBetweenAngles(C,w,E)?!1:(R=Math.min(w,R),C=Math.max(E,C),!0)}),{itemId:e,nodeData:M,labelData:g}}updateLabelSelection(e){const t=this.isLabelEnabled()?e.labelData:[];return e.labelSelection.update(t)}updateLabelNodes(e){const t={toKey:this.properties.toKey,fromKey:this.properties.fromKey,sizeKey:this.properties.sizeKey,size:NaN};e.labelSelection.each((i,{size:a,text:o,centerX:s,centerY:r,radius:n,angle:l})=>{t.size=a;const c=getLabelStyles(this,void 0,t,this.properties.label),{fontStyle:h,fontWeight:p,fontSize:u,fontFamily:d,color:y}=c;i.visible=!0,i.translationX=s+n*Math.cos(l),i.translationY=r+n*Math.sin(l),i.text=o,i.fill=y,i.fontStyle=h,i.fontWeight=p,i.fontSize=u,i.fontFamily=d,i.textBaseline="middle",Math.cos(l)>=0?(i.textAlign="left",i.rotation=l):(i.textAlign="right",i.rotation=l-Math.PI),i.setBoxing(c)})}updateNodeSelection(e){return e.datumSelection.update(e.nodeData,void 0,t=>createDatumId6([t.type,t.id]))}getNodeStyle({datumIndex:e,datum:t,size:i=0,label:a},o,s){const{id:r,properties:n}=this,{fills:l,strokes:c,fillGradientDefaults:h,fillPatternDefaults:p,fillImageDefaults:u}=n,{itemStyler:d}=n.node,y=this.getHighlightStyle(s,e),g=mergeDefaults8(y,n.node.getStyle(l,c,o));let m=getShapeStyle6(g,h,p,u);if(d!=null&&e!=null){const f=this.ctx.highlightManager?.getActiveHighlight(),b=this.cachedDatumCallback(createDatumId6(e,"node",s?"highlight":"node"),()=>{const x=this.getHighlightStateString(f,s,e);return this.callWithContext(d,{seriesId:r,datum:t,highlighted:s,highlightState:x,...m,size:i,label:a})});b&&(m=getShapeStyle6(mergeDefaults8(b,m),h,p,u))}return m.opacity=1,m}updateNodeNodes(e){const{datumSelection:t,isHighlight:i}=e,a=this.getShapeFillBBox();t.each((o,s)=>{const{datumIndex:r}=s,n=this.getNodeStyle(s,r.index,i);applyShapeStyle7(o,n,a),o.centerX=s.centerX,o.centerY=s.centerY,o.innerRadius=s.innerRadius,o.outerRadius=s.outerRadius,o.startAngle=s.startAngle,o.endAngle=s.endAngle,o.inset=o.strokeWidth/2})}updateLinkSelection(e){return e.datumSelection.update(e.nodeData,void 0,t=>createDatumId6([t.type,t.index,t.fromNode.id,t.toNode.id]))}getLinkStyle({datumIndex:e,datum:t},i,a){const{id:o,properties:s}=this,{fills:r,strokes:n,fillGradientDefaults:l,fillPatternDefaults:c,fillImageDefaults:h}=s,{itemStyler:p}=s.link,u=this.getHighlightStyle(a,e),d=mergeDefaults8(u,s.link.getStyle(r,n,i.index));let y=getShapeStyle6(d,l,c,h);if(p!=null&&e!=null){const g=this.ctx.highlightManager?.getActiveHighlight(),m=this.cachedDatumCallback(createDatumId6(e,"link",a?"highlight":"node"),()=>{const f=this.getHighlightStateString(g,a,i);return this.callWithContext(p,{seriesId:o,datum:t,highlighted:a,highlightState:f,...y})});m&&(y=getShapeStyle6(mergeDefaults8(m,y),l,c,h))}return y.opacity=1,y}updateLinkNodes(e){const{datumSelection:t,isHighlight:i}=e,a=this.getShapeFillBBox();t.each((o,s)=>{const r=s.fromNode.datumIndex,n=this.getLinkStyle(s,r,i);o.centerX=s.centerX,o.centerY=s.centerY,o.radius=s.radius,o.startAngle1=s.startAngle1,o.endAngle1=s.endAngle1,o.startAngle2=s.startAngle2,o.endAngle2=s.endAngle2,o.tension=n.tension,applyShapeStyle7(o,n,a)})}getShapeFillBBox(){const e=this._nodeDataDependencies?.seriesRectWidth??0,t=this._nodeDataDependencies?.seriesRectHeight??0,i=Math.min(e,t),a=(e-i)/2,o=(t-i)/2,s=new BBox6(a,o,e,t);return{series:s,axis:s}}getTooltipContent(e){const{id:t,linksProcessedData:i,nodesProcessedData:a,properties:o,ctx:{formatManager:s}}=this,{fromKey:r,toKey:n,sizeKey:l,sizeName:c,tooltip:h}=o,p=this.contextNodeData?.nodeData.find(b=>b.datumIndex.type===e.type&&b.datumIndex.index===e.index);if(p==null)return;const u=p.type===0?p.fromNode.index:p.index,d=p.type===0?`${p.fromNode.label} - ${p.toNode.label}`:p.label,y=e.type===0?i?.dataSources.get(this.id)?.[e.index]:a?.dataSources.get(this.id)?.[e.index],g=p.size;let m;if(p.type===0){const b=p.fromNode.datumIndex;m=this.getLinkStyle({datumIndex:e,datum:y},b,!1)}else{const b=p.label;m=this.getNodeStyle({datumIndex:e,datum:y,size:g,label:b},e.index,!1)}const f=[];if(l!=null){const b=s.format(this.callWithContext.bind(this),{type:"number",value:g,datum:y,seriesId:t,legendItemName:void 0,key:l,source:"tooltip",property:"size",domain:[],boundSeries:this.getFormatterContext("size"),fractionDigits:void 0});f.push({label:c,fallbackLabel:l,value:b??String(g)})}return this.formatTooltipWithContext(h,{title:d,symbol:this.legendItemSymbol(p.type,u,m),data:f},{seriesId:t,datum:y,title:d,fromKey:r,toKey:n,sizeKey:l,sizeName:c,size:g,...m})}computeFocusBounds(e){return e}hasItemStylers(){return this.properties.node.itemStyler!=null||this.properties.link.itemStyler!=null}};ChordSeries.className="ChordSeries",ChordSeries.type="chord";var import_ag_charts_community69=require("ag-charts-community"),import_ag_charts_core24=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs8,chordSeriesThemeableOptionsDef}=import_ag_charts_community69._ModuleSupport,chordSeriesOptionsDef={...chordSeriesThemeableOptionsDef,...commonSeriesOptionsDefs8,type:(0,import_ag_charts_core24.required)((0,import_ag_charts_core24.constant)("chord")),fromKey:(0,import_ag_charts_core24.required)(import_ag_charts_core24.string),toKey:(0,import_ag_charts_core24.required)(import_ag_charts_core24.string),sizeKey:import_ag_charts_core24.string,sizeName:import_ag_charts_core24.string};chordSeriesOptionsDef.fillGradientDefaults=(0,import_ag_charts_core24.undocumented)(import_ag_charts_core24.fillGradientDefaults),chordSeriesOptionsDef.fillPatternDefaults=(0,import_ag_charts_core24.undocumented)(import_ag_charts_core24.fillPatternDefaults),chordSeriesOptionsDef.fillImageDefaults=(0,import_ag_charts_core24.undocumented)(import_ag_charts_core24.fillImageDefaults);var ChordModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["standalone"],solo:!0,identifier:"chord",moduleFactory:e=>new ChordSeries(e),themeTemplate:{series:{fills:{$palette:"fills"},strokes:{$palette:"strokes"},fillGradientDefaults:import_ag_charts_community70._ModuleSupport.FILL_GRADIENT_LINEAR_DEFAULTS,fillPatternDefaults:import_ag_charts_community70._ModuleSupport.FILL_PATTERN_DEFAULTS,fillImageDefaults:import_ag_charts_community70._ModuleSupport.FILL_IMAGE_DEFAULTS,highlightStyle:{series:{dimOpacity:.2}},highlight:import_ag_charts_community70._ModuleSupport.singleSeriesHighlightStyle(),label:{...import_ag_charts_community70._ModuleSupport.LABEL_BOXING_DEFAULTS,fontFamily:{$ref:"fontFamily"},fontSize:{$ref:"fontSize"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"},spacing:5,maxWidth:100},node:{spacing:8,width:10,strokeWidth:{$isUserOption:["./stroke",2,0]}},link:{fillOpacity:.5,strokeWidth:{$isUserOption:["./stroke",2,0]},tension:.4}},legend:{enabled:!1,toggleSeries:!1}}},ChordSeriesModule={type:"series",name:"chord",chartType:"standalone",enterprise:!0,options:chordSeriesOptionsDef,create:e=>new ChordSeries(e)},import_ag_charts_community71=require("ag-charts-community"),{ThemeConstants:{CARTESIAN_AXIS_TYPE:CARTESIAN_AXIS_TYPE7,CARTESIAN_POSITION:CARTESIAN_POSITION5},ThemeSymbols:{DEFAULT_SHADOW_COLOUR}}=import_ag_charts_community71._ModuleSupport,isHorizontal={$eq:[{$path:["/series/0/direction",void 0]},"horizontal"]},labelOptions={autoRotate:{$path:"/series/0/stageLabel/autoRotate"},autoRotateAngle:{$path:"/series/0/stageLabel/autoRotateAngle"},avoidCollisions:{$path:["/series/0/stageLabel/avoidCollisions",!0]},border:{$path:["/series/0/stageLabel/border"]},color:{$path:["/series/0/stageLabel/color",{$ref:"textColor"}]},cornerRadius:{$path:["/series/0/stageLabel/cornerRadius"]},enabled:{$if:[{$eq:[{$path:"/series/0/stageLabel/enabled"},void 0]},!0,{$path:"/series/0/stageLabel/enabled"}]},fill:{$path:["/series/0/stageLabel/fill"]},fillOpacity:{$path:["/series/0/stageLabel/fillOpacity"]},fontSize:{$path:["/series/0/stageLabel/fontSize",{$ref:"fontSize"}]},fontStyle:{$path:["/series/0/stageLabel/fontStyle",{$ref:"fontStyle"}]},fontWeight:{$path:["/series/0/stageLabel/fontWeight",{$ref:"fontWeight"}]},format:{$path:"/series/0/stageLabel/format"},formatter:{$path:"/series/0/stageLabel/formatter"},itemStyler:{$path:"/series/0/stageLabel/itemStyler"},minSpacing:{$path:"/series/0/stageLabel/minSpacing"},padding:{$path:["/series/0/stageLabel/padding"]},rotation:{$path:["/series/0/stageLabel/rotation",0]}},FUNNEL_SERIES_AXES=[{type:{$if:[isHorizontal,CARTESIAN_AXIS_TYPE7.NUMBER,CARTESIAN_AXIS_TYPE7.CATEGORY]},position:{$if:[isHorizontal,CARTESIAN_POSITION5.LEFT,{$if:[{$eq:[{$path:["/series/0/stageLabel/placement",void 0]},"after"]},CARTESIAN_POSITION5.RIGHT,CARTESIAN_POSITION5.LEFT]}]},label:{$if:[isHorizontal,void 0,labelOptions]}},{type:{$if:[isHorizontal,CARTESIAN_AXIS_TYPE7.CATEGORY,CARTESIAN_AXIS_TYPE7.NUMBER]},position:{$if:[isHorizontal,{$if:[{$eq:[{$path:["/series/0/stageLabel/placement",void 0]},"before"]},CARTESIAN_POSITION5.TOP,CARTESIAN_POSITION5.BOTTOM]},CARTESIAN_POSITION5.BOTTOM]},label:{$if:[isHorizontal,labelOptions,void 0]}}],FUNNEL_SERIES_THEME={series:{direction:"vertical",strokeWidth:{$isUserOption:["./strokes/0",2,0]},spacingRatio:.25,fills:[{$palette:"fill"}],strokes:[{$palette:"stroke"}],fillGradientDefaults:import_ag_charts_community71._ModuleSupport.FILL_GRADIENT_LINEAR_DEFAULTS,fillPatternDefaults:import_ag_charts_community71._ModuleSupport.FILL_PATTERN_DEFAULTS,fillImageDefaults:import_ag_charts_community71._ModuleSupport.FILL_IMAGE_DEFAULTS,label:{...import_ag_charts_community71._ModuleSupport.LABEL_BOXING_DEFAULTS,enabled:!0,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"chartBackgroundColor"}},dropOff:{enabled:!0,fillOpacity:.2,strokeWidth:{$isUserOption:["./stroke",2,0]}},shadow:{enabled:!1,color:DEFAULT_SHADOW_COLOUR,xOffset:3,yOffset:3,blur:5},highlight:import_ag_charts_community71._ModuleSupport.singleSeriesHighlightStyle()},axes:{[CARTESIAN_AXIS_TYPE7.NUMBER]:{nice:!1,gridLine:{enabled:!1},crosshair:{enabled:!1},label:{enabled:!1}},[CARTESIAN_AXIS_TYPE7.CATEGORY]:{line:{enabled:!1}}}},import_ag_charts_community76=require("ag-charts-community"),import_ag_charts_community74=require("ag-charts-community"),import_ag_charts_community72=require("ag-charts-community"),{lineDistanceSquared,BBox:BBox7,Path:Path7,SceneChangeDetection:SceneChangeDetection4}=import_ag_charts_community72._ModuleSupport,delta=1e-6;function pointsEq([e,t],[i,a]){return Math.abs(e-i)<=delta&&Math.abs(t-a)<=delta}var FunnelConnector=class extends Path7{constructor(){super(...arguments),this.x0=0,this.y0=0,this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.x3=0,this.y3=0}get midPoint(){const{x0:e,y0:t,x1:i,y1:a,x2:o,y2:s,x3:r,y3:n}=this;return{x:(e+i+o+r)/4,y:(t+a+s+n)/4}}distanceSquared(e,t){if(this.containsPoint(e,t))return 0;const{x0:i,y0:a,x1:o,y1:s,x2:r,y2:n,x3:l,y3:c}=this;return Math.min(lineDistanceSquared(e,t,i,a,o,s,1/0),lineDistanceSquared(e,t,o,s,r,n,1/0),lineDistanceSquared(e,t,r,n,l,c,1/0),lineDistanceSquared(e,t,l,c,i,a,1/0))}computeBBox(){const{x0:e,y0:t,x1:i,y1:a,x2:o,y2:s,x3:r,y3:n}=this,l=Math.min(e,i,o,r),c=Math.max(e,i,o,r)-l,h=Math.min(t,a,s,n),p=Math.max(t,a,s,n)-h;return new BBox7(l,h,c,p)}updatePath(){const{path:e,x0:t,y0:i,x1:a,y1:o,x2:s,y2:r,x3:n,y3:l}=this,c=[[t,i],[a,o],[s,r],[n,l]];e.clear();let h,p;c.forEach(u=>{if(h!=null&&pointsEq(h,u)||p!=null&&pointsEq(p,u))return;const[d,y]=u;h==null?e.moveTo(d,y):e.lineTo(d,y),h??(h=u),p=u}),e.closePath()}};__decorateClass([SceneChangeDetection4()],FunnelConnector.prototype,"x0",2),__decorateClass([SceneChangeDetection4()],FunnelConnector.prototype,"y0",2),__decorateClass([SceneChangeDetection4()],FunnelConnector.prototype,"x1",2),__decorateClass([SceneChangeDetection4()],FunnelConnector.prototype,"y1",2),__decorateClass([SceneChangeDetection4()],FunnelConnector.prototype,"x2",2),__decorateClass([SceneChangeDetection4()],FunnelConnector.prototype,"y2",2),__decorateClass([SceneChangeDetection4()],FunnelConnector.prototype,"x3",2),__decorateClass([SceneChangeDetection4()],FunnelConnector.prototype,"y3",2);var import_ag_charts_community73=require("ag-charts-community"),{NODE_UPDATE_STATE_TO_PHASE_MAPPING}=import_ag_charts_community73._ModuleSupport;function connectorStartingPosition(e,t,i,a){const{x0:o,y0:s,x1:r,y1:n,x2:l,y2:c,x3:h,y3:p,opacity:u}=e;return i?{x0:(o+h)/2,y0:(s+p)/2,x1:(r+l)/2,y1:(n+c)/2,x2:(r+l)/2,y2:(n+c)/2,x3:(o+h)/2,y3:(s+p)/2,opacity:u}:{x0:(o+r)/2,y0:(s+n)/2,x1:(o+r)/2,y1:(s+n)/2,x2:(l+h)/2,y2:(c+p)/2,x3:(l+h)/2,y3:(c+p)/2,opacity:u}}function prepareConnectorAnimationFunctions(e,t){const i=s=>s==null;return{fromFn:(s,r,n)=>{n==="updated"&&i(r)?n="removed":n==="updated"&&i(s.previousDatum)&&(n="added");let l;n==="added"&&s.previousDatum==null&&t==="fade"?l={...resetConnectorSelectionsFn(s,r),opacity:0}:n==="unknown"||n==="added"?l=connectorStartingPosition(r,s.previousDatum,e,t):l={x0:s.x0,y0:s.y0,x1:s.x1,y1:s.y1,x2:s.x2,y2:s.y2,x3:s.x3,y3:s.y3,opacity:s.opacity};const c=NODE_UPDATE_STATE_TO_PHASE_MAPPING[n];return{...l,phase:c}},toFn:(s,r,n)=>{let l;return n==="removed"&&s.datum==null&&t==="fade"?l={...resetConnectorSelectionsFn(s,r),opacity:0}:n==="removed"||i(r)?l=connectorStartingPosition(r,s.previousDatum,e,t):l=resetConnectorSelectionsFn(s,r),l}}}function resetConnectorSelectionsFn(e,t){const{x0:i,y0:a,x1:o,y1:s,x2:r,y2:n,x3:l,y3:c,opacity:h}=t;return{x0:i,y0:a,x1:o,y1:s,x2:r,y2:n,x3:l,y3:c,opacity:h}}var{SeriesNodePickMode:SeriesNodePickMode7,SeriesZIndexMap,valueProperty:valueProperty8,keyProperty:keyProperty7,ChartAxisDirection:ChartAxisDirection12,updateLabelNode:updateLabelNode5,SMALLEST_KEY_INTERVAL:SMALLEST_KEY_INTERVAL4,LARGEST_KEY_INTERVAL:LARGEST_KEY_INTERVAL2,diff:diff5,fixNumericExtent:fixNumericExtent6,seriesLabelFadeInAnimation:seriesLabelFadeInAnimation4,resetMotion:resetMotion2,resetLabelFn:resetLabelFn4,animationValidation:animationValidation6,computeBarFocusBounds:computeBarFocusBounds6,ContinuousScale:ContinuousScale4,Group:Group6,Selection:Selection5,PointerEvents:PointerEvents4,motion:motion4,checkCrisp:checkCrisp3,createDatumId:createDatumId7,applyShapeStyle:applyShapeStyle8,getShapeStyle:getShapeStyle7,getShapeFill:getShapeFill3}=import_ag_charts_community74._ModuleSupport,FunnelSeriesNodeEvent=class extends import_ag_charts_community74._ModuleSupport.SeriesNodeEvent{constructor(e,t,i,a){super(e,t,i,a),this.xKey=a.properties.stageKey,this.yKey=a.properties.valueKey}},BaseFunnelSeries=class extends import_ag_charts_community74._ModuleSupport.AbstractBarSeries{constructor({moduleCtx:e,animationResetFns:t}){super({moduleCtx:e,pickModes:[SeriesNodePickMode7.AXIS_ALIGNED,SeriesNodePickMode7.EXACT_SHAPE_MATCH],propertyKeys:{x:["stageKey"],y:["valueKey"]},propertyNames:{x:[],y:[]},categoryKey:"xValue",datumSelectionGarbageCollection:!1,animationResetFns:{datum:t.datum,label:resetLabelFn4}}),this.NodeEvent=FunnelSeriesNodeEvent,this.connectorNodeGroup=this.contentGroup.appendChild(new Group6({name:`${this.id}-series-connectorNodes`,zIndex:SeriesZIndexMap.BACKGROUND})),this.connectorSelection=Selection5.select(this.connectorNodeGroup,()=>this.connectionFactory()),this.connectorNodeGroup.pointerEvents=PointerEvents4.None}get pickModeAxis(){return"main-category"}setZIndex(e){return super.setZIndex(e),this.connectorNodeGroup.zIndex=[SeriesZIndexMap.BACKGROUND,e],!0}isVertical(){return!super.isVertical()}connectionFactory(){return new FunnelConnector}async processData(e){const{stageKey:t,valueKey:i}=this.properties,{visible:a,id:o}=this,s=(y,g,m)=>a&&this.ctx.legendManager.getItemEnabled({seriesId:o,itemId:m}),r=this.getCategoryAxis()?.scale,n=this.getValueAxis()?.scale,{isContinuousX:l,xScaleType:c,yScaleType:h}=this.getScaleInformation({xScale:r,yScale:n}),p=[];this.ctx.animationManager.isSkipped()||(this.processedData&&p.push(diff5(this.id,this.processedData)),p.push(animationValidation6()));const u=this.visible?{}:{forceValue:0},{processedData:d}=await this.requestDataModel(e,this.data,{props:[keyProperty7(t,c,{id:"xValue"}),valueProperty8(i,h,{id:"yValue",...u,validation:s,invalidValue:0}),...l?[SMALLEST_KEY_INTERVAL4,LARGEST_KEY_INTERVAL2]:[],...p],groupByKeys:!1});this.smallestDataInterval=d.reduced?.smallestKeyInterval,this.largestDataInterval=d.reduced?.largestKeyInterval,this.animationState.transition("updateData")}getSeriesDomain(e){const{processedData:t,dataModel:i,id:a,ctx:{legendManager:o}}=this;if(!t||!i)return[];const{keys:[s]}=t.domain;if(e===this.getCategoryDirection()){const r=i.resolveProcessedDataDefById(this,"xValue");return r?.def.type==="key"&&r?.def.valueType==="category"?this.hasData?s.filter((n,l)=>o.getItemEnabled({seriesId:a,itemId:l})):[]:this.padBandExtent(s)}else{const r=this.domainForClippedRange(e,["yValue"],"xValue"),n=Math.max(...r),l=[-n,n];return fixNumericExtent6(l)}}getSeriesRange(e,t){return[NaN,NaN]}createNodeData(){const{hasData:e,data:t,dataModel:i,groupScale:a,processedData:o,id:s,ctx:{legendManager:r}}=this,n=this.getCategoryAxis(),l=this.getValueAxis();if(!(e&&t&&n&&l&&i&&o?.type==="ungrouped"))return;const c=n.scale,h=l.scale,p=this.getBarDirection()===ChartAxisDirection12.X,{stageKey:u,valueKey:d}=this.properties,{strokeWidth:y}=this.barStyle(),g=`${d}`,m={itemId:g,nodeData:[],labelData:[],connectorData:[],scales:this.calculateScaling(),groupScale:this.getScaling(this.groupScale),visible:this.visible},f=this.visible;if(!f)return m;const b=i.resolveKeysById(this,"xValue",o),x=i.resolveColumnById(this,"yValue",o),{barWidth:S,groupIndex:D}=this.updateGroupScale(n),_=ContinuousScale4.is(c)?S*-.5:0,k=checkCrisp3(n?.scale,n?.visibleRange,this.smallestDataInterval,this.largestDataInterval);let v;return(o.dataSources.get(this.id)??[]).forEach((I,M)=>{const L=f&&r.getItemEnabled({seriesId:s,itemId:M}),R=b[M];if(R==null)return;const C=Math.round(c.convert(R))+a.convert(String(D))+_,N=x[M],P=Math.round(h.convert(-N)),T=Math.round(h.convert(N)),w=Math.max(y,Math.abs(T-P)),E={x:p?Math.min(T,P):C,y:p?C:Math.min(T,P),width:p?w:S,height:p?S:w},O={x:E.x+E.width/2,y:E.y+E.height/2},F=this.createLabelData({datumIndex:M,rect:E,barAlongX:p,yDatum:N,datum:I,visible:L}),B={index:M,series:this,itemId:g,datum:I,datumIndex:M,xValue:R,yValue:N,xKey:u,yKey:d,x:E.x,y:E.y,width:E.width,height:E.height,midPoint:O,strokeWidth:y,crisp:k,label:F,visible:L};if(m.nodeData.push(B),F!=null&&m.labelData.push(F),v!=null){const G=v.rect,V=v.nodeDatum,K=v.datumIndex;p?m.connectorData.push({datum:V,datumIndex:K,x0:G.x,y0:G.y+G.height,x1:G.x+G.width,y1:G.y+G.height,x2:E.x+E.width,y2:E.y,x3:E.x,y3:E.y,opacity:1}):m.connectorData.push({datum:V,datumIndex:K,x0:G.x+G.width,y0:G.y,x1:E.x,y1:E.y,x2:E.x,y2:E.y+E.height,x3:G.x+G.width,y3:G.y+G.height,opacity:1})}L&&(v={itemId:g,rect:E,nodeDatum:B,datumIndex:M})}),m}updateNodes(e,t){super.updateNodes(e,t);const{connectorSelection:i}=this,a=this.contextNodeData?.connectorData??[];this.connectorSelection=this.updateConnectorSelection({connectorSelection:i,connectorData:a}),this.updateConnectorNodes({connectorSelection:i})}updateDatumSelection(e){const{nodeData:t,datumSelection:i}=e,a=t??[];return i.update(a,void 0,o=>this.getDatumId(o))}updateConnectorSelection(e){const{connectorData:t,connectorSelection:i}=e;return i.update(this.connectorEnabled()?t:[],void 0,a=>this.getDatumId(a.datum))}updateConnectorNodes(e){const{fills:t,strokes:i,fillGradientDefaults:a,fillPatternDefaults:o,fillImageDefaults:s}=this.properties,{fill:r,fillOpacity:n,stroke:l,strokeOpacity:c,strokeWidth:h,lineDash:p,lineDashOffset:u}=this.connectorStyle(),d=this.getShapeFillBBox();e.connectorSelection.each((y,g)=>{const{datumIndex:m}=g;y.setProperties(resetConnectorSelectionsFn(y,g));const f=getShapeFill3(r??t[m%t.length],a,o,s);applyShapeStyle8(y,{fill:f,stroke:l??i[m%i.length],fillOpacity:n,strokeOpacity:c,strokeWidth:h,lineDash:p,lineDashOffset:u},d)})}getHighlightLabelData(e,t){const i=e.filter(a=>a.datum===t.datum);return i.length>0?i:void 0}updateLabelSelection(e){const t=this.properties.label.enabled?e.labelData:[];return e.labelSelection.update(t,i=>{i.pointerEvents=PointerEvents4.None})}updateLabelNodes(e){const t={stageKey:this.properties.stageKey,valueKey:this.properties.valueKey};e.labelSelection.each((i,a)=>{i.fillOpacity=this.getHighlightStyle(!1,a.datumIndex).opacity??1,updateLabelNode5(this,i,t,this.properties.label,a)})}getTooltipContent(e){const{id:t,dataModel:i,processedData:a,properties:o}=this,{stageKey:s,valueKey:r,tooltip:n,legendItemName:l}=o,c=this.getCategoryAxis(),h=this.getValueAxis();if(!i||!a||!c||!h)return;const p=a.dataSources.get(this.id)?.[e],u=i.resolveKeysById(this,"xValue",a)[e],d=i.resolveColumnById(this,"yValue",a)[e];if(u!=null)return this.formatTooltipWithContext(n,{symbol:this.legendItemSymbol(e),data:[{label:this.getAxisValueText(c,"tooltip",u,p,s,l),value:this.getAxisValueText(h,"tooltip",d,p,r,l)}]},{seriesId:t,datum:p,title:s,stageKey:s,valueKey:r,...this.tooltipStyle(p,e)})}resetAllAnimation(e){super.resetAllAnimation(e),resetMotion2([this.connectorSelection],resetConnectorSelectionsFn)}animateEmptyUpdateReady({labelSelection:e}){const{connectorSelection:t}=this,i=this.isVertical(),o=prepareConnectorAnimationFunctions(i,"normal");motion4.fromToMotion(this.id,"connectors",this.ctx.animationManager,[t],o),seriesLabelFadeInAnimation4(this,"labels",this.ctx.animationManager,e)}animateWaitingUpdateReady(e){const{labelSelection:t}=e;this.ctx.animationManager.stopByAnimationGroupId(this.id),seriesLabelFadeInAnimation4(this,"labels",this.ctx.animationManager,t)}getDatumId(e){return createDatumId7(e.xValue)}isLabelEnabled(){return this.properties.label.enabled}computeFocusBounds({datumIndex:e}){return computeBarFocusBounds6(this,this.contextNodeData?.nodeData[e])}legendItemSymbol(e){const{strokeWidth:t,fillOpacity:i,strokeOpacity:a,lineDash:o,lineDashOffset:s,fillGradientDefaults:r,fillPatternDefaults:n,fillImageDefaults:l}=this.barStyle(),{fills:c,strokes:h}=this.properties,p=c[e%c.length]??"black",u=h[e%h.length]??"black";return{marker:getShapeStyle7({fill:p,fillOpacity:i,stroke:u,strokeWidth:t,strokeOpacity:a,lineDash:o,lineDashOffset:s},r,n,l)}}getLegendData(e){const{id:t,processedData:i,dataModel:a,ctx:{legendManager:o},visible:s}=this;if(!a||!i||e!=="category")return[];const{showInLegend:r}=this.properties,n=a.resolveKeysById(this,"xValue",i);return(i.dataSources.get(this.id)??[]).map((l,c)=>{const h=n[c];if(h!=null)return{legendType:"category",id:t,datum:l,itemId:c,seriesId:t,enabled:s&&o.getItemEnabled({seriesId:t,itemId:c}),label:{text:String(h)},symbol:this.legendItemSymbol(c),skipAnimations:!0,hideInLegend:!r}}).filter(l=>l!=null)}hasItemStylers(){return this.properties.itemStyler!=null}},import_ag_charts_community75=require("ag-charts-community"),{FillGradientDefaults:FillGradientDefaults7,FillPatternDefaults:FillPatternDefaults7,FillImageDefaults:FillImageDefaults7,Label:Label5,AbstractBarSeriesProperties:AbstractBarSeriesProperties5,makeSeriesTooltip:makeSeriesTooltip9,AxisLabel,Property:Property21}=import_ag_charts_community75._ModuleSupport,ConeFunnelSeriesLabel=class extends Label5{constructor(){super(...arguments),this.spacing=0}};__decorateClass([Property21],ConeFunnelSeriesLabel.prototype,"placement",2),__decorateClass([Property21],ConeFunnelSeriesLabel.prototype,"spacing",2);var ConeFunnelSeriesStageLabel=class extends AxisLabel{};__decorateClass([Property21],ConeFunnelSeriesStageLabel.prototype,"placement",2);var ConeFunnelProperties=class extends AbstractBarSeriesProperties5{constructor(){super(...arguments),this.fills=[],this.fillGradientDefaults=new FillGradientDefaults7,this.fillPatternDefaults=new FillPatternDefaults7,this.fillImageDefaults=new FillImageDefaults7,this.fillOpacity=1,this.strokes=[],this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.label=new ConeFunnelSeriesLabel,this.stageLabel=new ConeFunnelSeriesStageLabel,this.tooltip=makeSeriesTooltip9()}};__decorateClass([Property21],ConeFunnelProperties.prototype,"stageKey",2),__decorateClass([Property21],ConeFunnelProperties.prototype,"valueKey",2),__decorateClass([Property21],ConeFunnelProperties.prototype,"fills",2),__decorateClass([Property21],ConeFunnelProperties.prototype,"fillGradientDefaults",2),__decorateClass([Property21],ConeFunnelProperties.prototype,"fillPatternDefaults",2),__decorateClass([Property21],ConeFunnelProperties.prototype,"fillImageDefaults",2),__decorateClass([Property21],ConeFunnelProperties.prototype,"fillOpacity",2),__decorateClass([Property21],ConeFunnelProperties.prototype,"strokes",2),__decorateClass([Property21],ConeFunnelProperties.prototype,"strokeWidth",2),__decorateClass([Property21],ConeFunnelProperties.prototype,"strokeOpacity",2),__decorateClass([Property21],ConeFunnelProperties.prototype,"lineDash",2),__decorateClass([Property21],ConeFunnelProperties.prototype,"lineDashOffset",2),__decorateClass([Property21],ConeFunnelProperties.prototype,"label",2),__decorateClass([Property21],ConeFunnelProperties.prototype,"stageLabel",2),__decorateClass([Property21],ConeFunnelProperties.prototype,"tooltip",2);function resetLineSelectionsFn(e,{x:t,y:i,width:a,height:o,opacity:s}){return{x1:t,y1:i,x2:t+a,y2:i+o,opacity:s??1}}var{Line:Line4,ChartAxisDirection:ChartAxisDirection13}=import_ag_charts_community76._ModuleSupport,ConeFunnelSeries=class extends BaseFunnelSeries{constructor(e){super({moduleCtx:e,animationResetFns:{datum:resetLineSelectionsFn}}),this.properties=new ConeFunnelProperties}get hasData(){const{id:e,ctx:{legendManager:t}}=this,i=this.data?.reduce((a,o,s)=>a+(t.getItemEnabled({seriesId:e,itemId:s})?1:0),0);return i!=null&&i>1}getBandScalePadding(){return{inner:1,outer:0}}connectorEnabled(){return!0}barStyle(){return{fillOpacity:1,strokeOpacity:1,strokeWidth:0,lineDash:[],lineDashOffset:0,fillGradientDefaults:this.properties.fillGradientDefaults,fillPatternDefaults:this.properties.fillPatternDefaults,fillImageDefaults:this.properties.fillImageDefaults}}connectorStyle(){const{fillOpacity:e,strokeOpacity:t,strokeWidth:i,lineDash:a,lineDashOffset:o,fillGradientDefaults:s,fillPatternDefaults:r,fillImageDefaults:n}=this.properties;return{fillOpacity:e,strokeOpacity:t,strokeWidth:i,lineDash:a,lineDashOffset:o,fillGradientDefaults:s,fillPatternDefaults:r,fillImageDefaults:n}}nodeFactory(){return new Line4}createLabelData({datumIndex:e,rect:t,barAlongX:i,yDatum:a,datum:o,visible:s}){const{stageKey:r,valueKey:n,label:l}=this.properties,{spacing:c,placement:h}=l;if(!l.enabled)return;let p,u,d,y;if(i)switch(p=t.x+t.width/2,d="center",h){case"before":u=t.y-c,y="bottom";break;case"after":u=t.y+t.height+c,y="top";break;default:u=t.y+t.height/2,y="middle"}else switch(u=t.y+t.height/2,y="middle",h){case"before":p=t.x-c,d="right";break;case"after":p=t.x+t.width+c,d="left";break;default:p=t.x+t.width/2,d="center"}const g=this.getSeriesDomain(ChartAxisDirection13.Y),m=this.getLabelText(a,o,n,"y",g,l,{itemId:n,value:a,datum:o,stageKey:r,valueKey:n});return{x:p,y:u,textAlign:d,textBaseline:y,text:m,itemId:n,datum:o,datumIndex:e,series:this,visible:s}}updateDatumNodes(e){const t=this.getHighlightStyle(e.isHighlight);e.datumSelection.each((i,a)=>{i.setProperties(resetLineSelectionsFn(i,a)),i.stroke=t?.stroke,i.strokeWidth=t?.strokeWidth??0,i.strokeOpacity=t?.strokeOpacity??1,i.lineDash=t?.lineDash,i.lineDashOffset=t?.lineDashOffset??0,i.opacity=t?.opacity??1})}tooltipStyle(e,t){const{fills:i,strokes:a}=this.properties,o=i[t%i.length]??"black",s=a[t%a.length]??"black",{fillOpacity:r,strokeOpacity:n,strokeWidth:l,lineDash:c,lineDashOffset:h}=this.barStyle();return{fill:o,fillOpacity:r,stroke:s,strokeOpacity:n,strokeWidth:l,lineDash:c,lineDashOffset:h}}hasItemStylers(){return this.properties.label.itemStyler!=null}};ConeFunnelSeries.className="ConeFunnelSeries",ConeFunnelSeries.type="cone-funnel";var import_ag_charts_community77=require("ag-charts-community"),import_ag_charts_core25=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs9,coneFunnelSeriesThemeableOptionsDef,without:without3}=import_ag_charts_community77._ModuleSupport,coneFunnelSeriesOptionsDef={...without3(commonSeriesOptionsDefs9,["showInLegend"]),...coneFunnelSeriesThemeableOptionsDef,type:(0,import_ag_charts_core25.required)((0,import_ag_charts_core25.constant)("cone-funnel")),stageKey:(0,import_ag_charts_core25.required)(import_ag_charts_core25.string),valueKey:(0,import_ag_charts_core25.required)(import_ag_charts_core25.string)},import_ag_charts_community78=require("ag-charts-community"),{ThemeConstants:{CARTESIAN_AXIS_TYPE:CARTESIAN_AXIS_TYPE8}}=import_ag_charts_community78._ModuleSupport,CONE_FUNNEL_SERIES_THEME={series:{direction:"vertical",fills:{$if:[{$eq:[{$palette:"type"},"inbuilt"]},{$palette:"secondSequentialColors"},import_ag_charts_community78._ModuleSupport.SAFE_RANGE2_OPERATION]},strokes:{$if:[{$eq:[{$palette:"type"},"inbuilt"]},{$palette:"secondSequentialColors"},import_ag_charts_community78._ModuleSupport.SAFE_RANGE2_OPERATION]},fillGradientDefaults:import_ag_charts_community78._ModuleSupport.FILL_GRADIENT_LINEAR_DEFAULTS,fillPatternDefaults:import_ag_charts_community78._ModuleSupport.FILL_PATTERN_DEFAULTS,fillImageDefaults:import_ag_charts_community78._ModuleSupport.FILL_IMAGE_DEFAULTS,strokeWidth:{$isUserOption:["./strokes/0",2,0]},label:{...import_ag_charts_community78._ModuleSupport.LABEL_BOXING_DEFAULTS,enabled:!0,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"},placement:"before",spacing:4},tooltip:{range:{$path:["/tooltip/range","nearest"]}},highlight:import_ag_charts_community78._ModuleSupport.singleSeriesHighlightStyle(!1)},seriesArea:{padding:{top:20,bottom:20}},axes:{[CARTESIAN_AXIS_TYPE8.NUMBER]:{nice:!1,gridLine:{enabled:!1},crosshair:{enabled:!1},label:{enabled:!1}},[CARTESIAN_AXIS_TYPE8.CATEGORY]:{line:{enabled:!1}}}},ConeFunnelSeriesModule={type:"series",name:"cone-funnel",chartType:"cartesian",enterprise:!0,options:coneFunnelSeriesOptionsDef,create:e=>new ConeFunnelSeries(e)},import_ag_charts_community80=require("ag-charts-community"),import_ag_charts_community79=require("ag-charts-community"),{FillGradientDefaults:FillGradientDefaults8,FillPatternDefaults:FillPatternDefaults8,FillImageDefaults:FillImageDefaults8,Label:Label6,DropShadow:DropShadow4,AbstractBarSeriesProperties:AbstractBarSeriesProperties6,BaseProperties:BaseProperties7,makeSeriesTooltip:makeSeriesTooltip10,AxisLabel:AxisLabel2,Property:Property22}=import_ag_charts_community79._ModuleSupport,FunnelSeriesLabel=class extends Label6{},FunnelSeriesStageLabel=class extends AxisLabel2{};__decorateClass([Property22],FunnelSeriesStageLabel.prototype,"placement",2);var FunnelDropOff=class extends BaseProperties7{constructor(){super(...arguments),this.enabled=!0,this.fill=void 0,this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0}};__decorateClass([Property22],FunnelDropOff.prototype,"enabled",2),__decorateClass([Property22],FunnelDropOff.prototype,"fill",2),__decorateClass([Property22],FunnelDropOff.prototype,"fillOpacity",2),__decorateClass([Property22],FunnelDropOff.prototype,"stroke",2),__decorateClass([Property22],FunnelDropOff.prototype,"strokeWidth",2),__decorateClass([Property22],FunnelDropOff.prototype,"strokeOpacity",2),__decorateClass([Property22],FunnelDropOff.prototype,"lineDash",2),__decorateClass([Property22],FunnelDropOff.prototype,"lineDashOffset",2);var FunnelProperties=class extends AbstractBarSeriesProperties6{constructor(){super(...arguments),this.fills=[],this.fillGradientDefaults=new FillGradientDefaults8,this.fillPatternDefaults=new FillPatternDefaults8,this.fillImageDefaults=new FillImageDefaults8,this.fillOpacity=1,this.strokes=[],this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.spacingRatio=0,this.dropOff=new FunnelDropOff,this.shadow=new DropShadow4().set({enabled:!1}),this.label=new FunnelSeriesLabel,this.stageLabel=new FunnelSeriesStageLabel,this.tooltip=makeSeriesTooltip10()}getStyle(e){const{fills:t,strokes:i,fillOpacity:a,strokeWidth:o,strokeOpacity:s,lineDash:r,lineDashOffset:n}=this;return{fill:t[e%t.length],fillOpacity:a,stroke:i[e%i.length],strokeWidth:o,strokeOpacity:s,lineDash:r,lineDashOffset:n,opacity:1}}};__decorateClass([Property22],FunnelProperties.prototype,"stageKey",2),__decorateClass([Property22],FunnelProperties.prototype,"valueKey",2),__decorateClass([Property22],FunnelProperties.prototype,"fills",2),__decorateClass([Property22],FunnelProperties.prototype,"fillGradientDefaults",2),__decorateClass([Property22],FunnelProperties.prototype,"fillPatternDefaults",2),__decorateClass([Property22],FunnelProperties.prototype,"fillImageDefaults",2),__decorateClass([Property22],FunnelProperties.prototype,"fillOpacity",2),__decorateClass([Property22],FunnelProperties.prototype,"strokes",2),__decorateClass([Property22],FunnelProperties.prototype,"strokeWidth",2),__decorateClass([Property22],FunnelProperties.prototype,"strokeOpacity",2),__decorateClass([Property22],FunnelProperties.prototype,"lineDash",2),__decorateClass([Property22],FunnelProperties.prototype,"lineDashOffset",2),__decorateClass([Property22],FunnelProperties.prototype,"spacingRatio",2),__decorateClass([Property22],FunnelProperties.prototype,"itemStyler",2),__decorateClass([Property22],FunnelProperties.prototype,"dropOff",2),__decorateClass([Property22],FunnelProperties.prototype,"shadow",2),__decorateClass([Property22],FunnelProperties.prototype,"label",2),__decorateClass([Property22],FunnelProperties.prototype,"stageLabel",2),__decorateClass([Property22],FunnelProperties.prototype,"tooltip",2);var{ChartAxisDirection:ChartAxisDirection14,resetBarSelectionsFn:resetBarSelectionsFn3,prepareBarAnimationFunctions:prepareBarAnimationFunctions3,midpointStartingBarPosition:midpointStartingBarPosition2,createDatumId:createDatumId8,Rect:Rect5,motion:motion5,applyShapeStyle:applyShapeStyle9,getShapeStyle:getShapeStyle8,mergeDefaults:mergeDefaults9}=import_ag_charts_community80._ModuleSupport,FunnelSeries=class extends BaseFunnelSeries{constructor(e){super({moduleCtx:e,animationResetFns:{datum:resetBarSelectionsFn3}}),this.properties=new FunnelProperties}getBandScalePadding(){return{inner:this.properties.spacingRatio,outer:0}}connectorEnabled(){return this.properties.dropOff.enabled}barStyle(){const{fillOpacity:e,strokeOpacity:t,strokeWidth:i,lineDash:a,lineDashOffset:o,fillGradientDefaults:s,fillPatternDefaults:r,fillImageDefaults:n}=this.properties;return{fillOpacity:e,strokeOpacity:t,strokeWidth:i,lineDash:a,lineDashOffset:o,fillGradientDefaults:s,fillPatternDefaults:r,fillImageDefaults:n}}connectorStyle(){const{fill:e,fillOpacity:t,stroke:i,strokeOpacity:a,strokeWidth:o,lineDash:s,lineDashOffset:r}=this.properties.dropOff;return{fill:e,fillOpacity:t,stroke:i,strokeOpacity:a,strokeWidth:o,lineDash:s,lineDashOffset:r,fillGradientDefaults:this.properties.fillGradientDefaults,fillPatternDefaults:this.properties.fillPatternDefaults,fillImageDefaults:this.properties.fillImageDefaults}}nodeFactory(){return new Rect5}createLabelData({datumIndex:e,rect:t,yDatum:i,datum:a,visible:o}){const{valueKey:s,stageKey:r,label:n}=this.properties;if(!n.enabled)return;const l=this.getSeriesDomain(ChartAxisDirection14.Y),c=this.getLabelText(i,a,s,"y",l,n,{itemId:s,value:i,datum:a,stageKey:r,valueKey:s});return{x:t.x+t.width/2,y:t.y+t.height/2,textAlign:"center",textBaseline:"middle",text:c,itemId:r,datum:a,datumIndex:e,series:this,visible:o}}getItemStyle({datum:e},t,i){const{id:a,properties:o}=this,{stageKey:s,valueKey:r,itemStyler:n}=o,l=this.getHighlightStyle(i,t),c=mergeDefaults9(l,o.getStyle(t));let h=getShapeStyle8(c,o.fillGradientDefaults,o.fillPatternDefaults,o.fillImageDefaults);if(n!=null){const p=this.ctx.highlightManager?.getActiveHighlight(),u=this.cachedDatumCallback(createDatumId8(t,i?"highlight":"node"),()=>{const d=this.getHighlightStateString(p,i,t);return this.callWithContext(n,{seriesId:a,datum:e,highlighted:i,highlightState:d,stageKey:s,valueKey:r,...h})});u&&(h=getShapeStyle8(mergeDefaults9(u,h),o.fillGradientDefaults,o.fillPatternDefaults,o.fillImageDefaults))}return h}updateDatumNodes(e){const{shadow:t}=this.properties,{datumSelection:i,isHighlight:a}=e,o=this.getCategoryDirection()===ChartAxisDirection14.X,s=this.getShapeFillBBox();i.each((r,n)=>{const{datumIndex:l}=n,c=this.getItemStyle(n,l,a);applyShapeStyle9(r,c,s),r.visible=o?n.width>0:n.height>0,r.crisp=n.crisp,r.fillShadow=t})}tooltipStyle(e,t){return this.getItemStyle({datumIndex:t,datum:e},t,!1)}animateEmptyUpdateReady(e){super.animateEmptyUpdateReady(e);const{datumSelection:t}=e,i=this.isVertical(),o=prepareBarAnimationFunctions3(midpointStartingBarPosition2(i,"normal"));motion5.fromToMotion(this.id,"datums",this.ctx.animationManager,[t],o)}animateWaitingUpdateReady(e){super.animateWaitingUpdateReady(e);const{datumSelection:t}=e,{processedData:i}=this,a=i?.reduced?.diff?.[this.id],o=prepareBarAnimationFunctions3(midpointStartingBarPosition2(this.isVertical(),"fade"));motion5.fromToMotion(this.id,"datums",this.ctx.animationManager,[t],o,(s,r)=>r.xValue,a)}hasItemStylers(){return this.properties.itemStyler!=null||this.properties.label.itemStyler!=null}};FunnelSeries.className="FunnelSeries",FunnelSeries.type="funnel";var import_ag_charts_community81=require("ag-charts-community"),import_ag_charts_core26=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs10,funnelSeriesThemeableOptionsDef,without:without4}=import_ag_charts_community81._ModuleSupport,funnelSeriesOptionsDef={...funnelSeriesThemeableOptionsDef,...without4(commonSeriesOptionsDefs10,["showInLegend"]),type:(0,import_ag_charts_core26.required)((0,import_ag_charts_core26.constant)("funnel")),stageKey:(0,import_ag_charts_core26.required)(import_ag_charts_core26.string),valueKey:(0,import_ag_charts_core26.required)(import_ag_charts_core26.string)},FunnelSeriesModule={type:"series",name:"funnel",chartType:"cartesian",enterprise:!0,options:funnelSeriesOptionsDef,create:e=>new FunnelSeries(e)},import_ag_charts_community87=require("ag-charts-community"),import_ag_charts_community86=require("ag-charts-community"),import_ag_charts_community82=require("ag-charts-community");function formatWithContext(e,t,i){return import_ag_charts_community82._ModuleSupport.callWithContext(e.chartService,t,i)}var DatumUnion=class{*[Symbol.iterator](){const{node:e,datum:t}=this;e&&t&&(yield{node:e,datum:t})}nodes(){return this.node?[this.node]:[]}update(e,t,i,a){const o=e.nodes();if(o.length===0)this.node?.remove(),this.node=void 0;else{this.node===void 0&&(this.node=new i,this.node.fillOpacity=0,this.node.strokeOpacity=0,t.appendChild(this.node));const s=o[0],r=o.toReversed().find(n=>n.datum.datum.value>n.datum.datum.segmentStart)??o[o.length-1];this.node.datum=this.datum=s.datum,a(this.node,s,r)}}},fadeInFns={fromFn:()=>({opacity:0,phase:"initial"}),toFn:()=>({opacity:1})};function formatLabel(e,t){if(e==null)return"";const{min:i,max:a}=t,o=i!==0?Math.ceil(Math.log10(Math.abs(i))):0,s=a!==0?Math.ceil(Math.log10(Math.abs(a))):0,r=Math.max(2-Math.max(o,s),0);return e.toFixed(r)}function getLabelText(e,t,i,a){if(i.text!=null)return i.text;const o=a??i.value;let s;if(i?.formatter!=null&&(s=formatWithContext(t,i.formatter,{seriesId:e,datum:void 0,value:o})),s!=null)return String(s)}function lineMarker({path:e,x:t,y:i,size:a}){e.moveTo(t,i-a/2),e.lineTo(t,i+a/2)}var import_ag_charts_core27=require("ag-charts-core");function pickGaugeNearestDatum(e,t){const i=(0,import_ag_charts_core27.iterate)(e.datumUnion.nodes(),e.targetSelection.nodes());return e.pickNodeNearestDistantObject(t,i)}function pickGaugeFocus(e,t){const i=[{data:e.contextNodeData?.nodeData,selection:e.datumUnion},{data:e.contextNodeData?.targetData,selection:e.targetSelection}].filter(l=>l.data&&l.data.length>0),a=(0,import_ag_charts_core27.clamp)(0,t.otherIndex+t.otherIndexDelta,i.length-1);if(i.length===0)return;const{data:o,selection:s}=i[a];if(o==null||o.length===0)return;const r=(0,import_ag_charts_core27.clamp)(0,t.datumIndex,o.length-1),n=o[r];for(const l of s)if(l.datum===n)return{bounds:l.node,clipFocusBox:!0,datum:n,datumIndex:r,otherIndex:a}}var import_ag_charts_community84=require("ag-charts-community"),import_ag_charts_community83=require("ag-charts-community"),import_ag_charts_core28=require("ag-charts-core"),{BaseProperties:BaseProperties8,Property:Property23}=import_ag_charts_community83._ModuleSupport,GaugeSegmentationIntervalProperties=class extends BaseProperties8{getSegments(e,t){const{values:i,step:a,count:o}=this,s=Math.min(...e.domain),r=Math.max(...e.domain);let n;if(i!=null){const l=i.filter(c=>c>s&&c<r).sort((c,h)=>c-h);n=[s,...l,r]}else if(a!=null){const l=[];for(let c=s;c<r;c+=a)l.push(c);l.push(r),n=l}else if(o!=null){const l=o+1;n=Array.from({length:l+1},(c,h)=>h/l*(r-s)+s)}else{const l=e.ticks({nice:!0,interval:void 0,tickCount:void 0,minTickCount:0,maxTickCount:1/0})?.ticks?.filter(c=>c>s&&c<r);n=l!=null?[s,...l,r]:void 0}return n!=null&&n.length>t&&(import_ag_charts_core28.Logger.warnOnce("the configured segmentation results in more than 1 item per pixel, ignoring. Supply a segmentation configuration that results in larger segments or omit this configuration"),n=void 0),n??(n=[s,r]),n}};__decorateClass([Property23],GaugeSegmentationIntervalProperties.prototype,"values",2),__decorateClass([Property23],GaugeSegmentationIntervalProperties.prototype,"step",2),__decorateClass([Property23],GaugeSegmentationIntervalProperties.prototype,"count",2);var GaugeSegmentationProperties=class extends BaseProperties8{constructor(){super(...arguments),this.enabled=!1,this.interval=new GaugeSegmentationIntervalProperties,this.spacing=0}};__decorateClass([Property23],GaugeSegmentationProperties.prototype,"enabled",2),__decorateClass([Property23],GaugeSegmentationProperties.prototype,"interval",2),__decorateClass([Property23],GaugeSegmentationProperties.prototype,"spacing",2);var{BaseProperties:BaseProperties9,makeSeriesTooltip:makeSeriesTooltip11,SeriesProperties:SeriesProperties2,PropertiesArray:PropertiesArray2,Property:Property24,Label:Label7,AxisLabel:AxisLabel3}=import_ag_charts_community84._ModuleSupport,LinearGaugeDefaultTargetLabelProperties=class extends Label7{};__decorateClass([Property24],LinearGaugeDefaultTargetLabelProperties.prototype,"spacing",2);var LinearGaugeTargetProperties=class extends BaseProperties9{constructor(){super(...arguments),this.value=0,this.label=new LinearGaugeDefaultTargetLabelProperties}};__decorateClass([Property24],LinearGaugeTargetProperties.prototype,"text",2),__decorateClass([Property24],LinearGaugeTargetProperties.prototype,"value",2),__decorateClass([Property24],LinearGaugeTargetProperties.prototype,"shape",2),__decorateClass([Property24],LinearGaugeTargetProperties.prototype,"placement",2),__decorateClass([Property24],LinearGaugeTargetProperties.prototype,"spacing",2),__decorateClass([Property24],LinearGaugeTargetProperties.prototype,"size",2),__decorateClass([Property24],LinearGaugeTargetProperties.prototype,"rotation",2),__decorateClass([Property24],LinearGaugeTargetProperties.prototype,"fill",2),__decorateClass([Property24],LinearGaugeTargetProperties.prototype,"fillOpacity",2),__decorateClass([Property24],LinearGaugeTargetProperties.prototype,"stroke",2),__decorateClass([Property24],LinearGaugeTargetProperties.prototype,"strokeWidth",2),__decorateClass([Property24],LinearGaugeTargetProperties.prototype,"strokeOpacity",2),__decorateClass([Property24],LinearGaugeTargetProperties.prototype,"lineDash",2),__decorateClass([Property24],LinearGaugeTargetProperties.prototype,"lineDashOffset",2),__decorateClass([Property24],LinearGaugeTargetProperties.prototype,"label",2);var LinearGaugeBarProperties=class extends BaseProperties9{constructor(){super(...arguments),this.enabled=!0,this.thicknessRatio=1,this.fills=new PropertiesArray2(import_ag_charts_community84._ModuleSupport.StopProperties),this.fillMode="continuous",this.fillOpacity=1,this.stroke="black",this.strokeWidth=0,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0}};__decorateClass([Property24],LinearGaugeBarProperties.prototype,"enabled",2),__decorateClass([Property24],LinearGaugeBarProperties.prototype,"thickness",2),__decorateClass([Property24],LinearGaugeBarProperties.prototype,"thicknessRatio",2),__decorateClass([Property24],LinearGaugeBarProperties.prototype,"fills",2),__decorateClass([Property24],LinearGaugeBarProperties.prototype,"fillMode",2),__decorateClass([Property24],LinearGaugeBarProperties.prototype,"fill",2),__decorateClass([Property24],LinearGaugeBarProperties.prototype,"fillOpacity",2),__decorateClass([Property24],LinearGaugeBarProperties.prototype,"stroke",2),__decorateClass([Property24],LinearGaugeBarProperties.prototype,"strokeWidth",2),__decorateClass([Property24],LinearGaugeBarProperties.prototype,"strokeOpacity",2),__decorateClass([Property24],LinearGaugeBarProperties.prototype,"lineDash",2),__decorateClass([Property24],LinearGaugeBarProperties.prototype,"lineDashOffset",2);var LinearGaugeScaleIntervalProperties=class extends BaseProperties9{constructor(){super(...arguments),this.values=void 0,this.step=void 0,this.minSpacing=0,this.maxSpacing=1e3}};__decorateClass([Property24],LinearGaugeScaleIntervalProperties.prototype,"values",2),__decorateClass([Property24],LinearGaugeScaleIntervalProperties.prototype,"step",2),__decorateClass([Property24],LinearGaugeScaleIntervalProperties.prototype,"minSpacing",2),__decorateClass([Property24],LinearGaugeScaleIntervalProperties.prototype,"maxSpacing",2);var LinearGaugeScaleLabelProperties=class extends AxisLabel3{constructor(){super(...arguments),this.placement=void 0}};__decorateClass([Property24],LinearGaugeScaleLabelProperties.prototype,"placement",2);var LinearGaugeScaleProperties=class extends BaseProperties9{constructor(){super(...arguments),this.min=0,this.max=1,this.fills=new PropertiesArray2(import_ag_charts_community84._ModuleSupport.StopProperties),this.fillMode="continuous",this.fillOpacity=1,this.stroke="black",this.strokeWidth=0,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.defaultFill="black",this.interval=new LinearGaugeScaleIntervalProperties,this.label=new LinearGaugeScaleLabelProperties}};__decorateClass([Property24],LinearGaugeScaleProperties.prototype,"min",2),__decorateClass([Property24],LinearGaugeScaleProperties.prototype,"max",2),__decorateClass([Property24],LinearGaugeScaleProperties.prototype,"fills",2),__decorateClass([Property24],LinearGaugeScaleProperties.prototype,"fillMode",2),__decorateClass([Property24],LinearGaugeScaleProperties.prototype,"fill",2),__decorateClass([Property24],LinearGaugeScaleProperties.prototype,"fillOpacity",2),__decorateClass([Property24],LinearGaugeScaleProperties.prototype,"stroke",2),__decorateClass([Property24],LinearGaugeScaleProperties.prototype,"strokeWidth",2),__decorateClass([Property24],LinearGaugeScaleProperties.prototype,"strokeOpacity",2),__decorateClass([Property24],LinearGaugeScaleProperties.prototype,"lineDash",2),__decorateClass([Property24],LinearGaugeScaleProperties.prototype,"lineDashOffset",2),__decorateClass([Property24],LinearGaugeScaleProperties.prototype,"defaultFill",2),__decorateClass([Property24],LinearGaugeScaleProperties.prototype,"interval",2),__decorateClass([Property24],LinearGaugeScaleProperties.prototype,"label",2);var LinearGaugeLabelProperties=class extends AutoSizedLabel{constructor(){super(...arguments),this.placement="inside-center",this.avoidCollisions=!0}};__decorateClass([Property24],LinearGaugeLabelProperties.prototype,"text",2),__decorateClass([Property24],LinearGaugeLabelProperties.prototype,"placement",2),__decorateClass([Property24],LinearGaugeLabelProperties.prototype,"avoidCollisions",2);var LinearGaugeSeriesProperties=class extends SeriesProperties2{constructor(){super(...arguments),this.value=0,this.segmentation=new GaugeSegmentationProperties,this.defaultColorRange=[],this.targets=new PropertiesArray2(LinearGaugeTargetProperties),this.defaultTarget=new LinearGaugeTargetProperties,this.defaultScale=new LinearGaugeScaleProperties,this.direction="vertical",this.thickness=1,this.cornerRadius=0,this.cornerMode="container",this.margin=0,this.scale=new LinearGaugeScaleProperties,this.bar=new LinearGaugeBarProperties,this.label=new LinearGaugeLabelProperties,this.tooltip=makeSeriesTooltip11()}};__decorateClass([Property24],LinearGaugeSeriesProperties.prototype,"value",2),__decorateClass([Property24],LinearGaugeSeriesProperties.prototype,"segmentation",2),__decorateClass([Property24],LinearGaugeSeriesProperties.prototype,"defaultColorRange",2),__decorateClass([Property24],LinearGaugeSeriesProperties.prototype,"targets",2),__decorateClass([Property24],LinearGaugeSeriesProperties.prototype,"defaultTarget",2),__decorateClass([Property24],LinearGaugeSeriesProperties.prototype,"defaultScale",2),__decorateClass([Property24],LinearGaugeSeriesProperties.prototype,"direction",2),__decorateClass([Property24],LinearGaugeSeriesProperties.prototype,"thickness",2),__decorateClass([Property24],LinearGaugeSeriesProperties.prototype,"cornerRadius",2),__decorateClass([Property24],LinearGaugeSeriesProperties.prototype,"cornerMode",2),__decorateClass([Property24],LinearGaugeSeriesProperties.prototype,"margin",2),__decorateClass([Property24],LinearGaugeSeriesProperties.prototype,"scale",2),__decorateClass([Property24],LinearGaugeSeriesProperties.prototype,"bar",2),__decorateClass([Property24],LinearGaugeSeriesProperties.prototype,"label",2),__decorateClass([Property24],LinearGaugeSeriesProperties.prototype,"tooltip",2);var import_ag_charts_community85=require("ag-charts-community"),{CachedTextMeasurerPool:CachedTextMeasurerPool3,BBox:BBox8}=import_ag_charts_community85._ModuleSupport;function datumRect(e){const{x0:t,y0:i,x1:a,y1:o,horizontalInset:s,verticalInset:r}=e,n=Math.min(t,a)+s,l=Math.min(i,o)+r,c=Math.max(Math.abs(a-t)-2*s,0),h=Math.max(Math.abs(o-i)-2*r,0);return{x:n,y:l,width:c,height:h}}function clipBBoxVisibility(e,t){if(t==null)return!0;const i=datumRect(e),a=1e-6,o=i.x+a,s=i.y+a,r=i.x+i.width-a,n=i.y+i.height-a,l=t.x,c=t.x+t.width,h=t.y,p=t.y+t.height;return Math.max(o,l)<=Math.min(r,c)&&Math.max(s,h)<=Math.min(n,p)}function hasClipBBox(e){const{clipX0:t,clipX1:i,clipY0:a,clipY1:o}=e;return t!=null&&i!=null||a!=null&&o!=null}function computeClipBBox(e){if(!hasClipBBox(e))return;const{x0:t,y0:i,x1:a,y1:o}=e,{x:s,y:r,width:n,height:l}=datumRect(e);let{clipX0:c,clipX1:h,clipY0:p,clipY1:u}=e;(c==null||h==null)&&(c=t,h=a),(p==null||u==null)&&(p=i,u=o);const d=Math.min(c,h),y=Math.min(p,u),g=Math.abs(h-c),m=Math.abs(u-p);return c=Math.max(s,d),p=Math.max(r,y),h=Math.min(s+n,d+g),u=Math.min(r+l,y+m),new BBox8(Math.min(c,h),Math.min(p,u),Math.abs(h-c),Math.abs(u-p))}function prepareLinearGaugeSeriesAnimationFunctions(e,t){const i=e?"initial":"update";return{node:{fromFn(o,s){const r=o.previousDatum;let{x0:n,y0:l,x1:c,y1:h,clipX0:p,clipY0:u,clipX1:d,clipY1:y}=r??s;const{horizontalInset:g,verticalInset:m}=s,f=r!=null&&hasClipBBox(r),b=hasClipBBox(s);return f&&b||(!f&&b?({x0:n,y0:l,x1:c,y1:h,clipX0:p,clipY0:u,clipX1:d,clipY1:y}=s,e&&(t?d=s.clipX0:y=s.clipY0)):f&&!b?({x0:n,y0:l,x1:c,y1:h}=s,p=void 0,u=void 0,d=void 0,y=void 0):e&&(t?c=n:h=l)),{x0:n,y0:l,x1:c,y1:h,clipX0:p,clipY0:u,clipX1:d,clipY1:y,horizontalInset:g,verticalInset:m,phase:i}},toFn(o,s){const{x0:r,y0:n,x1:l,y1:c,clipX0:h,clipY0:p,clipX1:u,clipY1:d,horizontalInset:y,verticalInset:g}=s;return{x0:r,y0:n,x1:l,y1:c,clipX0:h,clipY0:p,clipX1:u,clipY1:d,horizontalInset:y,verticalInset:g}},applyFn(o,s){o.setProperties(resetLinearGaugeSeriesResetRectFunction(o,s))}}}}function resetLinearGaugeSeriesResetRectFunction(e,t){const{x:i,y:a,width:o,height:s}=datumRect(t),r=computeClipBBox(t),n=clipBBoxVisibility(t,r);return{x:i,y:a,width:o,height:s,clipBBox:r,visible:n}}var horizontalTextAligns={Before:"right",Center:"center",After:"left"},verticalTextBaselines={Before:"top",Center:"middle",After:"bottom"},horizontalAlignFactors={Before:-1,Center:-.5,After:0},verticalAlignFactors2={Before:0,Center:-.5,After:-1};function formatLinearGaugeLabels(e,t,i,a,o,s){const{seriesRect:r,gaugeRect:n,barRect:l}=o,{padding:c,horizontal:h}=a;i.each((p,u)=>{const d=getLabelText(e.id,t,u,s?.label);let y,g;u.placement==="outside-start"?h?(y=n.x,g=r.height):(y=r.width,g=r.height-(n.y+n.height)):u.placement==="outside-end"?h?(y=r.width-(n.x+n.width),g=r.height):(y=r.width,g=n.y):u.avoidCollisions&&(y=n.width,g=n.height);let m;if(d==null)return;if(y!=null&&g!=null)m=formatSingleLabel(d,u,{padding:c},()=>({width:y,height:g,meta:null}))?.[0];else{const N={fontSize:u.fontSize,fontStyle:u.fontStyle,fontWeight:u.fontWeight,fontFamily:u.fontFamily,lineHeight:u.lineHeight},{width:P,height:T}=CachedTextMeasurerPool3.measureText(d,{font:N});m={text:d,fontSize:u.fontSize,lineHeight:getLineHeight(u,u.fontSize),width:P,height:T}}if(m==null){p.visible=!1;return}const f=h?n.x:n.y+n.height,b=h?n.x+n.width:n.y,x=h?l.x:l.y+l.height,S=h?l.x+l.width:l.y,D=u.spacing*(h?1:-1);let _,k,v,A;switch(u.placement){case"outside-start":_=-1/0,k=1/0,v=f-D,A="Before";break;case"outside-end":_=-1/0,k=1/0,v=b+D,A="After";break;case"inside-start":_=f,k=S,v=f+D,A="After";break;case"inside-end":_=S,k=b,v=b-D,A="Before";break;case"inside-center":_=f,k=b,v=(f+b)/2,A="Center";break;case"bar-inside":_=x,k=S,v=(x+S)/2,A="Center";break;case"bar-inside-end":_=x,k=S,v=S-D,A="Before";break;case"bar-outside-end":_=S,k=b,v=S+D,A="After";break;case"bar-end":_=-1/0,k=1/0,v=S,A="Center";break}const I=h?v:n.x+n.width/2,M=h?n.y+n.height/2:v;let L,R;h?(L=I+horizontalAlignFactors[A]*m.width,R=L+m.width):(L=M+verticalAlignFactors2[A]*m.height,R=L+m.height);const C=Math.min(L,R)>=Math.min(_,k)&&Math.max(L,R)<=Math.max(_,k);if(u.avoidCollisions&&!C){p.visible=!1;return}p.visible=!0,p.text=m.text,p.fontSize=m.fontSize,p.lineHeight=m.lineHeight,p.textAlign=h?horizontalTextAligns[A]:"center",p.textBaseline=h?"middle":verticalTextBaselines[A],p.x=I,p.y=M})}var{fromToMotion:fromToMotion2,resetMotion:resetMotion3,SeriesNodePickMode:SeriesNodePickMode8,StateMachine,createDatumId:createDatumId9,CachedTextMeasurerPool:CachedTextMeasurerPool4,toRadians:toRadians3,BBox:BBox9,Group:Group7,PointerEvents:PointerEvents5,Selection:Selection6,Rect:Rect6,Text,TransformableText:TransformableText2,Marker:Marker2,LinearScale:LinearScale3,AxisTickGenerator:AxisTickGenerator2,NiceMode,easing,getColorStops,findRangeExtent,tickFormat,mergeDefaults:mergeDefaults10,applyShapeStyle:applyShapeStyle10}=import_ag_charts_community86._ModuleSupport,horizontalTargetPlacementRotation={before:180,middle:0,after:0},verticalTargetPlacementRotation={before:90,middle:0,after:-90},LinearGaugeAxis=class{constructor(e,t){this.gauge=e,this.ctx=t}get scale(){return this.gauge.scale}get label(){return this.gauge.properties.scale.label}get interval(){return this.gauge.properties.scale.interval}tickFormatter(e,t,i,a,o){const{format:s}=this.label;let r;return s!=null&&(r=tickFormat(t,typeof s=="string"?s:void 0)),(n,l)=>{const{formatter:c}=this.label;let h;return c&&(h??(h=formatWithContext(this.ctx,c,{value:n,index:l,domain:e,boundSeries:void 0}))),h??(h=r?.(n)),h??this.gauge.formatLabel(n)}}inRange(){return!0}},LinearGaugeSeries=class extends import_ag_charts_community86._ModuleSupport.Series{constructor(e){super({moduleCtx:e,pickModes:[SeriesNodePickMode8.EXACT_SHAPE_MATCH,SeriesNodePickMode8.NEAREST_NODE]}),this.properties=new LinearGaugeSeriesProperties,this.seriesRect=BBox9.NaN,this.gaugeRect=BBox9.NaN,this.scale=new LinearScale3,this.originX=0,this.originY=0,this.scaleGroup=this.contentGroup.appendChild(new Group7({name:"scaleGroup"})),this.itemGroup=this.contentGroup.appendChild(new Group7({name:"itemGroup"})),this.itemTargetGroup=this.contentGroup.appendChild(new Group7({name:"itemTargetGroup"})),this.itemTargetLabelGroup=this.contentGroup.appendChild(new Group7({name:"itemTargetLabelGroup"})),this.itemLabelGroup=this.contentGroup.appendChild(new Group7({name:"itemLabelGroup"})),this.highlightTargetGroup=this.highlightGroup.appendChild(new Group7({name:"itemTargetLabelGroup"})),this.tickGroup=this.contentGroup.appendChild(new Group7({name:"tickGroup"})),this.scaleSelection=Selection6.select(this.scaleGroup,()=>this.nodeFactory()),this.datumSelection=Selection6.select(this.itemGroup,()=>this.nodeFactory()),this.targetSelection=Selection6.select(this.itemTargetGroup,()=>this.markerFactory()),this.targetLabelSelection=Selection6.select(this.itemTargetLabelGroup,Text),this.labelSelection=Selection6.select(this.itemLabelGroup,Text),this.highlightTargetSelection=Selection6.select(this.highlightTargetGroup,()=>this.markerFactory()),this.tickSelection=Selection6.select(this.tickGroup,TransformableText2),this.datumUnion=new DatumUnion,this.axis=new LinearGaugeAxis(this,e),this.tickGenerator=new AxisTickGenerator2(this.axis),this.animationState=new StateMachine("empty",{empty:{update:{target:"ready",action:()=>this.animateEmptyUpdateReady()},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",resize:()=>this.animateReadyResize(),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:()=>this.animateWaitingUpdateReady()},reset:"empty",skip:"ready"},clearing:{update:{target:"empty"},reset:"empty",skip:"ready"}}),this.scaleGroup.pointerEvents=PointerEvents5.None,this.tickGroup.pointerEvents=PointerEvents5.None}get range(){return this.horizontal?[0,this.gaugeRect.width]:[0,this.gaugeRect.height]}get horizontal(){return this.properties.direction==="horizontal"}get hasData(){return!0}nodeFactory(){const e=new Rect6;return e.crisp=!0,e}markerFactory(){return new Marker2}processData(){this.nodeDataRefresh=!0,this.animationState.transition("updateData")}formatLabel(e){return formatLabel(e,this.properties.scale)}createLinearGradient(e,t,i){const{properties:a,horizontal:o}=this,{defaultColorRange:s}=a;return{type:"gradient",gradient:"linear",colorSpace:"oklch",colorStops:getColorStops(t,s,e.domain,i),rotation:o?90:0}}getShapeFillBBox(){const{properties:e,originX:t,originY:i,horizontal:a,scale:o}=this,{thickness:s}=e,r=findRangeExtent(o.range);return new BBox9(t,i,a?r:s,a?s:r)}getTargets(){const{properties:e}=this,t=e.defaultTarget;return Array.from(e.targets).map(i=>{const{text:a=t.text,value:o=t.value??0,shape:s=t.shape??"triangle",rotation:r=t.rotation??0,strokeWidth:n=t.strokeWidth??0,placement:l=t.placement??"middle",spacing:c=t.spacing??0,size:h=t.size??0,fill:p=t.fill??"black",fillOpacity:u=t.fillOpacity??1,stroke:d=t.stroke??"black",strokeOpacity:y=t.strokeOpacity??1,lineDash:g=t.lineDash??[0],lineDashOffset:m=t.lineDashOffset??0}=i,{enabled:f=t.label.enabled,color:b=t.label.color??"black",fontStyle:x=t.label.fontStyle??"normal",fontWeight:S=t.label.fontWeight??"normal",fontSize:D=t.label.fontSize,fontFamily:_=t.label.fontFamily,spacing:k=t.label.spacing??0}=i.label;return{text:a,value:o,shape:s,placement:l,spacing:c,size:h,rotation:r,fill:p,fillOpacity:u,stroke:d,strokeWidth:n,strokeOpacity:y,lineDash:g,lineDashOffset:m,label:{enabled:f,color:b,fontStyle:x,fontWeight:S,fontSize:D,fontFamily:_,spacing:k}}})}getTargetPoint(e){const{properties:t,originX:i,originY:a,horizontal:o,scale:s,gaugeRect:r}=this,{thickness:n}=t,{value:l,placement:c,spacing:h,size:p}=e,u=s.convert(l);let d;switch(c){case"before":d=-(h+p/2);break;case"after":d=n+h+p/2;break;default:d=n/2;break}return{x:i+r.x+(o?u:d),y:a+r.y+(o?d:u)}}getTargetLabel(e){const{size:t,placement:i,label:a}=e,{spacing:o,color:s,fontStyle:r,fontWeight:n,fontSize:l,fontFamily:c}=a,h=void 0,p=t/2+o;let u,d,y=0,g=0;return this.horizontal?(u="center",i==="after"?(d="top",g=p):(d="bottom",g=-p)):(d="middle",i==="before"?(u="right",y=-p):(u="left",y=p)),{offsetX:y,offsetY:g,fill:s,textAlign:u,textBaseline:d,fontStyle:r,fontWeight:n,fontSize:l,fontFamily:c,lineHeight:h}}labelDatum(e,t){const{placement:i,avoidCollisions:a,spacing:o,text:s,color:r,fontSize:n,minimumFontSize:l,fontStyle:c,fontWeight:h,fontFamily:p,lineHeight:u,wrapping:d,overflowStrategy:y,formatter:g=m=>this.formatLabel(m.value)}=e;return{placement:i,avoidCollisions:a,spacing:o,text:s,value:t,fill:r,fontSize:n,minimumFontSize:l,fontStyle:c,fontWeight:h,fontFamily:p,lineHeight:u,wrapping:d,overflowStrategy:y,formatter:g}}verticalLabelInset(){const{properties:e}=this,{label:t}=e,i=t.text?.split(`
`),a=getLineHeight(t,t.fontSize)*(i?.length??1);return t.spacing+a}horizontalLabelInset(){const{scale:e,properties:t}=this,{scale:i,label:a}=t,o=a.text?.split(`
`),s=CachedTextMeasurerPool4.getMeasurer({font:a}),r=i.interval.values??e.ticks({nice:!1,interval:i.interval.step,minTickCount:0,maxTickCount:6,tickCount:5})?.ticks??[],l=(o??r?.map(c=>getLabelText(this.id,this.ctx,this.labelDatum(a,c))??"")).reduce((c,h)=>{const{width:p}=s.measureText(h);return Math.max(c,p)},0);return a.spacing+l}createNodeData(){const{id:e,properties:t,horizontal:i,scale:a,seriesRect:o}=this,{value:s,segmentation:r,thickness:n,cornerRadius:l,cornerMode:c,bar:h,scale:p,label:u}=t;a.domain=[p.min,p.max],a.range=i?[0,o.width]:[o.height,0];let d,y;i?(y=1,d=Math.PI/2):p.label.placement==="before"?(y=1,d=0):(y=-1,d=0);const g=d-Math.PI/2;let m,f,b,x;i?(m=0,f=o.width,b=(o.height-n)/2,x=b+n,u.placement==="outside-start"?m+=this.horizontalLabelInset():u.placement==="outside-end"&&(f-=this.horizontalLabelInset())):(m=(o.width-n)/2,f=m+n,x=0,b=o.height,u.placement==="outside-start"?b-=this.verticalLabelInset():u.placement==="outside-end"&&(x+=this.verticalLabelInset())),this.gaugeRect=new BBox9(Math.min(m,f),Math.min(b,x),Math.abs(f-m),Math.abs(x-b));const S=0,D=0;a.domain=[p.min,p.max],a.range=i?[m,f]:[b,x];const{ticks:_}=this.tickGenerator.generateTicks({domain:a.domain,range:this.range,reverse:!1,primaryTickCount:void 0,defaultTickMinSpacing:0,visibleRange:[0,1],niceMode:NiceMode.Off,labelX:0,parallelFlipRotation:d,regularFlipRotation:g,sideFlag:y,sizeLimit:void 0,removeOverflowLabels:!1}).tickData,k=!1,v=this.getTargets(),A=[],I=[],M=[],L=[],[R,C]=a.range,N=Math.abs(C-R),P=i?a.convert(s):f,T=i?x:a.convert(s),w=r.enabled?r.spacing/2:0,E=i?w:0,O=i?0:w,F=Math.min(h.thickness??Math.round(h.thicknessRatio*n),n),B=-(n-F)/2,G=i?0:B,V=i?B:0,K=c==="item",W=Math.ceil(N);let z=r.enabled?r.interval.getSegments(a,W):void 0;const H=h.fill??this.createLinearGradient(a,h.fills,h.fillMode),Y=p.fill??(h.enabled&&p.fills.length===0?p.defaultFill:void 0)??this.createLinearGradient(a,p.fills,p.fillMode);if(z==null&&K){const $=Math.min(...a.domain),q=Math.max(...a.domain),J={value:s,segmentStart:$,segmentEnd:q};if(h.enabled){const te=Math.min(l,F/2,N/2)*(k?-1:1),Q=i?te:0,ae=i?0:te;A.push({series:this,itemId:"value",datum:J,datumIndex:{type:0},type:0,x0:S+m-Q-G,y0:D+b-ae-V,x1:S+P+Q+G,y1:D+T+ae+V,clipX0:void 0,clipY0:void 0,clipX1:void 0,clipY1:void 0,topLeftCornerRadius:l,topRightCornerRadius:l,bottomRightCornerRadius:l,bottomLeftCornerRadius:l,fill:H,horizontalInset:E,verticalInset:O})}const U=Math.min(l,n/2,N/2)*(k?-1:1),X=i?U:0,ie=i?0:U;L.push({series:this,itemId:"scale",datum:J,datumIndex:{type:0},type:0,x0:S+m-X,y0:D+b-ie,x1:S+f+X,y1:D+x+ie,clipX0:void 0,clipY0:void 0,clipX1:void 0,clipY1:void 0,topLeftCornerRadius:l,topRightCornerRadius:l,bottomRightCornerRadius:l,bottomLeftCornerRadius:l,fill:Y,horizontalInset:E,verticalInset:O})}else{z??(z=a.domain);const $=S+m-G,q=D+b-V,J=S+P+G,ee=D+T+V;for(let U=0;U<z.length-1;U+=1){const X=z[U+0],ie=z[U+1],Z={value:s,segmentStart:X,segmentEnd:ie},te=U===0,Q=U===z.length-2,ae=a.convert(X),oe=a.convert(ie),se=K||te?l:0,ne=K||Q?l:0,re=i?se:ne,le=ne,ce=i?ne:se,he=se;h.enabled&&A.push({series:this,itemId:`value-${U}`,datum:Z,datumIndex:{type:0},type:0,x0:S+(i?ae:m),y0:D+(i?b:ae),x1:S+(i?oe:f),y1:D+(i?x:oe),clipX0:$,clipY0:q,clipX1:J,clipY1:ee,topLeftCornerRadius:re,topRightCornerRadius:le,bottomRightCornerRadius:ce,bottomLeftCornerRadius:he,fill:H,horizontalInset:E,verticalInset:O}),L.push({series:this,itemId:`scale-${U}`,datum:Z,datumIndex:{type:0},type:0,x0:S+(i?ae:m),y0:D+(i?b:ae),x1:S+(i?oe:f),y1:D+(i?x:oe),clipX0:void 0,clipY0:void 0,clipX1:void 0,clipY1:void 0,topLeftCornerRadius:re,topRightCornerRadius:le,bottomRightCornerRadius:ce,bottomLeftCornerRadius:he,fill:Y,horizontalInset:E,verticalInset:O})}}u.enabled&&M.push(this.labelDatum(u,s));const j=i?horizontalTargetPlacementRotation:verticalTargetPlacementRotation;for(let $=0;$<v.length;$+=1){const q=v[$],{value:J,text:ee,shape:U,size:X,fill:ie,fillOpacity:Z,stroke:te,strokeWidth:Q,strokeOpacity:ae,lineDash:oe,lineDashOffset:se}=q,ne=this.getTargetPoint(q),re=toRadians3(q.rotation+j[q.placement]);I.push({series:this,itemId:`target-${$}`,midPoint:ne,datum:{value:J},datumIndex:{type:1,index:$},type:1,value:J,text:ee,x:ne.x,y:ne.y,shape:U,size:X,rotation:re,fill:ie,fillOpacity:Z,stroke:te,strokeOpacity:ae,strokeWidth:Q,lineDash:oe,lineDashOffset:se,label:this.getTargetLabel(q)})}return{itemId:e,nodeData:A,tickData:_,targetData:I,labelData:M,scaleData:L}}updateSelections(e){(this.nodeDataRefresh||e)&&(this.contextNodeData=this.createNodeData(),this.nodeDataRefresh=!1)}highlightDatum(e){if(e!=null&&e.series===this&&e.type===1)return e}update({seriesRect:e}){const{datumSelection:t,labelSelection:i,targetSelection:a,targetLabelSelection:o,scaleSelection:s,highlightTargetSelection:r,tickSelection:n}=this;this.seriesRect=e??BBox9.NaN;const l=this.checkResize(e);this.updateSelections(l),this.contentGroup.visible=this.visible,this.contentGroup.opacity=this.getOpacity();const c=this.contextNodeData?.nodeData??[],h=this.contextNodeData?.labelData??[],p=this.contextNodeData?.targetData??[],u=this.contextNodeData?.scaleData??[],d=this.contextNodeData?.tickData??[],y=this.highlightDatum(this.ctx.highlightManager.getActiveHighlight());this.scaleSelection=this.updateScaleSelection({scaleData:u,scaleSelection:s}),this.updateScaleNodes({scaleSelection:s}),this.targetSelection=this.updateTargetSelection({targetData:p,targetSelection:a}),this.updateTargetNodes({targetSelection:a,isHighlight:!1}),this.targetLabelSelection=this.updateTargetLabelSelection({targetData:p,targetLabelSelection:o}),this.updateTargetLabelNodes({targetLabelSelection:o}),this.datumSelection=this.updateDatumSelection({nodeData:c,datumSelection:t}),this.updateDatumNodes({datumSelection:t}),this.labelSelection=this.updateLabelSelection({labelData:h,labelSelection:i}),this.updateLabelNodes({labelSelection:i}),this.highlightTargetSelection=this.updateTargetSelection({targetData:y!=null?[y]:[],targetSelection:r}),this.updateTargetNodes({targetSelection:r,isHighlight:!0}),this.tickSelection=this.updateTickSelection({tickData:d,tickSelection:n}),this.updateTickNodes({tickSelection:n}),l&&this.animationState.transition("resize"),this.animationState.transition("update")}updateDatumSelection(e){return e.datumSelection.update(e.nodeData,void 0,t=>createDatumId9(e.nodeData.length,t.itemId))}updateDatumNodes(e){const{datumSelection:t}=e,{ctx:i,properties:a}=this,{bar:o}=a,{fillOpacity:s,stroke:r,strokeOpacity:n,lineDash:l,lineDashOffset:c}=o,h=o.strokeWidth,p=i.animationManager.isSkipped(),u=this.getShapeFillBBox();t.each((d,y)=>{const{topLeftCornerRadius:g,topRightCornerRadius:m,bottomRightCornerRadius:f,bottomLeftCornerRadius:b,fill:x}=y;d.fill=x,d.fillBBox=u,d.fillOpacity=s,d.stroke=r,d.strokeOpacity=n,d.strokeWidth=h,d.lineDash=l,d.lineDashOffset=c,d.topLeftCornerRadius=g,d.topRightCornerRadius=m,d.bottomRightCornerRadius=f,d.bottomLeftCornerRadius=b,d.pointerEvents=this.properties.bar.enabled?import_ag_charts_community86._ModuleSupport.PointerEvents.All:import_ag_charts_community86._ModuleSupport.PointerEvents.None,(p||d.previousDatum==null)&&d.setProperties(resetLinearGaugeSeriesResetRectFunction(d,y))}),this.datumUnion.update(t,this.itemGroup,import_ag_charts_community86._ModuleSupport.Rect,(d,y,g)=>{d.pointerEvents=import_ag_charts_community86._ModuleSupport.PointerEvents.None,d.clipBBox??(d.clipBBox=new BBox9(NaN,NaN,NaN,NaN)),d.x=y.x,d.y=y.y,d.clipBBox.x=y.clipBBox?.x??y.x,d.clipBBox.y=y.clipBBox?.y??y.y,this.horizontal?(d.height=d.clipBBox.height=g.height,d.width=g===y?g.width:g.x+g.width,d.clipBBox.width=d.width-(g.width-(g.clipBBox?.width??g.width)),d.topLeftCornerRadius=y.topLeftCornerRadius,d.bottomLeftCornerRadius=y.bottomLeftCornerRadius,d.topRightCornerRadius=g.topRightCornerRadius,d.bottomRightCornerRadius=g.bottomRightCornerRadius):(d.width=d.clipBBox.width=g.width,d.height=g===y?g.height:g.x+g.height,d.clipBBox.height=d.height-(g.height-(g.clipBBox?.height??g.height)),d.topLeftCornerRadius=y.topLeftCornerRadius,d.topRightCornerRadius=y.topRightCornerRadius,d.bottomLeftCornerRadius=g.bottomLeftCornerRadius,d.bottomRightCornerRadius=g.bottomRightCornerRadius)})}updateScaleSelection(e){return e.scaleSelection.update(e.scaleData,void 0,t=>createDatumId9(e.scaleData.length,t.itemId))}updateScaleNodes(e){const{scaleSelection:t}=e,{scale:i}=this.properties,{fillOpacity:a,stroke:o,strokeOpacity:s,strokeWidth:r,lineDash:n,lineDashOffset:l}=i,c=this.getShapeFillBBox();t.each((h,p)=>{const{topLeftCornerRadius:u,topRightCornerRadius:d,bottomRightCornerRadius:y,bottomLeftCornerRadius:g,fill:m}=p;h.fill=m,h.fillBBox=c,h.fillOpacity=a,h.stroke=o,h.strokeOpacity=s,h.strokeWidth=r,h.lineDash=n,h.lineDashOffset=l,h.topLeftCornerRadius=u,h.topRightCornerRadius=d,h.bottomRightCornerRadius=y,h.bottomLeftCornerRadius=g,h.setProperties(resetLinearGaugeSeriesResetRectFunction(h,p))})}updateTargetSelection(e){return e.targetSelection.update(e.targetData,void 0,t=>t.itemId)}updateTargetNodes(e){const{targetSelection:t,isHighlight:i}=e;t.each((a,o)=>{const{x:s,y:r,shape:n,size:l,rotation:c,fill:h,fillOpacity:p,stroke:u,strokeOpacity:d,strokeWidth:y,lineDash:g,lineDashOffset:m}=o,f=this.getHighlightStyle(i,o.datumIndex),b=mergeDefaults10(f,{fill:h,fillOpacity:p,stroke:u,strokeOpacity:d,strokeWidth:y,lineDash:g,lineDashOffset:m,opacity:1});applyShapeStyle10(a,b),a.size=l,a.shape=n==="line"?lineMarker:n,a.translationX=s,a.translationY=r,a.rotation=c})}updateTargetLabelSelection(e){return e.targetLabelSelection.update(e.targetData)}updateTargetLabelNodes(e){const{targetLabelSelection:t}=e;t.each((i,a)=>{const{x:o,y:s,text:r}=a,{offsetX:n,offsetY:l,fill:c,fontStyle:h,fontWeight:p,fontSize:u,fontFamily:d,textAlign:y,textBaseline:g}=a.label;i.visible=!0,i.x=o+n,i.y=s+l,i.text=r,i.fill=c,i.fontStyle=h,i.fontWeight=p,i.fontSize=u,i.fontFamily=d,i.textAlign=y,i.textBaseline=g})}updateTickSelection(e){return e.tickSelection.update(e.tickData,void 0,t=>t.tickId)}updateTickNodes(e){const{gaugeRect:t,properties:i}=this,a=i.defaultScale,{enabled:o,color:s,fontFamily:r=a.label.fontFamily,fontSize:n=a.label.fontSize,fontStyle:l,fontWeight:c=a.label.fontWeight,spacing:h}=i.scale.label;let{placement:p}=i.scale.label;const u=toRadians3(i.scale.label.rotation??0);let d,y,g,m;this.horizontal?(p??(p="after"),d="center",y=p==="before"?"bottom":"top",m=this.originY+t.y+(p==="before"?-h:t.height+h)):(p??(p="before"),d=p==="before"?"end":"start",y="middle",g=this.originX+t.x+(p==="before"?-h:t.width+h)),e.tickSelection.each((f,b)=>{if(!o){f.visible=!1;return}const x=g??b.translation,S=m??b.translation;f.visible=!0,f.text=b.tickLabel,f.fill=s,f.fontFamily=r,f.fontSize=n,f.fontStyle=l,f.fontWeight=c,f.textBaseline=y,f.textAlign=d,f.x=x,f.y=S,f.rotationCenterX=x,f.rotationCenterY=S,f.rotation=u})}updateLabelSelection(e){return e.labelSelection.update(e.labelData,void 0,t=>"primary")}updateLabelNodes(e){const{labelSelection:t}=e,i=this.ctx.animationManager.isSkipped();t.each((a,o)=>{a.fill=o.fill,a.fontStyle=o.fontStyle,a.fontWeight=o.fontWeight,a.fontFamily=o.fontFamily}),(i||this.labelsHaveExplicitText())&&this.formatLabelText()}labelsHaveExplicitText(){for(const{datum:e}of this.labelSelection)if(e.text==null)return!1;return!0}formatLabelText(e){const{labelSelection:t,horizontal:i,scale:a,seriesRect:o,gaugeRect:s}=this,{x:r,y:n,width:l,height:c}=s,h=e?.label??this.properties.value;let p;if(i){const y=a.convert(h);p=new BBox9(r,n,y-r,c)}else{const y=a.convert(h);p=new BBox9(r,y,l,c-y)}const u={seriesRect:o,gaugeRect:s,barRect:p},{margin:d}=this.properties;formatLinearGaugeLabels(this,this.ctx,t,{padding:d,horizontal:i},u,e)}resetAllAnimation(){this.ctx.animationManager.stopByAnimationGroupId(this.id),resetMotion3([this.datumSelection],resetLinearGaugeSeriesResetRectFunction),this.formatLabelText()}resetAnimation(e){e==="initial"?this.animationState.transition("reset"):e==="ready"&&this.animationState.transition("skip")}animateLabelText(e={}){const{animationManager:t}=this.ctx;let i=0,a=0;if(this.labelSelection.each((o,s)=>{o.opacity=1,i=o.previousDatum?.value??e.from??s.value,a=s.value}),!this.labelsHaveExplicitText())if(i===a)this.formatLabelText({label:a});else{const o=`${this.id}_labels`;t.animate({id:o,groupId:"label",from:{label:i},to:{label:a},phase:e.phase??"update",ease:easing.easeOut,onUpdate:s=>this.formatLabelText(s),onStop:()=>this.formatLabelText({label:a})})}}animateEmptyUpdateReady(){const{animationManager:e}=this.ctx,{node:t}=prepareLinearGaugeSeriesAnimationFunctions(!0,this.horizontal);fromToMotion2(this.id,"node",e,[this.datumSelection],t,(i,a)=>a.itemId),fromToMotion2(this.id,"label",e,[this.labelSelection],fadeInFns,()=>"primary"),this.animateLabelText({from:0,phase:"initial"})}animateWaitingUpdateReady(){const{animationManager:e}=this.ctx,{node:t}=prepareLinearGaugeSeriesAnimationFunctions(!1,this.horizontal);fromToMotion2(this.id,"node",e,[this.datumSelection],t,(i,a)=>a.itemId),this.animateLabelText()}animateReadyResize(){this.resetAllAnimation()}getSeriesDomain(){return[0,1]}dataCount(){return NaN}getSeriesRange(e,t){return[NaN,NaN]}getLegendData(){return[]}getTooltipContent(e){const{id:t,properties:i}=this,{tooltip:a}=i;let o,s;if(e.type===0?(o=i.value,s=i.label.text):{value:o,text:s}=i.targets[e.index],o!=null)return this.formatTooltipWithContext(a,{data:[{label:s,fallbackLabel:"Value",value:this.formatLabel(o)}]},{seriesId:t,title:void 0,datum:void 0,value:o})}pickNodeClosestDatum(e){return pickGaugeNearestDatum(this,e)}pickFocus(e){return pickGaugeFocus(this,e)}getCaptionText(){return this.formatLabel(this.properties.value)}getCategoryValue(e){}datumIndexForCategoryValue(e){}hasItemStylers(){return!1}};LinearGaugeSeries.className="LinearGaugeSeries",LinearGaugeSeries.type="linear-gauge";var LinearGaugeModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["standalone"],identifier:"linear-gauge",moduleFactory:e=>new LinearGaugeSeries(e),themeTemplate:{minWidth:200,minHeight:200,tooltip:{enabled:!1},series:{thickness:50,defaultColorRange:{$if:[{$eq:[{$palette:"type"},"inbuilt"]},{$interpolate:[{$palette:"secondDivergingColors"},5]},import_ag_charts_community87._ModuleSupport.SAFE_RANGE2_OPERATION]},scale:{defaultFill:{$path:["/1",{$palette:"fill"},{$palette:"hierarchyColors"}]},stroke:{$path:["/2",import_ag_charts_community87._ModuleSupport.SAFE_STROKE_FILL_OPERATION,{$palette:"hierarchyColors"}]},strokeWidth:{$isUserOption:["./stroke",2,0]},label:{spacing:11}},bar:{strokeWidth:{$isUserOption:["./stroke",2,0]}},segmentation:{enabled:!1,interval:{},spacing:1},defaultTarget:{fill:{$ref:"foregroundColor"},stroke:{$ref:"foregroundColor"},size:10,shape:"triangle",placement:"after",spacing:5,label:{enabled:!0,fontWeight:{$ref:"fontWeight"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},color:{$ref:"textColor"},spacing:5}},defaultScale:{label:{fontWeight:{$ref:"fontWeight"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},color:{$ref:"textColor"}}},label:{...import_ag_charts_community87._ModuleSupport.LABEL_BOXING_DEFAULTS,enabled:!1,placement:"inside-start",fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},fontSize:{$rem:2},minimumFontSize:import_ag_charts_community87._ModuleSupport.FONT_SIZE.SMALL,spacing:18,color:{$ref:"chartBackgroundColor"}},margin:4,tooltip:{range:{$path:["/tooltip/range",10]}}}}},LinearGaugeSeriesModule={type:"series",name:"linear-gauge",chartType:"standalone",enterprise:!0,options:import_ag_charts_community87._ModuleSupport.linearGaugeSeriesOptionsDef,create:e=>new LinearGaugeSeries(e)},import_ag_charts_community96=require("ag-charts-community"),import_ag_charts_community88=require("ag-charts-community"),MAP_THEME_DEFAULTS={zoom:{axes:"xy",anchorPointX:"pointer",anchorPointY:"pointer",buttons:{anchorPointX:"middle",anchorPointY:"middle"}},legend:{enabled:!1},gradientLegend:{enabled:!1,...import_ag_charts_community88._ModuleSupport.LEGEND_CONTAINER_THEME}};function applyMapPalette(e){const t=import_ag_charts_community88._ModuleSupport.deepClone(e);return import_ag_charts_community88._ModuleSupport.jsonWalk(t,i=>{typeof i=="object"&&"$palette"in i&&(i.$mapPalette=i.$palette,delete i.$palette)}),t}var import_ag_charts_community94=require("ag-charts-community"),import_ag_charts_core29=require("ag-charts-core"),import_ag_charts_community90=require("ag-charts-community"),delta2=1e-9;function lineSegmentDistanceToPointSquared(e,t,i,a){const[o,s]=e,[r,n]=t,l=r-o,c=n-s,h=l*l+c*c;let p,u;if(Math.abs(h)<delta2)p=o,u=s;else{let g=((i-o)*l+(a-s)*c)/h;g=Math.max(0,Math.min(1,g)),p=o+g*(r-o),u=s+g*(n-s)}const d=i-p,y=a-u;return d*d+y*y}function lineStringDistance(e,t,i){let a=1/0,o=e[e.length-1];for(const s of e)a=Math.min(a,lineSegmentDistanceToPointSquared(o,s,t,i)),o=s;return Math.sqrt(a)}function lineStringLength(e){let[t,i]=e[0],a=0;for(let o=1;o<e.length;o+=1){const[s,r]=e[o],n=Math.hypot(s-t,r-i);a+=n,t=s,i=r}return a}function lineStringCenter(e){if(e.length===0)return;const t=lineStringLength(e)/2;let[i,a]=e[0],o=0;for(let s=1;s<e.length;s+=1){const[r,n]=e[s],l=Math.hypot(r-i,n-a),c=o+l;if(c>t){const h=(t-o)/l,p=[i+(r-i)*h,a+(n-a)*h],u=Math.atan2(n-a,r-i);return{point:p,angle:u}}o=c,i=r,a=n}}var import_ag_charts_community89=require("ag-charts-community"),{LonLatBBox}=import_ag_charts_community89._ModuleSupport;function polygonBbox(e,t){return e.forEach(i=>{const[a,o]=i;t=LonLatBBox.extend(t,a,o,a,o)}),t}function polygonCentroid(e){if(e.length===0)return;let t=0,i=0,a=0,[o,s]=e[e.length-1];for(const[r,n]of e){const l=o*n-r*s;a+=l,t+=(o+r)*l,i+=(s+n)*l,o=r,s=n}return a*=3,[t/a,i/a]}function polygonDistance(e,t,i){let a=!1,o=1/0;for(const s of e){let r=s[s.length-1],[n,l]=r;for(const c of s){const[h,p]=c;p>i!=l>i&&t<(n-h)*(i-p)/(l-p)+h&&(a=!a),o=Math.min(o,lineSegmentDistanceToPointSquared(r,c,t,i)),r=c,n=h,l=p}}return(a?-1:1)*Math.sqrt(o)}var{Path:Path8,ExtendedPath2D:ExtendedPath2D2,BBox:BBox10,SceneChangeDetection:SceneChangeDetection5,SceneObjectChangeDetection,objectsEqual}=import_ag_charts_community90._ModuleSupport,GeoGeometry=class extends Path8{constructor(){super(...arguments),this.projectedGeometry=void 0,this.renderMode=3,this.strokePath=new ExtendedPath2D2}computeBBox(){return(this.dirtyPath||this.isDirtyPath())&&(this.updatePath(),this.dirtyPath=!1),this.bbox?.clone()}updatePath(){const{projectedGeometry:e}=this;this.strokePath.clear(),this.path.clear(),this.bbox=e!=null?this.drawGeometry(e,void 0):void 0}drawPath(e){super.drawPath(e),this.renderStroke(e,this.strokePath.getPath2D())}containsPoint(e,t){const{projectedGeometry:i}=this;return i==null||!this.getBBox().containsPoint(e,t)?!1:this.geometryDistance(i,e,t)<=0}distanceSquared(e,t){const{projectedGeometry:i}=this;if(i==null)return 1/0;const a=this.geometryDistance(i,e,t);return a>0?a*a:0}geometryDistance(e,t,i){const{renderMode:a,strokeWidth:o}=this,s=(a&1)!==0,r=(a&2)!==0,n=Math.max(o/2,1)+1;switch(e.type){case"GeometryCollection":return e.geometries.reduce((l,c)=>Math.min(l,this.geometryDistance(c,t,i)),1/0);case"MultiPolygon":return s?e.coordinates.reduce((l,c)=>Math.min(l,Math.max(polygonDistance(c,t,i),0)),1/0):1/0;case"Polygon":return s?Math.max(polygonDistance(e.coordinates,t,i),0):1/0;case"MultiLineString":return r?e.coordinates.reduce((l,c)=>Math.min(l,Math.max(lineStringDistance(c,t,i)-n,0)),1/0):1/0;case"LineString":return r?Math.max(lineStringDistance(e.coordinates,t,i)-n,0):1/0;case"MultiPoint":case"Point":default:return 1/0}}drawGeometry(e,t){const{renderMode:i,path:a,strokePath:o}=this,s=(i&1)!==0,r=(i&2)!==0;switch(e.type){case"GeometryCollection":e.geometries.forEach(n=>{t=this.drawGeometry(n,t)});break;case"MultiPolygon":s&&e.coordinates.forEach(n=>{t=this.drawPolygon(a,n,t)});break;case"Polygon":s&&(t=this.drawPolygon(a,e.coordinates,t));break;case"LineString":r&&(t=this.drawLineString(o,e.coordinates,t,!1));break;case"MultiLineString":r&&e.coordinates.forEach(n=>{t=this.drawLineString(o,n,t,!1)});break;case"Point":case"MultiPoint":break}return t}drawPolygon(e,t,i){if(t.length<1)return i;i=this.drawLineString(e,t[0],i,!0);for(let a=1;a<t.length;a+=1){const o=t[a];this.drawLineString(e,o,void 0,!0)}return i}drawLineString(e,t,i,a){if(t.length<2)return i;const o=a?t.length-1:t.length;for(let s=0;s<o;s+=1){const[r,n]=t[s];if(s===0?e.moveTo(r,n):e.lineTo(r,n),i==null)i=new BBox10(r,n,0,0);else{const{x:l,y:c}=i,h=l+i.width,p=c+i.height;i.x=Math.min(l,r),i.y=Math.min(c,n),i.width=Math.max(h,r)-i.x,i.height=Math.max(p,n)-i.y}}return a&&e.closePath(),i}};__decorateClass([SceneObjectChangeDetection({equals:objectsEqual})],GeoGeometry.prototype,"projectedGeometry",2),__decorateClass([SceneChangeDetection5()],GeoGeometry.prototype,"renderMode",2);var import_ag_charts_community91=require("ag-charts-community"),{LonLatBBox:LonLatBBox2}=import_ag_charts_community91._ModuleSupport;function geometryBbox(e,t){if(e.bbox!=null){const[i,a,o,s]=e.bbox;return t=LonLatBBox2.extend(t,i,a,o,s),t}switch(e.type){case"GeometryCollection":e.geometries.forEach(i=>{t=geometryBbox(i,t)});break;case"MultiPolygon":e.coordinates.forEach(i=>{i.length>0&&(t=polygonBbox(i[0],t))});break;case"Polygon":e.coordinates.length>0&&(t=polygonBbox(e.coordinates[0],t));break;case"MultiLineString":e.coordinates.forEach(i=>{t=polygonBbox(i,t)});break;case"LineString":t=polygonBbox(e.coordinates,t);break;case"MultiPoint":e.coordinates.forEach(i=>{const[a,o]=i;t=LonLatBBox2.extend(t,a,o,a,o)});break;case"Point":{const[i,a]=e.coordinates;t=LonLatBBox2.extend(t,i,a,i,a);break}}return t}function largestPolygon(e){switch(e.type){case"GeometryCollection":{let t,i;return e.geometries.forEach(a=>{const o=largestPolygon(a);if(o==null)return;const s=polygonBbox(o[0],void 0);if(s==null)return;const r=Math.abs(s.lat1-s.lat0)*Math.abs(s.lon1-s.lon0);(t==null||r>t)&&(t=r,i=o)}),i}case"MultiPolygon":{let t,i;return e.coordinates.forEach(a=>{const o=polygonBbox(a[0],void 0);if(o==null)return;const s=Math.abs(o.lat1-o.lat0)*Math.abs(o.lon1-o.lon0);(t==null||s>t)&&(t=s,i=a)}),i}case"Polygon":return e.coordinates;case"MultiLineString":case"LineString":case"MultiPoint":case"Point":return}}function largestLineString(e){switch(e.type){case"GeometryCollection":{let t,i;return e.geometries.forEach(a=>{const o=largestLineString(a);if(o==null)return;const s=lineStringLength(o);s!=null&&(t==null||s>t)&&(t=s,i=o)}),i}case"MultiLineString":{let t=0,i;return e.coordinates.forEach(a=>{const o=lineStringLength(a);o>t&&(t=o,i=a)}),i}case"LineString":return e.coordinates;case"MultiPolygon":case"Polygon":case"MultiPoint":case"Point":return}}function containsType(e,t){if(e==null)return!1;switch(e.type){case"GeometryCollection":return e.geometries.some(i=>containsType(i,t));case"MultiPolygon":case"Polygon":return(t&1)!==0;case"MultiLineString":case"LineString":return(t&2)!==0;case"MultiPoint":case"Point":return(t&4)!==0}}function projectGeometry(e,t){switch(e.type){case"GeometryCollection":return{type:"GeometryCollection",geometries:e.geometries.map(i=>projectGeometry(i,t))};case"Polygon":return{type:"Polygon",coordinates:projectPolygon(e.coordinates,t)};case"MultiPolygon":return{type:"MultiPolygon",coordinates:projectMultiPolygon(e.coordinates,t)};case"MultiLineString":return{type:"MultiLineString",coordinates:projectPolygon(e.coordinates,t)};case"LineString":return{type:"LineString",coordinates:projectLineString(e.coordinates,t)};case"MultiPoint":return{type:"MultiPoint",coordinates:projectLineString(e.coordinates,t)};case"Point":return{type:"Point",coordinates:t.convert(e.coordinates)}}}function projectMultiPolygon(e,t){return e.map(i=>projectPolygon(i,t))}function projectPolygon(e,t){return e.map(i=>projectLineString(i,t))}function projectLineString(e,t){return e.map(i=>t.convert(i))}function prepareMapMarkerAnimationFunctions(){return{fromFn:(i,a,o)=>o==="removed"?{scalingX:1,scalingY:1}:i.previousDatum==null?{scalingX:0,scalingY:0}:{scalingX:i.scalingX,scalingY:i.scalingY},toFn:(i,a,o)=>o==="removed"?{scalingX:0,scalingY:0}:{scalingX:1,scalingY:1}}}function findFocusedGeoGeometry(e,t){const i=e.contextNodeData?.nodeData[t.datumIndex];if(i!==void 0){for(const a of e.datumSelection.nodes())if(a.datum===i)return a}}var import_ag_charts_community92=require("ag-charts-community"),TopologySeriesProperties=class extends import_ag_charts_community92._ModuleSupport.SeriesProperties{},TopologySeries=class extends import_ag_charts_community92._ModuleSupport.DataModelSeries{addChartEventListeners(){this.cleanup.register(this.ctx.eventsHub.on("legend:item-click",e=>{this.onLegendItemClick(e)}),this.ctx.eventsHub.on("legend:item-double-click",e=>{this.onLegendItemDoubleClick(e)}))}getSeriesDomain(){return[NaN,NaN]}getSeriesRange(e,t){return[NaN,NaN]}},import_ag_charts_community93=require("ag-charts-community"),{Property:Property25,SeriesProperties:SeriesProperties3,makeSeriesTooltip:makeSeriesTooltip12,Label:Label8}=import_ag_charts_community93._ModuleSupport,MapLineSeriesProperties=class extends SeriesProperties3{constructor(){super(...arguments),this.topology=void 0,this.idKey="",this.topologyIdKey="name",this.idName=void 0,this.labelKey=void 0,this.labelName=void 0,this.colorRange=void 0,this.maxStrokeWidth=void 0,this.stroke="black",this.strokeOpacity=1,this.strokeWidth=0,this.lineDash=[0],this.lineDashOffset=0,this.label=new Label8,this.tooltip=makeSeriesTooltip12()}};__decorateClass([Property25],MapLineSeriesProperties.prototype,"topology",2),__decorateClass([Property25],MapLineSeriesProperties.prototype,"title",2),__decorateClass([Property25],MapLineSeriesProperties.prototype,"legendItemName",2),__decorateClass([Property25],MapLineSeriesProperties.prototype,"idKey",2),__decorateClass([Property25],MapLineSeriesProperties.prototype,"topologyIdKey",2),__decorateClass([Property25],MapLineSeriesProperties.prototype,"idName",2),__decorateClass([Property25],MapLineSeriesProperties.prototype,"labelKey",2),__decorateClass([Property25],MapLineSeriesProperties.prototype,"labelName",2),__decorateClass([Property25],MapLineSeriesProperties.prototype,"sizeKey",2),__decorateClass([Property25],MapLineSeriesProperties.prototype,"sizeName",2),__decorateClass([Property25],MapLineSeriesProperties.prototype,"colorKey",2),__decorateClass([Property25],MapLineSeriesProperties.prototype,"colorName",2),__decorateClass([Property25],MapLineSeriesProperties.prototype,"sizeDomain",2),__decorateClass([Property25],MapLineSeriesProperties.prototype,"colorRange",2),__decorateClass([Property25],MapLineSeriesProperties.prototype,"maxStrokeWidth",2),__decorateClass([Property25],MapLineSeriesProperties.prototype,"stroke",2),__decorateClass([Property25],MapLineSeriesProperties.prototype,"strokeOpacity",2),__decorateClass([Property25],MapLineSeriesProperties.prototype,"strokeWidth",2),__decorateClass([Property25],MapLineSeriesProperties.prototype,"lineDash",2),__decorateClass([Property25],MapLineSeriesProperties.prototype,"lineDashOffset",2),__decorateClass([Property25],MapLineSeriesProperties.prototype,"itemStyler",2),__decorateClass([Property25],MapLineSeriesProperties.prototype,"label",2),__decorateClass([Property25],MapLineSeriesProperties.prototype,"tooltip",2);var{getMissCount:getMissCount2,getLabelStyles:getLabelStyles2,createDatumId:createDatumId10,SeriesNodePickMode:SeriesNodePickMode9,valueProperty:valueProperty9,CachedTextMeasurerPool:CachedTextMeasurerPool5,ColorScale:ColorScale2,LinearScale:LinearScale4,Selection:Selection7,Text:Text2,Transformable:Transformable2}=import_ag_charts_community94._ModuleSupport,MapLineSeries=class extends TopologySeries{constructor(e){super({moduleCtx:e,categoryKey:void 0,propertyKeys:{size:["colorKey"],color:["colorKey"],label:["labelKey"]},propertyNames:{size:["sizeName"],color:["colorName"],label:["labelName"]},pickModes:[SeriesNodePickMode9.EXACT_SHAPE_MATCH,SeriesNodePickMode9.NEAREST_NODE],usesPlacedLabels:!0}),this.properties=new MapLineSeriesProperties,this._chartTopology=void 0,this.colorScale=new ColorScale2,this.sizeScale=new LinearScale4,this.datumSelection=Selection7.select(this.contentGroup,()=>this.nodeFactory()),this.labelSelection=Selection7.select(this.labelGroup,Text2),this.highlightDatumSelection=Selection7.select(this.highlightGroup,()=>this.nodeFactory()),this._previousDatumMidPoint=void 0}getNodeData(){return this.contextNodeData?.nodeData}get topology(){return this.properties.topology??this._chartTopology}get hasData(){return super.hasData&&this.topology!=null}renderToOffscreenCanvas(){return!0}setZIndex(e){return super.setZIndex(e),this.contentGroup.zIndex=[1,e],this.highlightGroup.zIndex=[2,e],!0}setChartTopology(e){this._chartTopology=e,this.topology===e&&(this.nodeDataRefresh=!0)}isLabelEnabled(){return this.properties.labelKey!=null&&this.properties.label.enabled}nodeFactory(){const e=new GeoGeometry;return e.renderMode=2,e.lineJoin="round",e.lineCap="round",e}async processData(e){if(this.data==null)return;const{data:t,topology:i,sizeScale:a,colorScale:o}=this,{topologyIdKey:s,idKey:r,sizeKey:n,colorKey:l,labelKey:c,sizeDomain:h,colorRange:p}=this.properties,u=new Map;i?.features.forEach(x=>{const S=x.properties?.[s];S==null||!containsType(x.geometry,2)||u.set(S,x)});const d=this.sizeScale.type,y=this.colorScale.type,g=this.scale?.type,{dataModel:m,processedData:f}=await this.requestDataModel(e,t,{props:[valueProperty9(r,g,{id:"idValue",includeProperty:!1}),valueProperty9(r,g,{id:"featureValue",includeProperty:!1,processor:()=>x=>u.get(x)}),...c!=null?[valueProperty9(c,"category",{id:"labelValue"})]:[],...n!=null?[valueProperty9(n,d,{id:"sizeValue"})]:[],...l!=null?[valueProperty9(l,y,{id:"colorValue"})]:[]]}),b=m.resolveColumnById(this,"featureValue",f);if(this.topologyBounds=b.reduce((x,S)=>{const D=S?.geometry;return D==null?x:geometryBbox(D,x)},void 0),n!=null){const x=m.resolveProcessedDataIndexById(this,"sizeValue"),S=f.domain.values[x]??[];a.domain=h??S}if(p!=null&&this.isColorScaleValid()){const x=m.resolveProcessedDataIndexById(this,"colorValue");o.domain=f.domain.values[x],o.range=p,o.update()}i==null&&import_ag_charts_core29.Logger.warnOnce("no topology was provided for [MapLineSeries]; nothing will be rendered.")}isColorScaleValid(){const{colorKey:e}=this.properties;if(!e)return!1;const{dataModel:t,processedData:i}=this;if(!t||!i)return!1;const a=t.resolveProcessedDataIndexById(this,"colorValue"),o=i.input.count,s=getMissCount2(this,i.defs.values[a].missing);return!(o===0||o===s)}getLabelDatum(e,t,i,a){if(t==null||i==null)return;const o=largestLineString(i);if(o==null)return;const{idKey:s,idName:r,sizeKey:n,sizeName:l,colorKey:c,colorName:h,labelKey:p,labelName:u,label:d}=this.properties;if(p==null||!d.enabled)return;const y=this.getLabelText(t,e,p,"label",[],d,{value:t,datum:e,idKey:s,idName:r,sizeKey:n,sizeName:l,colorKey:c,colorName:h,labelKey:p,labelName:u});if(y==null)return;const g=a.measureText(String(y)),m=lineStringCenter(o);if(m==null)return;const[f,b]=m.point,{width:x,height:S}=g;return{point:{x:f,y:b,size:0},label:{width:x,height:S,text:y},anchor:void 0,placement:void 0}}createNodeData(){const{id:e,dataModel:t,processedData:i,sizeScale:a,properties:o,scale:s}=this,{idKey:r,sizeKey:n,colorKey:l,labelKey:c,label:h,legendItemName:p}=o;if(t==null||i==null)return;const u=t.resolveColumnById(this,"idValue",i),d=t.resolveColumnById(this,"featureValue",i),y=c!=null?t.resolveColumnById(this,"labelValue",i):void 0,g=n!=null?t.resolveColumnById(this,"sizeValue",i):void 0,m=l!=null?t.resolveColumnById(this,"colorValue",i):void 0,f=o.maxStrokeWidth??o.strokeWidth;a.range=[Math.min(o.strokeWidth,f),f];const b=CachedTextMeasurerPool5.getMeasurer({font:h}),x=new Map;i.dataSources.get(this.id)?.forEach((A,I)=>{const M=u[I],L=d[I]?.geometry??void 0,R=L!=null&&s!=null?projectGeometry(L,s):void 0;M!=null&&R!=null&&x.set(M,R)});const S=[],D=[],_=[];(i.dataSources.get(this.id)??[]).forEach((A,I)=>{const M=u[I],L=m?.[I],R=g?.[I],C=y?.[I],N=x.get(M);N==null&&_.push(M);const P=this.getLabelDatum(A,C,N,b);P!=null&&D.push(P),S.push({series:this,itemId:r,datum:A,datumIndex:I,idValue:M,labelValue:C,colorValue:L,sizeValue:R,projectedGeometry:N,legendItemName:p})});const v=10;if(_.length>v){const A=_.length-v;_.length=v,_.push(`(+${A} more)`)}return _.length>0&&import_ag_charts_core29.Logger.warnOnce("some data items do not have matches in the provided topology",_),{itemId:e,nodeData:S,labelData:D}}updateSelections(){this.nodeDataRefresh&&(this.contextNodeData=this.createNodeData(),this.nodeDataRefresh=!1)}update(){const{datumSelection:e,highlightDatumSelection:t}=this;this.updateSelections(),this.contentGroup.visible=this.visible,this.labelGroup.visible=this.visible;let i=this.ctx.highlightManager?.getActiveHighlight();const{legendItemName:a}=this.properties,o=a!=null&&i?.datum==null&&a===i?.legendItemName;i!=null&&(i.series!==this&&!o||i.datum==null)&&(i=void 0);const s=this.contextNodeData?.nodeData??[];this.datumSelection=this.updateDatumSelection({nodeData:s,datumSelection:e}),this.updateDatumNodes({datumSelection:e,isHighlight:!1}),this.highlightDatumSelection=this.updateDatumSelection({nodeData:i!=null?[i]:[],datumSelection:t}),this.updateDatumNodes({datumSelection:t,isHighlight:!0})}updateDatumSelection(e){return e.datumSelection.update(e.nodeData,void 0,t=>createDatumId10(t.idValue))}getItemBaseStyle(e,t){const{properties:i}=this,a=this.getHighlightStyle(e,t?.datumIndex);return{stroke:a?.stroke??i.stroke,strokeWidth:a?.strokeWidth??i.strokeWidth,strokeOpacity:a?.strokeOpacity??i.strokeOpacity,lineDash:a?.lineDash??i.lineDash,lineDashOffset:a?.lineDashOffset??i.lineDashOffset,opacity:a?.opacity??1}}getItemStyleOverrides(e,t,i,a,o,s,r){const{id:n,properties:l,colorScale:c,sizeScale:h}=this,{colorRange:p,itemStyler:u}=l;let d;if(!s&&i!=null&&(d??(d={}),d.stroke=this.isColorScaleValid()?c.convert(i):p?.[0]??l.stroke),a!=null&&(d??(d={}),d.strokeWidth=h.convert(a,{clamp:!0})),u!=null){const y=this.cachedDatumCallback(createDatumId10(e,s?"highlight":"node"),()=>{const g=this.ctx.highlightManager?.getActiveHighlight(),m=this.getHighlightStateString(g,s,r);return this.callWithContext(u,{seriesId:n,datum:t,highlighted:s,highlightState:m,...o,...d})});d??(d={}),Object.assign(d,y)}return d}updateDatumNodes(e){const{datumSelection:t,isHighlight:i}=e;t.each((a,o)=>{const{datum:s,datumIndex:r,colorValue:n,sizeValue:l,projectedGeometry:c}=o;if(c==null){a.visible=!1,a.projectedGeometry=void 0;return}const h=this.getItemBaseStyle(i,o),p=this.getItemStyleOverrides(String(r),s,n,l,h,i,r);a.visible=!0,a.projectedGeometry=c,a.stroke=p?.stroke??h.stroke,a.strokeWidth=p?.strokeWidth??h.strokeWidth,a.strokeOpacity=p?.strokeOpacity??h.strokeOpacity,a.lineDash=p?.lineDash??h.lineDash,a.lineDashOffset=p?.lineDashOffset??h.lineDashOffset})}updatePlacedLabelData(e){this.labelSelection=this.labelSelection.update(e,t=>{t.pointerEvents=import_ag_charts_community94._ModuleSupport.PointerEvents.None}),this.updateLabelNodes({labelSelection:this.labelSelection})}updateLabelNodes(e){e.labelSelection.each((t,{x:i,y:a,width:o,height:s,text:r},n)=>{const l=getLabelStyles2(this,void 0,this.properties,this.properties.label),{color:c,fontStyle:h,fontWeight:p,fontSize:u,fontFamily:d}=l;t.visible=!0,t.x=i+o/2,t.y=a+s/2,t.text=r,t.fill=c,t.fontStyle=h,t.fontWeight=p,t.fontSize=u,t.fontFamily=d,t.textAlign="center",t.textBaseline="middle",t.fillOpacity=this.getHighlightStyle(!1,n).opacity??1,t.setBoxing(l)})}resetAnimation(){}getLabelData(){return this.isLabelEnabled()?this.contextNodeData?.labelData??[]:[]}pickNodeClosestDatum({x:e,y:t}){let i=1/0,a;return this.datumSelection.each((o,s)=>{const r=o.distanceSquared(e,t);r<i&&(i=r,a=s)}),a!=null?{datum:a,distance:Math.sqrt(i)}:void 0}datumMidPoint(e){const{_previousDatumMidPoint:t}=this;if(t?.datum===e)return t.point;const i=e.projectedGeometry,a=i!=null?largestLineString(i):void 0,o=a!=null?lineStringCenter(a)?.point:void 0,s=o!=null?{x:o[0],y:o[1]}:void 0;return this._previousDatumMidPoint={datum:e,point:s},s}legendItemSymbol(e){const{dataModel:t,processedData:i,properties:a}=this,{strokeWidth:o,strokeOpacity:s,lineDash:r}=a;let{stroke:n}=a;if(e!=null&&this.isColorScaleValid()){const c=t.resolveColumnById(this,"colorValue",i)[e];n=this.colorScale.convert(c)}return{marker:{fill:void 0,fillOpacity:0,stroke:void 0,strokeWidth:0,strokeOpacity:0,lineDash:[0],lineDashOffset:0,enabled:!1},line:{stroke:n,strokeWidth:o,strokeOpacity:s,lineDash:r}}}getLegendData(e){const{processedData:t,dataModel:i}=this;if(t==null||i==null)return[];const{id:a,visible:o}=this,{title:s,legendItemName:r,idKey:n,idName:l,colorKey:c,colorRange:h,showInLegend:p}=this.properties;if(e==="gradient"&&c!=null&&h!=null){const u=t.domain.values[i.resolveProcessedDataIndexById(this,"colorValue")];return[{legendType:"gradient",enabled:o,seriesId:a,series:this.getFormatterContext("color"),colorRange:h,colorDomain:u}]}else return e==="category"?[{legendType:"category",id:a,itemId:a,seriesId:a,enabled:o,label:{text:r??s??l??n},symbol:this.legendItemSymbol(),legendItemName:r,hideInLegend:!p}]:[]}getTooltipContent(e){const{id:t,dataModel:i,processedData:a,properties:o,ctx:{formatManager:s}}=this,{idKey:r,idName:n,colorKey:l,colorName:c,sizeKey:h,sizeName:p,labelKey:u,labelName:d,title:y,legendItemName:g,tooltip:m}=o;if(!i||!a)return;const f=a.dataSources.get(this.id)?.[e],b=i.resolveColumnById(this,"idValue",a),x=h!=null?i.resolveColumnById(this,"sizeValue",a)[e]:void 0,S=l!=null?i.resolveColumnById(this,"colorValue",a)[e]:void 0,D=[];if(this.isLabelEnabled()&&u!=null&&u!==r){const k=i.resolveColumnById(this,"labelValue",a)[e],v=s.format(this.callWithContext.bind(this),{type:"category",value:k,datum:f,seriesId:t,legendItemName:g,key:u,source:"tooltip",property:"label",domain:[],boundSeries:this.getFormatterContext("label")});D.push({label:d,fallbackLabel:u,value:v??k})}if(x!=null&&h!=null){const k=i.getDomain(this,"sizeValue","value",a),v=s.format(this.callWithContext.bind(this),{type:"number",value:x,datum:f,seriesId:t,legendItemName:g,key:h,source:"tooltip",property:"size",domain:k,boundSeries:this.getFormatterContext("size"),fractionDigits:void 0});D.push({label:p,fallbackLabel:h,value:v??String(x)})}if(S!=null&&l!=null){const k=i.getDomain(this,"colorValue","value",a),v=s.format(this.callWithContext.bind(this),{type:"number",value:S,datum:f,seriesId:t,legendItemName:g,key:l,source:"tooltip",property:"color",domain:k,boundSeries:this.getFormatterContext("color"),fractionDigits:void 0});D.push({label:c,fallbackLabel:l,value:v??String(S)})}const _=this.getItemBaseStyle(!1);return Object.assign(_,this.getItemStyleOverrides(String(e),e,S,x,_,!1,e)),this.formatTooltipWithContext(m,{heading:b[e],title:y??g,symbol:this.legendItemSymbol(e),data:D},{seriesId:t,datum:f,title:y,idKey:r,idName:n,colorKey:l,colorName:c,sizeKey:h,sizeName:p,labelKey:u,labelName:d,..._})}computeFocusBounds(e){const t=findFocusedGeoGeometry(this,e);return t?Transformable2.toCanvas(this.contentGroup,t.getBBox()):void 0}hasItemStylers(){return this.properties.itemStyler!=null}};MapLineSeries.className="MapLineSeries",MapLineSeries.type="map-line";var import_ag_charts_community95=require("ag-charts-community"),import_ag_charts_core30=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs11,mapLineSeriesThemeableOptionsDef,without:without5}=import_ag_charts_community95._ModuleSupport,mapLineSeriesOptionsDef={...without5(commonSeriesOptionsDefs11,["highlightStyle","highlight"]),...mapLineSeriesThemeableOptionsDef,type:(0,import_ag_charts_core30.required)((0,import_ag_charts_core30.constant)("map-line")),idKey:(0,import_ag_charts_core30.required)(import_ag_charts_core30.string),sizeKey:import_ag_charts_core30.string,colorKey:import_ag_charts_core30.string,labelKey:import_ag_charts_core30.string,idName:import_ag_charts_core30.string,sizeName:import_ag_charts_core30.string,colorName:import_ag_charts_core30.string,labelName:import_ag_charts_core30.string,topology:import_ag_charts_core30.geoJson,topologyIdKey:import_ag_charts_core30.string,legendItemName:import_ag_charts_core30.string,title:import_ag_charts_core30.string};mapLineSeriesOptionsDef.colorRange=(0,import_ag_charts_core30.undocumented)((0,import_ag_charts_core30.and)((0,import_ag_charts_core30.arrayOf)(import_ag_charts_core30.color),(0,import_ag_charts_core30.arrayLength)(1)));var MapLineModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["topology"],identifier:"map-line",moduleFactory:e=>new MapLineSeries(e),themeTemplate:{...MAP_THEME_DEFAULTS,series:{stroke:applyMapPalette(import_ag_charts_community96._ModuleSupport.SAFE_STROKE_FILL_OPERATION),colorRange:{$if:[{$eq:[{$mapPalette:"type"},"inbuilt"]},{$mapPalette:"divergingColors"},applyMapPalette(import_ag_charts_community96._ModuleSupport.SAFE_RANGE2_OPERATION)]},strokeWidth:1,maxStrokeWidth:3,lineDash:[0],lineDashOffset:0,label:{...import_ag_charts_community96._ModuleSupport.LABEL_BOXING_DEFAULTS,enabled:!0,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}},highlight:applyMapPalette(import_ag_charts_community96._ModuleSupport.multiSeriesHighlightStyle(!1))},tooltip:{range:"exact"}}},MapLineSeriesModule={type:"series",name:"map-line",chartType:"topology",enterprise:!0,options:mapLineSeriesOptionsDef,create:e=>new MapLineSeries(e)},import_ag_charts_community98=require("ag-charts-community"),import_ag_charts_core31=require("ag-charts-core"),import_ag_charts_community97=require("ag-charts-community"),{Property:Property26,SeriesProperties:SeriesProperties4,makeSeriesTooltip:makeSeriesTooltip13}=import_ag_charts_community97._ModuleSupport,MapLineBackgroundSeriesProperties=class extends SeriesProperties4{constructor(){super(...arguments),this.topology=void 0,this.stroke="black",this.strokeOpacity=1,this.strokeWidth=0,this.lineDash=[0],this.lineDashOffset=0,this.tooltip=makeSeriesTooltip13()}};__decorateClass([Property26],MapLineBackgroundSeriesProperties.prototype,"topology",2),__decorateClass([Property26],MapLineBackgroundSeriesProperties.prototype,"stroke",2),__decorateClass([Property26],MapLineBackgroundSeriesProperties.prototype,"strokeOpacity",2),__decorateClass([Property26],MapLineBackgroundSeriesProperties.prototype,"strokeWidth",2),__decorateClass([Property26],MapLineBackgroundSeriesProperties.prototype,"lineDash",2),__decorateClass([Property26],MapLineBackgroundSeriesProperties.prototype,"lineDashOffset",2),__decorateClass([Property26],MapLineBackgroundSeriesProperties.prototype,"tooltip",2);var{createDatumId:createDatumId11,Group:Group8,Selection:Selection8,PointerEvents:PointerEvents6}=import_ag_charts_community98._ModuleSupport,MapLineBackgroundSeries=class extends TopologySeries{constructor(e){super({moduleCtx:e,categoryKey:void 0,pickModes:[]}),this.properties=new MapLineBackgroundSeriesProperties,this._chartTopology=void 0,this.itemGroup=this.contentGroup.appendChild(new Group8({name:"itemGroup"})),this.datumSelection=Selection8.select(this.itemGroup,()=>this.nodeFactory()),this.itemGroup.pointerEvents=PointerEvents6.None}getNodeData(){return this.contextNodeData?.nodeData}get topology(){return this.properties.topology??this._chartTopology}get focusable(){return!1}setOptionsData(){}setChartData(){}get hasData(){return!1}renderToOffscreenCanvas(){return!0}setChartTopology(e){this._chartTopology=e,this.topology===e&&(this.nodeDataRefresh=!0)}setZIndex(e){return super.setZIndex(e),this.contentGroup.zIndex=[0,e,0],this.highlightGroup.zIndex=[0,e,1],!0}nodeFactory(){const e=new GeoGeometry;return e.renderMode=2,e.lineJoin="round",e.lineCap="round",e.pointerEvents=PointerEvents6.None,e}processData(){const{topology:e}=this;this.topologyBounds=e?.features.reduce((t,i)=>{const a=i.geometry;return a==null?t:geometryBbox(a,t)},void 0),e==null&&import_ag_charts_core31.Logger.warnOnce("no topology was provided for [MapShapeBackgroundSeries]; nothing will be rendered.")}createNodeData(){const{id:e,topology:t,scale:i}=this;if(t==null)return;const a=[],o=[];return t.features.forEach((s,r)=>{const{geometry:n}=s,l=n!=null&&i!=null?projectGeometry(n,i):void 0;l!=null&&a.push({series:this,itemId:r,datum:s,datumIndex:0,index:r,projectedGeometry:l})}),{itemId:e,nodeData:a,labelData:o}}updateSelections(){this.nodeDataRefresh&&(this.contextNodeData=this.createNodeData(),this.nodeDataRefresh=!1)}update(){const{datumSelection:e}=this;this.updateSelections(),this.contentGroup.visible=this.visible,this.labelGroup.visible=this.visible;const{nodeData:t=[]}=this.contextNodeData??{};this.datumSelection=this.updateDatumSelection({nodeData:t,datumSelection:e}),this.updateDatumNodes({datumSelection:e})}updateDatumSelection(e){return e.datumSelection.update(e.nodeData,void 0,t=>createDatumId11(t.index))}updateDatumNodes(e){const{properties:t}=this,{datumSelection:i}=e,{stroke:a,strokeOpacity:o,lineDash:s,lineDashOffset:r}=t,n=t.strokeWidth;i.each((l,c)=>{const{projectedGeometry:h}=c;if(h==null){l.visible=!1,l.projectedGeometry=void 0;return}l.visible=!0,l.projectedGeometry=h,l.stroke=a,l.strokeWidth=n,l.strokeOpacity=o,l.lineDash=s,l.lineDashOffset=r})}resetAnimation(){}getLegendData(){return[]}getTooltipContent(e){}computeFocusBounds(e){}hasItemStylers(){return!1}};MapLineBackgroundSeries.className="MapLineBackgroundSeries",MapLineBackgroundSeries.type="map-line-background";var import_ag_charts_community99=require("ag-charts-community"),import_ag_charts_core32=require("ag-charts-core"),{mapLineBackgroundSeriesThemeableOptionsDef}=import_ag_charts_community99._ModuleSupport,mapLineBackgroundSeriesOptionsDef={...mapLineBackgroundSeriesThemeableOptionsDef,type:(0,import_ag_charts_core32.required)((0,import_ag_charts_core32.constant)("map-line-background")),topology:import_ag_charts_core32.geoJson},MapLineBackgroundModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["topology"],identifier:"map-line-background",moduleFactory:e=>new MapLineBackgroundSeries(e),themeTemplate:{...MAP_THEME_DEFAULTS,series:{stroke:{$path:["/1",{$mapPalette:"stroke"},{$mapPalette:"secondHierarchyColors"}]},strokeWidth:1,lineDash:[0],lineDashOffset:0}}},MapLineBackgroundSeriesModule={type:"series",name:"map-line-background",chartType:"topology",enterprise:!0,options:mapLineBackgroundSeriesOptionsDef,create:e=>new MapLineBackgroundSeries(e)},import_ag_charts_community104=require("ag-charts-community"),import_ag_charts_core36=require("ag-charts-core"),import_ag_charts_community102=require("ag-charts-community"),import_ag_charts_core34=require("ag-charts-core"),__MINI_CHART_SERIES_OPTIONS=void 0,__VERIFY_MINI_CHART_SERIES_OPTIONS=void 0;__VERIFY_MINI_CHART_SERIES_OPTIONS=__MINI_CHART_SERIES_OPTIONS;var __THEME_OVERRIDES=void 0,__VERIFY_THEME_OVERRIDES=void 0;__VERIFY_THEME_OVERRIDES=__THEME_OVERRIDES;var __THEMEABLE_OPTIONS=void 0,__VERIFY_THEMEABLE_OPTIONS=void 0;__VERIFY_THEMEABLE_OPTIONS=__THEMEABLE_OPTIONS;var __AXIS_LABEL_OPTIONS=void 0,__VERIFY_AXIS_LABEL_OPTIONS=void 0;__VERIFY_AXIS_LABEL_OPTIONS=__AXIS_LABEL_OPTIONS;var import_ag_charts_core33=require("ag-charts-core");function polygonPointSearch(e,t,i){const a=polygonBbox(e[0],void 0);if(a==null)return;const o=(a.lon0+a.lon1)/2,s=(a.lat0+a.lat1)/2,r=Math.abs(a.lon1-a.lon0),n=Math.abs(a.lat1-a.lat0),l=polygonCentroid(e[0]),[c,h]=l,p=-polygonDistance(e,c,h);let u;const d=(D,_)=>{const v=Math.max(_-p,0);return D-.5*v},y=(D,_,k)=>{const{distance:v,maxDistance:A}=i(e,D,_,k),I=Math.hypot(c-D,h-_),M=Math.min(Math.max(c,D-k/2),D+k/2),L=Math.min(Math.max(h,_-k/2),_+k/2),R=Math.hypot(c-M,h-L),C=d(v,I),N=d(A,R);return{distance:v,maxDistance:A,value:C,maxValue:N,x:D,y:_,stride:k}},g=(D,_,k,v)=>{const A=y(_,k,v);A.maxDistance>=0&&D.push(A)},m=Math.min(r,n)/2;let f={value:y(o,s,m),next:null};for(;f!=null;){const D=f.value,{distance:_,value:k,maxValue:v,x:A,y:I,stride:M}=D;if(f=f.next,_>0&&(u==null||k>u.value)&&(u=D),u!=null&&v-u.value<=t)continue;const L=M/2,R=[];g(R,A-L,I-L,L),g(R,A+L,I-L,L),g(R,A-L,I+L,L),g(R,A+L,I+L,L),R.sort(labelPlacementCmp),f=(0,import_ag_charts_core33.insertListItemsSorted)(f,R,labelPlacementCmp)}if(u==null)return;const{distance:b,x,y:S}=u;return{x,y:S,distance:b}}var labelPlacementCmp=(e,t)=>t.maxValue-e.maxValue;function polygonMarkerCenter(e,t){const i=polygonPointSearch(e,t,(s,r,n,l)=>{const c=-polygonDistance(s,r,n),h=c+l*Math.SQRT2;return{distance:c,maxDistance:h}});if(i==null)return;const{x:a,y:o}=i;return[a,o]}function markerPositions(e,t){let i;switch(e.type){case"GeometryCollection":return e.geometries.flatMap(a=>markerPositions(a,t));case"MultiPoint":return e.coordinates;case"Point":return[e.coordinates];case"MultiPolygon":{const a=largestPolygon(e);i=a!=null?polygonMarkerCenter(a,t):void 0;break}case"Polygon":{const a=e.coordinates;i=a!=null?polygonMarkerCenter(a,t):void 0;break}case"MultiLineString":{const a=largestLineString(e);i=a!=null?lineStringCenter(a)?.point:void 0;break}case"LineString":{const a=e.coordinates;i=lineStringCenter(a)?.point;break}}return i!=null?[i]:[]}var import_ag_charts_community100=require("ag-charts-community"),{BBox:BBox11}=import_ag_charts_community100._ModuleSupport;function getTopologyShapeFillBBox(e){if(!e)return;const{range:t}=e,i=t[0][0],a=t[0][1],o=t[1][0]-i,s=t[1][1]-a,r=new BBox11(i,a,o,s);return{series:r,axis:r}}var import_ag_charts_community101=require("ag-charts-community"),{FillGradientDefaults:FillGradientDefaults9,FillPatternDefaults:FillPatternDefaults9,FillImageDefaults:FillImageDefaults9,Property:Property27,SeriesProperties:SeriesProperties5,makeSeriesTooltip:makeSeriesTooltip14,Label:Label9}=import_ag_charts_community101._ModuleSupport,MapMarkerSeriesLabel=class extends Label9{constructor(){super(...arguments),this.placement="bottom"}};__decorateClass([Property27],MapMarkerSeriesLabel.prototype,"placement",2);var MapMarkerSeriesProperties=class extends SeriesProperties5{constructor(){super(...arguments),this.topology=void 0,this.idKey=void 0,this.topologyIdKey="name",this.idName=void 0,this.latitudeKey=void 0,this.latitudeName=void 0,this.longitudeKey=void 0,this.longitudeName=void 0,this.labelKey=void 0,this.labelName=void 0,this.colorRange=void 0,this.shape="circle",this.size=6,this.fill="black",this.fillGradientDefaults=new FillGradientDefaults9,this.fillPatternDefaults=new FillPatternDefaults9,this.fillImageDefaults=new FillImageDefaults9,this.fillOpacity=1,this.stroke="black",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.label=new MapMarkerSeriesLabel,this.tooltip=makeSeriesTooltip14()}getStyle(){const{size:e,shape:t,fill:i,fillOpacity:a,stroke:o,strokeWidth:s,strokeOpacity:r,lineDash:n,lineDashOffset:l}=this;return{size:e,shape:t,fill:i,fillOpacity:a,opacity:1,stroke:o,strokeWidth:s,strokeOpacity:r,lineDash:n,lineDashOffset:l}}};__decorateClass([Property27],MapMarkerSeriesProperties.prototype,"topology",2),__decorateClass([Property27],MapMarkerSeriesProperties.prototype,"title",2),__decorateClass([Property27],MapMarkerSeriesProperties.prototype,"legendItemName",2),__decorateClass([Property27],MapMarkerSeriesProperties.prototype,"idKey",2),__decorateClass([Property27],MapMarkerSeriesProperties.prototype,"topologyIdKey",2),__decorateClass([Property27],MapMarkerSeriesProperties.prototype,"idName",2),__decorateClass([Property27],MapMarkerSeriesProperties.prototype,"latitudeKey",2),__decorateClass([Property27],MapMarkerSeriesProperties.prototype,"latitudeName",2),__decorateClass([Property27],MapMarkerSeriesProperties.prototype,"longitudeKey",2),__decorateClass([Property27],MapMarkerSeriesProperties.prototype,"longitudeName",2),__decorateClass([Property27],MapMarkerSeriesProperties.prototype,"labelKey",2),__decorateClass([Property27],MapMarkerSeriesProperties.prototype,"labelName",2),__decorateClass([Property27],MapMarkerSeriesProperties.prototype,"sizeKey",2),__decorateClass([Property27],MapMarkerSeriesProperties.prototype,"sizeName",2),__decorateClass([Property27],MapMarkerSeriesProperties.prototype,"colorKey",2),__decorateClass([Property27],MapMarkerSeriesProperties.prototype,"colorName",2),__decorateClass([Property27],MapMarkerSeriesProperties.prototype,"colorRange",2),__decorateClass([Property27],MapMarkerSeriesProperties.prototype,"shape",2),__decorateClass([Property27],MapMarkerSeriesProperties.prototype,"size",2),__decorateClass([Property27],MapMarkerSeriesProperties.prototype,"maxSize",2),__decorateClass([Property27],MapMarkerSeriesProperties.prototype,"sizeDomain",2),__decorateClass([Property27],MapMarkerSeriesProperties.prototype,"fill",2),__decorateClass([Property27],MapMarkerSeriesProperties.prototype,"fillGradientDefaults",2),__decorateClass([Property27],MapMarkerSeriesProperties.prototype,"fillPatternDefaults",2),__decorateClass([Property27],MapMarkerSeriesProperties.prototype,"fillImageDefaults",2),__decorateClass([Property27],MapMarkerSeriesProperties.prototype,"fillOpacity",2),__decorateClass([Property27],MapMarkerSeriesProperties.prototype,"stroke",2),__decorateClass([Property27],MapMarkerSeriesProperties.prototype,"strokeWidth",2),__decorateClass([Property27],MapMarkerSeriesProperties.prototype,"strokeOpacity",2),__decorateClass([Property27],MapMarkerSeriesProperties.prototype,"lineDash",2),__decorateClass([Property27],MapMarkerSeriesProperties.prototype,"lineDashOffset",2),__decorateClass([Property27],MapMarkerSeriesProperties.prototype,"itemStyler",2),__decorateClass([Property27],MapMarkerSeriesProperties.prototype,"label",2),__decorateClass([Property27],MapMarkerSeriesProperties.prototype,"tooltip",2);var{CachedTextMeasurerPool:CachedTextMeasurerPool6,fromToMotion:fromToMotion3,StateMachine:StateMachine2,getMissCount:getMissCount3,createDatumId:createDatumId12,SeriesNodePickMode:SeriesNodePickMode10,valueProperty:valueProperty10,computeMarkerFocusBounds:computeMarkerFocusBounds2,ColorScale:ColorScale3,LinearScale:LinearScale5,Group:Group9,Selection:Selection9,Text:Text3,Marker:Marker3,applyShapeStyle:applyShapeStyle11,getShapeStyle:getShapeStyle9,getLabelStyles:getLabelStyles3,LonLatBBox:LonLatBBox3,mergeDefaults:mergeDefaults11}=import_ag_charts_community102._ModuleSupport,MapMarkerSeries=class extends TopologySeries{constructor(e){super({moduleCtx:e,categoryKey:void 0,propertyKeys:{size:["colorKey"],color:["colorKey"],label:["labelKey"]},propertyNames:{size:["sizeName"],color:["colorName"],label:["labelName"]},pickModes:[SeriesNodePickMode10.EXACT_SHAPE_MATCH,SeriesNodePickMode10.NEAREST_NODE],usesPlacedLabels:!0}),this.properties=new MapMarkerSeriesProperties,this._chartTopology=void 0,this.colorScale=new ColorScale3,this.sizeScale=new LinearScale5,this.markerGroup=this.contentGroup.appendChild(new Group9({name:"markerGroup"})),this.labelSelection=Selection9.select(this.labelGroup,Text3,!1),this.markerSelection=Selection9.select(this.markerGroup,Marker3,!1),this.highlightMarkerSelection=Selection9.select(this.highlightGroup,Marker3),this.animationState=new StateMachine2("empty",{empty:{update:{target:"ready",action:()=>this.animateMarkers()},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",resize:()=>this.resetAllAnimation(),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:()=>this.animateMarkers()},resize:{target:"ready",action:()=>this.resetAllAnimation()},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:()=>this.resetAllAnimation()},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}getNodeData(){return this.contextNodeData?.nodeData}get topology(){return this.properties.topology??this._chartTopology}get hasData(){const e=this.properties.latitudeKey!=null&&this.properties.longitudeKey!=null;return super.hasData&&(this.topology!=null||e)}renderToOffscreenCanvas(){return!0}setChartTopology(e){this._chartTopology=e,this.topology===e&&(this.nodeDataRefresh=!0)}setZIndex(e){return super.setZIndex(e),this.contentGroup.zIndex=[3,e],this.highlightGroup.zIndex=[4,e],!0}isLabelEnabled(){return this.properties.labelKey!=null&&this.properties.label.enabled}async processData(e){if(this.data==null)return;const{data:t,topology:i,sizeScale:a,colorScale:o}=this,{topologyIdKey:s,idKey:r,latitudeKey:n,longitudeKey:l,sizeKey:c,colorKey:h,labelKey:p,sizeDomain:u,colorRange:d}=this.properties,y=new Map;i?.features.forEach(v=>{const A=v.properties?.[s];A!=null&&y.set(A,v)});const g=this.sizeScale.type,m=this.colorScale.type,f=this.scale?.type,b=n!=null&&l!=null,{dataModel:x,processedData:S}=await this.requestDataModel(e,t,{props:[...r!=null?[valueProperty10(r,f,{id:"idValue",includeProperty:!1}),valueProperty10(r,f,{id:"featureValue",includeProperty:!1,processor:()=>v=>y.get(v)})]:[],...b?[valueProperty10(n,f,{id:"latValue"}),valueProperty10(l,f,{id:"lonValue"})]:[],...p?[valueProperty10(p,"category",{id:"labelValue"})]:[],...c?[valueProperty10(c,g,{id:"sizeValue"})]:[],...h?[valueProperty10(h,m,{id:"colorValue"})]:[]]}),D=r!=null?x.resolveColumnById(this,"featureValue",S):void 0,_=b?x.resolveColumnById(this,"latValue",S):void 0,k=b?x.resolveColumnById(this,"lonValue",S):void 0;if(this.topologyBounds=S.dataSources.get(this.id)?.reduce((v,A,I)=>{const L=D?.[I]?.geometry;if(L!=null&&(v=geometryBbox(L,v)),_!=null&&k!=null){const R=k[I],C=_[I];v=LonLatBBox3.extend(v,R,C,R,C)}return v},void 0),c!=null){const v=x.resolveProcessedDataIndexById(this,"sizeValue"),A=S.domain.values[v]??[];a.domain=u??A}if(d!=null&&this.isColorScaleValid()){const v=x.resolveProcessedDataIndexById(this,"colorValue");o.domain=S.domain.values[v],o.range=d,o.update()}this.animationState.transition("updateData")}isColorScaleValid(){const{colorKey:e}=this.properties;if(!e)return!1;const{dataModel:t,processedData:i}=this;if(!t||!i)return!1;const a=t.resolveProcessedDataIndexById(this,"colorValue"),o=i.input.count,s=getMissCount3(this,i.defs.values[a].missing);return!(o===0||o===s)}getLabelDatum(e,t,i,a,o,s){if(t==null)return;const{idKey:r,idName:n,latitudeKey:l,latitudeName:c,longitudeKey:h,longitudeName:p,sizeKey:u,sizeName:d,colorKey:y,colorName:g,labelKey:m,labelName:f,label:b,shape:x}=this.properties;if(m==null||!b.enabled)return;const{placement:S}=b,D=this.getLabelText(t,e,m,"label",[],b,{value:t,datum:e,idKey:r,idName:n,latitudeKey:l,latitudeName:c,longitudeKey:h,longitudeName:p,sizeKey:u,sizeName:d,colorKey:y,colorName:g,labelKey:m,labelName:f});if(D==null)return;const{width:_,height:k}=s.measureText(String(D)),v=Marker3.anchor(x);return{point:{x:i,y:a,size:o},label:{width:_,height:k,text:D},anchor:v,placement:S}}createNodeData(){const{id:e,dataModel:t,processedData:i,sizeScale:a,properties:o,scale:s}=this,{idKey:r,latitudeKey:n,longitudeKey:l,sizeKey:c,colorKey:h,labelKey:p,label:u,legendItemName:d}=o;if(t==null||i==null||s==null)return;const y=n!=null&&l!=null,g=r!=null?t.resolveColumnById(this,"idValue",i):void 0,m=r!=null?t.resolveColumnById(this,"featureValue",i):void 0,f=y?t.resolveColumnById(this,"latValue",i):void 0,b=y?t.resolveColumnById(this,"lonValue",i):void 0,x=p!=null?t.resolveColumnById(this,"labelValue",i):void 0,S=c!=null?t.resolveColumnById(this,"sizeValue",i):void 0,D=h!=null?t.resolveColumnById(this,"colorValue",i):void 0,_=o.maxSize??o.size;a.range=[Math.min(o.size,_),_];const k=CachedTextMeasurerPool6.getMeasurer({font:u});let v;g!=null&&m!=null&&(v=new Map,i.dataSources.get(this.id)?.forEach((C,N)=>{const P=g[N],T=m[N]?.geometry??void 0,w=T!=null&&s!=null?projectGeometry(T,s):void 0;P!=null&&w!=null&&v.set(P,w)}));const A=[],I=[],M=[];(i.dataSources.get(this.id)??[]).forEach((C,N)=>{const P=g?.[N],T=b?.[N],w=f?.[N],E=D?.[N],O=S?.[N],F=x?.[N],B=O!=null?a.convert(O,{clamp:!0}):o.size,G=P!=null?v?.get(P):void 0;if(P!=null&&projectGeometry==null&&M.push(P),T!=null&&w!=null){const[V,K]=s.convert([T,w]),W=this.getLabelDatum(C,F,V,K,B,k);W&&I.push(W),A.push({series:this,itemId:n,datum:C,datumIndex:N,index:-1,idValue:P,lonValue:T,latValue:w,labelValue:F,sizeValue:O,colorValue:E,point:{x:V,y:K,size:B},midPoint:{x:V,y:K},legendItemName:d})}else G!=null&&markerPositions(G,1).forEach(([V,K],W)=>{const z=this.getLabelDatum(C,F,V,K,B,k);z&&I.push(z),A.push({series:this,itemId:n,datum:C,datumIndex:N,index:W,idValue:P,lonValue:T,latValue:w,labelValue:F,sizeValue:O,colorValue:E,point:{x:V,y:K,size:B},midPoint:{x:V,y:K},legendItemName:d})})});const R=10;if(M.length>R){const C=M.length-R;M.length=R,M.push(`(+${C} more)`)}return M.length>0&&import_ag_charts_core34.Logger.warnOnce("some data items do not have matches in the provided topology",M),{itemId:e,nodeData:A,labelData:I}}updateSelections(){this.nodeDataRefresh&&(this.contextNodeData=this.createNodeData(),this.nodeDataRefresh=!1)}checkScaleChange(){return this.previousScale===this.scale?!1:(this.previousScale=this.scale,!0)}update({seriesRect:e}){const t=this.checkResize(e),i=this.checkScaleChange(),{markerSelection:a,highlightMarkerSelection:o}=this;this.updateSelections(),this.contentGroup.visible=this.visible,this.labelGroup.visible=this.visible;let s=this.ctx.highlightManager?.getActiveHighlight();const{legendItemName:r}=this.properties,n=r!=null&&s?.datum==null&&r===s?.legendItemName;s!=null&&(s.series!==this&&!n||s.datum==null)&&(s=void 0);const l=this.contextNodeData?.nodeData??[];this.markerSelection=this.updateMarkerSelection({markerData:l,markerSelection:a}),this.updateMarkerNodes({markerSelection:a,isHighlight:!1,highlightedDatum:s}),this.highlightMarkerSelection=this.updateMarkerSelection({markerData:s!=null?[s]:[],markerSelection:o}),this.updateMarkerNodes({markerSelection:o,isHighlight:!0,highlightedDatum:s}),(i||t)&&this.animationState.transition("resize"),this.animationState.transition("update")}updatePlacedLabelData(e){this.labelSelection=this.labelSelection.update(e,t=>{t.pointerEvents=import_ag_charts_community102._ModuleSupport.PointerEvents.None}),this.updateLabelNodes({labelSelection:this.labelSelection})}updateLabelNodes(e){e.labelSelection.each((t,{x:i,y:a,width:o,height:s,text:r},n)=>{const l=getLabelStyles3(this,void 0,this.properties,this.properties.label),{color:c,fontStyle:h,fontWeight:p,fontSize:u,fontFamily:d}=l;t.visible=!0,t.x=i+o/2,t.y=a+s/2,t.text=r,t.fill=c,t.fontStyle=h,t.fontWeight=p,t.fontSize=u,t.fontFamily=d,t.textAlign="center",t.textBaseline="middle",t.fillOpacity=this.getHighlightStyle(!1,n).opacity??1,t.setBoxing(l)})}updateMarkerSelection(e){const{markerData:t,markerSelection:i}=e;return i.update(t,void 0,a=>createDatumId12([a.index,a.idValue,a.lonValue,a.latValue]))}getMarkerItemStyle({datumIndex:e,datum:t,colorValue:i,sizeValue:a},o){const{id:s,properties:r,colorScale:n,sizeScale:l}=this,{colorRange:c,itemStyler:h,fillGradientDefaults:p,fillPatternDefaults:u,fillImageDefaults:d}=r,y=this.getHighlightStyle(o,e),g=mergeDefaults11(y,r.getStyle());!o&&i!=null&&(g.fill=this.isColorScaleValid()?n.convert(i):c?.[0]??g.fill),a!=null&&(g.size=l.convert(a,{clamp:!0}));let m=getShapeStyle9(g,p,u,d);if(h!=null&&e!=null){const f=this.cachedDatumCallback(createDatumId12(e,o?"highlight":"node"),()=>{const b=this.ctx.highlightManager?.getActiveHighlight(),x=this.getHighlightStateString(b,o,e);return this.callWithContext(h,{seriesId:s,datum:t,highlighted:o,highlightState:x,...m})});f&&(m=getShapeStyle9(mergeDefaults11(f,g),p,u,d))}return m}updateMarkerNodes(e){const{markerSelection:t,isHighlight:i,highlightedDatum:a}=e,o=getTopologyShapeFillBBox(this.scale);t.each((s,r)=>{const{datum:n,point:l}=r,c=this.getMarkerItemStyle(r,i);s.shape=c.shape,s.size=c.size,applyShapeStyle11(s,c,o),s.x=l.x,s.y=l.y,s.scalingCenterX=l.x,s.scalingCenterY=l.y,s.zIndex=!i&&a!=null&&n===a.datum?1:0})}isProcessedDataAnimatable(){return!0}resetAnimation(e){e==="initial"?this.animationState.transition("reset"):e==="ready"&&this.animationState.transition("skip")}resetAllAnimation(){this.ctx.animationManager.stopByAnimationGroupId(this.id),this.ctx.animationManager.skipCurrentBatch(),this.labelSelection.cleanup(),this.markerSelection.cleanup(),this.highlightMarkerSelection.cleanup()}animateMarkers(){const{animationManager:e}=this.ctx,t=prepareMapMarkerAnimationFunctions();fromToMotion3(this.id,"markers",e,[this.markerSelection,this.highlightMarkerSelection],t)}getLabelData(){return this.isLabelEnabled()?this.contextNodeData?.labelData??[]:[]}pickNodeClosestDatum(e){const{x:t,y:i}=e;let a=1/0,o;return this.contextNodeData?.nodeData.forEach(s=>{const{x:r,y:n,size:l}=s.point,c=Math.max(Math.abs(r-t)-l,0),h=Math.max(Math.abs(n-i)-l,0),p=c*c+h*h;p<a&&(a=p,o=s)}),o!=null?{datum:o,distance:Math.sqrt(a)}:void 0}legendItemSymbol(e){const{dataModel:t,processedData:i,properties:a}=this,{shape:o,fillOpacity:s,stroke:r,strokeWidth:n,strokeOpacity:l,lineDash:c,lineDashOffset:h}=a;let{fill:p}=a;if(e!=null&&this.isColorScaleValid()){const d=t.resolveColumnById(this,"colorValue",i)[e];p=this.colorScale.convert(d)}return{marker:getShapeStyle9({shape:o,fill:p,fillOpacity:s,stroke:r,strokeWidth:n,strokeOpacity:l,lineDash:c,lineDashOffset:h},this.properties.fillGradientDefaults,this.properties.fillPatternDefaults,this.properties.fillImageDefaults)}}getLegendData(e){const{processedData:t,dataModel:i}=this;if(t==null||i==null)return[];const{id:a,visible:o}=this,{title:s,legendItemName:r,idName:n,idKey:l,colorKey:c,colorRange:h,showInLegend:p}=this.properties;if(e==="gradient"&&c!=null&&h!=null){const u=t.domain.values[i.resolveProcessedDataIndexById(this,"colorValue")];return[{legendType:"gradient",enabled:o,seriesId:a,series:this.getFormatterContext("color"),colorRange:h,colorDomain:u}]}else return e==="category"?[{legendType:"category",id:a,itemId:a,seriesId:a,enabled:o,label:{text:r??s??n??l??a},symbol:this.legendItemSymbol(),legendItemName:r,hideInLegend:!p}]:[]}getTooltipContent(e){const{id:t,dataModel:i,processedData:a,properties:o,ctx:{formatManager:s}}=this,{idKey:r,idName:n,latitudeKey:l,latitudeName:c,longitudeKey:h,longitudeName:p,colorKey:u,colorName:d,sizeKey:y,sizeName:g,labelKey:m,labelName:f,title:b,legendItemName:x,tooltip:S}=o;if(!i||!a)return;const D=a.dataSources.get(this.id)?.[e],_=y!=null?i.resolveColumnById(this,"sizeValue",a)[e]:void 0,k=u!=null?i.resolveColumnById(this,"colorValue",a)[e]:void 0,v=[];if(this.isLabelEnabled()&&m!=null&&m!==r){const M=i.resolveColumnById(this,"labelValue",a)[e],L=s.format(this.callWithContext.bind(this),{type:"category",value:M,datum:D,seriesId:t,legendItemName:x,key:m,source:"tooltip",property:"label",domain:[],boundSeries:this.getFormatterContext("label")});v.push({label:f,fallbackLabel:m,value:L??M})}if(y!=null&&_!=null){const M=i.getDomain(this,"sizeValue","value",a),L=s.format(this.callWithContext.bind(this),{type:"number",value:_,datum:D,seriesId:t,legendItemName:x,key:y,source:"tooltip",property:"size",domain:M,boundSeries:this.getFormatterContext("size"),fractionDigits:void 0});v.push({label:g,fallbackLabel:y,value:L??String(_)})}if(u!=null&&k!=null){const M=i.getDomain(this,"colorValue","value",a),L=s.format(this.callWithContext.bind(this),{type:"number",value:k,datum:D,seriesId:t,legendItemName:x,key:u,source:"tooltip",property:"color",domain:M,boundSeries:this.getFormatterContext("color"),fractionDigits:void 0});v.push({label:d,fallbackLabel:u,value:L??String(k)})}let A;if(r!=null)A=i.resolveColumnById(this,"idValue",a)[e];else if(l!=null&&h!=null){const M=i.resolveColumnById(this,"latValue",a)[e],L=i.resolveColumnById(this,"lonValue",a)[e];A=`${Math.abs(M).toFixed(4)}\xB0 ${M>=0?"N":"S"}, ${Math.abs(L).toFixed(4)}\xB0 ${L>=0?"W":"E"}`}const I=this.getMarkerItemStyle({datumIndex:e,datum:D,colorValue:k,sizeValue:_},!1);return this.formatTooltipWithContext(S,{heading:A,title:b??x,symbol:this.legendItemSymbol(e),data:v},{seriesId:t,datum:D,title:b,idKey:r,idName:n,latitudeKey:l,latitudeName:c,longitudeKey:h,longitudeName:p,colorKey:u,colorName:d,sizeKey:y,sizeName:g,labelKey:m,labelName:f,...I})}getFormattedMarkerStyle(e){const t=this.getMarkerItemStyle(e,!1);return{size:t.size,shape:t.shape}}computeFocusBounds(e){return computeMarkerFocusBounds2(this,e)}hasItemStylers(){return this.properties.itemStyler!=null}};MapMarkerSeries.className="MapMarkerSeries",MapMarkerSeries.type="map-marker";var import_ag_charts_community103=require("ag-charts-community"),import_ag_charts_core35=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs12,mapMarkerSeriesThemeableOptionsDef,without:without6}=import_ag_charts_community103._ModuleSupport,mapMarkerSeriesOptionsDef={...without6(commonSeriesOptionsDefs12,["highlightStyle","highlight"]),...mapMarkerSeriesThemeableOptionsDef,type:(0,import_ag_charts_core35.required)((0,import_ag_charts_core35.constant)("map-marker")),idKey:import_ag_charts_core35.string,latitudeKey:import_ag_charts_core35.string,longitudeKey:import_ag_charts_core35.string,sizeKey:import_ag_charts_core35.string,colorKey:import_ag_charts_core35.string,labelKey:import_ag_charts_core35.string,idName:import_ag_charts_core35.string,latitudeName:import_ag_charts_core35.string,longitudeName:import_ag_charts_core35.string,sizeName:import_ag_charts_core35.string,colorName:import_ag_charts_core35.string,labelName:import_ag_charts_core35.string,topology:import_ag_charts_core35.geoJson,topologyIdKey:import_ag_charts_core35.string,legendItemName:import_ag_charts_core35.string,title:import_ag_charts_core35.string},MapMarkerModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["topology"],identifier:"map-marker",moduleFactory:e=>new MapMarkerSeries(e),themeTemplate:{...MAP_THEME_DEFAULTS,series:{shape:"circle",maxSize:30,fill:{$mapPalette:"fill"},stroke:{$mapPalette:"stroke"},colorRange:{$if:[{$eq:[{$mapPalette:"type"},"inbuilt"]},{$mapPalette:"divergingColors"},applyMapPalette(import_ag_charts_community104._ModuleSupport.SAFE_RANGE2_OPERATION)]},fillGradientDefaults:applyMapPalette(import_ag_charts_community104._ModuleSupport.FILL_GRADIENT_RADIAL_REVERSED_DEFAULTS),fillPatternDefaults:applyMapPalette(import_ag_charts_community104._ModuleSupport.FILL_PATTERN_DEFAULTS),fillImageDefaults:applyMapPalette(import_ag_charts_community104._ModuleSupport.FILL_IMAGE_DEFAULTS),fillOpacity:.5,label:{...import_ag_charts_community104._ModuleSupport.LABEL_BOXING_DEFAULTS,enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}},highlight:applyMapPalette(import_ag_charts_community104._ModuleSupport.multiSeriesHighlightStyle())},tooltip:{range:"exact"}}},MapMarkerSeriesModule={type:"series",name:"map-marker",chartType:"topology",enterprise:!0,options:mapMarkerSeriesOptionsDef,create:e=>new MapMarkerSeries(e),validate(e,t,i){const a=(0,import_ag_charts_core36.validate)(e,t,i),{cleared:o,invalid:s}=a;if(o?.idKey==null&&(o?.latitudeKey==null||o?.longitudeKey==null)){const r=l=>i?`${i}.${l}`:l,n=`Either \`${r("idKey")}\` or both \`${r("latitudeKey")}\` and \`${r("longitudeKey")}\` are required.`;s.push(new import_ag_charts_core36.ValidationError("required",n,null,i))}return a}},import_ag_charts_community108=require("ag-charts-community"),import_ag_charts_community106=require("ag-charts-community"),import_ag_charts_core37=require("ag-charts-core");function preferredLabelCenter(e,{aspectRatio:t,precision:i}){const a=polygonPointSearch(e,i,(l,c,h,p)=>{const u=maxWidthOfRectConstrainedByCenterAndAspectRatioToPolygon(l,c,h,t),d=u+2*p*t,y=u*Math.SQRT2,g=d*Math.SQRT2;return{distance:y,maxDistance:g}});if(a==null)return;const{x:o,y:s,distance:r}=a,n=r/Math.SQRT2;return{x:o,y:s,maxWidth:n}}function maxWidthOfRectConstrainedByCenterAndAspectRatioToLineSegment(e,t,i,a,o){const[s,r]=e,[n,l]=t,c=1/o,h=n-s,p=l-r,[u,d]=r<=l?e:t,[y,g]=s<=n?e:t,[m,f]=r<=l?t:e,[b,x]=s<=n?t:e;let S=1/0;if(h!==0){const I=p/h;for(let M=0;M<=1;M+=1){const L=M===0?c:-c,R=(I*s-r-L*i+a)/(I-L);if(R>=y&&R<=b){const C=Math.abs(i-R)*2;S=Math.min(S,C)}}}else for(let I=0;I<=1;I+=1){const L=(I===0?c:-c)*(s-i)+a;if(L>=d&&L<=f){const C=Math.abs(a-L)*2*o;S=Math.min(S,C)}}const D=o,_=Math.abs((u-i)/(d-a)),k=Math.abs((m-i)/(f-a));if(f<a&&k<D){const M=Math.abs(a-f)*2*o;S=Math.min(S,M)}else if(d>a&&_<D){const M=Math.abs(a-d)*2*o;S=Math.min(S,M)}const v=Math.abs((g-a)/(y-i)),A=Math.abs((x-a)/(b-i));if(b<i&&A<c){const I=Math.abs(i-b)*2;S=Math.min(S,I)}else if(y>i&&v<c){const I=Math.abs(i-y)*2;S=Math.min(S,I)}return S}function maxWidthOfRectConstrainedByCenterAndAspectRatioToPolygon(e,t,i,a){let o=!1,s=1/0;for(const r of e){let n=r[r.length-1],[l,c]=n;for(const h of r){const[p,u]=h;u>i!=c>i&&t<(l-p)*(i-u)/(c-u)+p&&(o=!o);const d=maxWidthOfRectConstrainedByCenterAndAspectRatioToLineSegment(n,h,t,i,a);s=Math.min(s,d),n=h,l=p,c=u}}return(o?1:-1)*s}function applyX(e,t,i){i>=t&&(e.maxX=Math.min(e.maxX,i-t)),i<=t&&(e.minX=Math.max(e.minX,i-t))}function xExtentsOfRectConstrainedByCenterAndHeightToLineSegment(e,t,i,a,o,s){const r=o-s/2,n=o+s/2,[l,c]=t,[h,p]=i,u=h-l,d=p-c,[y,g]=l<=h?t:i,[m,f]=l<=h?i:t;if(u!==0){const b=d/u;for(let x=0;x<=1;x+=1){const D=((x===0?r:n)-c)/b+l;D>=y&&D<=m&&applyX(e,a,D)}}else Math.max(r,Math.min(c,p))<=Math.min(n,Math.max(c,p))&&applyX(e,a,l);return m<a&&f>=r&&f<=n?applyX(e,a,m):y>a&&g>=r&&g<=n&&applyX(e,a,y),e}function maxWidthInPolygonForRectOfHeight(e,t,i,a){const o={minX:-1/0,maxX:1/0};for(const n of e){let l=n[n.length-1];for(const c of n)xExtentsOfRectConstrainedByCenterAndHeightToLineSegment(o,l,c,t,i,a),l=c}const{minX:s,maxX:r}=o;return Number.isFinite(s)&&Number.isFinite(r)?{x:t+(s+r)/2,width:r-s}:{x:t,width:0}}var import_ag_charts_community105=require("ag-charts-community"),{Property:Property28,SeriesProperties:SeriesProperties6,makeSeriesTooltip:makeSeriesTooltip15,FillGradientDefaults:FillGradientDefaults10,FillPatternDefaults:FillPatternDefaults10,FillImageDefaults:FillImageDefaults10}=import_ag_charts_community105._ModuleSupport,MapShapeSeriesProperties=class extends SeriesProperties6{constructor(){super(...arguments),this.topology=void 0,this.idKey="",this.idName=void 0,this.topologyIdKey="name",this.labelKey=void 0,this.labelName=void 0,this.colorRange=void 0,this.fill="black",this.fillGradientDefaults=new FillGradientDefaults10,this.fillPatternDefaults=new FillPatternDefaults10,this.fillImageDefaults=new FillImageDefaults10,this.fillOpacity=1,this.stroke="black",this.strokeOpacity=1,this.strokeWidth=0,this.lineDash=[0],this.lineDashOffset=0,this.padding=0,this.label=new AutoSizedSecondaryLabel,this.tooltip=makeSeriesTooltip15()}getStyle(){const{fill:e,fillOpacity:t,stroke:i,strokeWidth:a,strokeOpacity:o,lineDash:s,lineDashOffset:r}=this;return{fill:e,fillOpacity:t,stroke:i,strokeWidth:a,strokeOpacity:o,lineDash:s,lineDashOffset:r,opacity:1}}};__decorateClass([Property28],MapShapeSeriesProperties.prototype,"topology",2),__decorateClass([Property28],MapShapeSeriesProperties.prototype,"title",2),__decorateClass([Property28],MapShapeSeriesProperties.prototype,"legendItemName",2),__decorateClass([Property28],MapShapeSeriesProperties.prototype,"idKey",2),__decorateClass([Property28],MapShapeSeriesProperties.prototype,"idName",2),__decorateClass([Property28],MapShapeSeriesProperties.prototype,"topologyIdKey",2),__decorateClass([Property28],MapShapeSeriesProperties.prototype,"labelKey",2),__decorateClass([Property28],MapShapeSeriesProperties.prototype,"labelName",2),__decorateClass([Property28],MapShapeSeriesProperties.prototype,"colorKey",2),__decorateClass([Property28],MapShapeSeriesProperties.prototype,"colorName",2),__decorateClass([Property28],MapShapeSeriesProperties.prototype,"colorRange",2),__decorateClass([Property28],MapShapeSeriesProperties.prototype,"fill",2),__decorateClass([Property28],MapShapeSeriesProperties.prototype,"fillGradientDefaults",2),__decorateClass([Property28],MapShapeSeriesProperties.prototype,"fillPatternDefaults",2),__decorateClass([Property28],MapShapeSeriesProperties.prototype,"fillImageDefaults",2),__decorateClass([Property28],MapShapeSeriesProperties.prototype,"fillOpacity",2),__decorateClass([Property28],MapShapeSeriesProperties.prototype,"stroke",2),__decorateClass([Property28],MapShapeSeriesProperties.prototype,"strokeOpacity",2),__decorateClass([Property28],MapShapeSeriesProperties.prototype,"strokeWidth",2),__decorateClass([Property28],MapShapeSeriesProperties.prototype,"lineDash",2),__decorateClass([Property28],MapShapeSeriesProperties.prototype,"lineDashOffset",2),__decorateClass([Property28],MapShapeSeriesProperties.prototype,"padding",2),__decorateClass([Property28],MapShapeSeriesProperties.prototype,"itemStyler",2),__decorateClass([Property28],MapShapeSeriesProperties.prototype,"label",2),__decorateClass([Property28],MapShapeSeriesProperties.prototype,"tooltip",2);var{getMissCount:getMissCount4,createDatumId:createDatumId13,SeriesNodePickMode:SeriesNodePickMode11,valueProperty:valueProperty11,CachedTextMeasurerPool:CachedTextMeasurerPool7,TextUtils:TextUtils4,ColorScale:ColorScale4,Group:Group10,Selection:Selection10,Text:Text4,PointerEvents:PointerEvents7,applyShapeStyle:applyShapeStyle12,getShapeStyle:getShapeStyle10,getLabelStyles:getLabelStyles4,mergeDefaults:mergeDefaults12}=import_ag_charts_community106._ModuleSupport,fixedScale=import_ag_charts_community106._ModuleSupport.MercatorScale.fixedScale(),MapShapeSeries=class extends TopologySeries{constructor(e){super({moduleCtx:e,categoryKey:void 0,propertyKeys:{color:["colorKey"],label:["labelKey"]},propertyNames:{color:["colorName"],label:["labelName"]},pickModes:[SeriesNodePickMode11.EXACT_SHAPE_MATCH,SeriesNodePickMode11.NEAREST_NODE]}),this.properties=new MapShapeSeriesProperties,this._chartTopology=void 0,this.colorScale=new ColorScale4,this.itemGroup=this.contentGroup.appendChild(new Group10({name:"itemGroup"})),this.itemLabelGroup=this.contentGroup.appendChild(new Group10({name:"itemLabelGroup"})),this.datumSelection=Selection10.select(this.itemGroup,()=>this.nodeFactory()),this.labelSelection=Selection10.select(this.itemLabelGroup,Text4),this.highlightDatumSelection=Selection10.select(this.highlightGroup,()=>this.nodeFactory()),this.previousLabelLayouts=void 0,this._previousDatumMidPoint=void 0,this.itemLabelGroup.pointerEvents=PointerEvents7.None}getNodeData(){return this.contextNodeData?.nodeData}get topology(){return this.properties.topology??this._chartTopology}get hasData(){return super.hasData&&this.topology!=null}renderToOffscreenCanvas(){return!0}setChartTopology(e){this._chartTopology=e,this.topology===e&&(this.nodeDataRefresh=!0)}setZIndex(e){return super.setZIndex(e),this.contentGroup.zIndex=[1,e],this.highlightGroup.zIndex=[2,e],!0}isLabelEnabled(){return this.properties.labelKey!=null&&this.properties.label.enabled}nodeFactory(){const e=new GeoGeometry;return e.renderMode=1,e.lineJoin="round",e}async processData(e){if(this.data==null)return;const{data:t,topology:i,colorScale:a}=this,{topologyIdKey:o,idKey:s,colorKey:r,labelKey:n,colorRange:l}=this.properties,c=new Map;i?.features.forEach(g=>{const m=g.properties?.[o];m==null||!containsType(g.geometry,1)||c.set(m,g)});const h=this.colorScale.type,p=this.scale?.type,{dataModel:u,processedData:d}=await this.requestDataModel(e,t,{props:[valueProperty11(s,p,{id:"idValue",includeProperty:!1}),valueProperty11(s,p,{id:"featureValue",includeProperty:!1,processor:()=>g=>c.get(g)}),...n?[valueProperty11(n,"category",{id:"labelValue"})]:[],...r?[valueProperty11(r,h,{id:"colorValue"})]:[]]}),y=u.resolveColumnById(this,"featureValue",d);if(this.topologyBounds=y.reduce((g,m)=>{const f=m?.geometry;return f==null?g:geometryBbox(f,g)},void 0),l!=null&&this.isColorScaleValid()){const g=u.resolveProcessedDataIndexById(this,"colorValue");a.domain=d.domain.values[g],a.range=l,a.update()}i==null&&import_ag_charts_core37.Logger.warnOnce("no topology was provided for [MapShapeSeries]; nothing will be rendered.")}isColorScaleValid(){const{colorKey:e}=this.properties;if(!e)return!1;const{dataModel:t,processedData:i}=this;if(!t||!i)return!1;const a=t.resolveProcessedDataIndexById(this,"colorValue"),o=i.input.count,s=getMissCount4(this,i.defs.values[a].missing);return!(o===0||o===s)}getLabelLayout(e,t,i,a,o){if(t==null||a==null)return;const{idKey:s,idName:r,colorKey:n,colorName:l,labelKey:c,labelName:h,padding:p,label:u}=this.properties;if(c==null||!u.enabled)return;const d=this.getLabelText(t,e,c,"label",[],u,{value:t,datum:e,idKey:s,idName:r,colorKey:n,colorName:l,labelKey:c,labelName:h});if(d==null)return;const y=i.measureText(String(d)),g=d.split(`
`).length,m=(y.width+2*p)/(g*TextUtils4.getLineHeight(u.fontSize)+2*p);if(o?.geometry===a&&o?.labelText===d&&o?.aspectRatio===m)return o;const f=projectGeometry(a,fixedScale),b=largestPolygon(f);if(b==null)return;const x=preferredLabelCenter(b,{aspectRatio:m,precision:.001});if(x==null)return;const{x:S,y:D,maxWidth:_}=x;return{geometry:a,labelText:d,aspectRatio:m,x:S,y:D,maxWidth:_,fixedPolygon:b}}getLabelDatum(e,t){const{scale:i}=this;if(i==null)return;const{padding:a,label:o}=this.properties,{labelText:s,aspectRatio:r,x:n,y:l,maxWidth:c,fixedPolygon:h}=e,p={width:Math.ceil(c*t),height:Math.ceil(c*t/r),meta:n},u=formatSingleLabel(s,o,{padding:a},(S,D)=>{if(!D)return p;const _=maxWidthInPolygonForRectOfHeight(h,n,l,S/t);return{width:_.width*t,height:S,meta:_.x}});if(u==null)return;const[{text:d,fontSize:y,lineHeight:g,width:m},f]=u;if(d===TextUtils4.EllipsisChar)return;const b=m<p.width?n:f,x=this.scale.convert(fixedScale.invert([b,l]));return{x:x[0],y:x[1],text:d,fontSize:y,lineHeight:g}}createNodeData(){const{id:e,dataModel:t,processedData:i,properties:a,scale:o,previousLabelLayouts:s}=this,{idKey:r,colorKey:n,labelKey:l,label:c,legendItemName:h}=a;if(t==null||i==null)return;const p=o!=null?(o.range[1][0]-o.range[0][0])/o.bounds.width:NaN,u=t.resolveColumnById(this,"idValue",i),d=t.resolveColumnById(this,"featureValue",i),y=l!=null?t.resolveColumnById(this,"labelValue",i):void 0,g=n!=null?t.resolveColumnById(this,"colorValue",i):void 0,m=CachedTextMeasurerPool7.getMeasurer({font:c}),f=new Map;this.previousLabelLayouts=f;const b=[],x=[],S=[];(i.dataSources.get(this.id)??[]).forEach((k,v)=>{const A=u[v],I=g?.[v],M=y?.[v],L=d[v]?.geometry??void 0;L==null&&S.push(A);const R=this.getLabelLayout(k,M,m,L,s?.get(A));R!=null&&f.set(A,R);const C=R!=null&&o!=null?this.getLabelDatum(R,p):void 0;C!=null&&x.push(C);const N=L!=null&&o!=null?projectGeometry(L,o):void 0;b.push({series:this,itemId:r,datum:k,datumIndex:v,idValue:A,colorValue:I,labelValue:M,projectedGeometry:N,legendItemName:h})});const _=10;if(S.length>_){const k=S.length-_;S.length=_,S.push(`(+${k} more)`)}return S.length>0&&import_ag_charts_core37.Logger.warnOnce("some data items do not have matches in the provided topology",S),{itemId:e,nodeData:b,labelData:x}}updateSelections(){this.nodeDataRefresh&&(this.contextNodeData=this.createNodeData(),this.nodeDataRefresh=!1)}update(){const{datumSelection:e,labelSelection:t,highlightDatumSelection:i}=this;this.updateSelections(),this.contentGroup.visible=this.visible,this.labelGroup.visible=this.visible;let a=this.ctx.highlightManager?.getActiveHighlight();const{legendItemName:o}=this.properties,s=o!=null&&a?.datum==null&&o===a?.legendItemName;a!=null&&(a.series!==this&&!s||a.datum==null)&&(a=void 0);const r=this.contextNodeData?.nodeData??[],n=this.contextNodeData?.labelData??[];this.datumSelection=this.updateDatumSelection({nodeData:r,datumSelection:e}),this.updateDatumNodes({datumSelection:e,isHighlight:!1}),this.labelSelection=this.updateLabelSelection({labelData:n,labelSelection:t}),this.updateLabelNodes({labelSelection:t}),this.highlightDatumSelection=this.updateDatumSelection({nodeData:a!=null?[a]:[],datumSelection:i}),this.updateDatumNodes({datumSelection:i,isHighlight:!0})}updateDatumSelection(e){return e.datumSelection.update(e.nodeData,void 0,t=>createDatumId13(t.idValue))}getItemStyle({datumIndex:e,datum:t,colorValue:i},a){const{id:o,properties:s,colorScale:r}=this,{colorRange:n,itemStyler:l}=s,c=this.getHighlightStyle(a,e),h=mergeDefaults12(c,s.getStyle());!a&&i!=null&&(h.fill=this.isColorScaleValid()?r.convert(i):n?.[0]??h.fill);let p=getShapeStyle10(h,this.properties.fillGradientDefaults,this.properties.fillPatternDefaults,this.properties.fillImageDefaults);if(l!=null&&e!=null){const u=this.cachedDatumCallback(createDatumId13(e,a?"highlight":"node"),()=>{const d=this.ctx.highlightManager?.getActiveHighlight(),y=this.getHighlightStateString(d,a,e);return this.callWithContext(l,{seriesId:o,datum:t,highlighted:a,highlightState:y,...p})});u&&(p=getShapeStyle10(mergeDefaults12(u,p),this.properties.fillGradientDefaults,this.properties.fillPatternDefaults,this.properties.fillImageDefaults))}return p}updateDatumNodes(e){const{datumSelection:t,isHighlight:i}=e,a=getTopologyShapeFillBBox(this.scale);t.each((o,s)=>{const{projectedGeometry:r}=s;if(r==null){o.visible=!1,o.projectedGeometry=void 0;return}const n=this.getItemStyle(s,i);o.visible=!0,o.projectedGeometry=r,applyShapeStyle12(o,n,a)})}updateLabelSelection(e){const t=this.isLabelEnabled()?e.labelData:[];return e.labelSelection.update(t)}updateLabelNodes(e){e.labelSelection.each((t,{x:i,y:a,text:o,fontSize:s,lineHeight:r},n)=>{const l=getLabelStyles4(this,void 0,this.properties,this.properties.label),{color:c,fontStyle:h,fontWeight:p,fontFamily:u}=l;t.visible=!0,t.x=i,t.y=a,t.text=o,t.fill=c,t.fontStyle=h,t.fontWeight=p,t.fontSize=s,t.lineHeight=r,t.fontFamily=u,t.textAlign="center",t.textBaseline="middle",t.fillOpacity=this.getHighlightStyle(!1,n).opacity??1,t.setBoxing(l)})}resetAnimation(){}pickNodeClosestDatum({x:e,y:t}){let i=1/0,a;return this.datumSelection.each((o,s)=>{const r=o.distanceSquared(e,t);r<i&&(i=r,a=s)}),a!=null?{datum:a,distance:Math.sqrt(i)}:void 0}datumMidPoint(e){const{_previousDatumMidPoint:t}=this;if(t?.datum===e)return t.point;const i=e.projectedGeometry,a=i!=null?largestPolygon(i):void 0,o=a!=null?polygonMarkerCenter(a,2):void 0,s=o!=null?{x:o[0],y:o[1]}:void 0;return this._previousDatumMidPoint={datum:e,point:s},s}legendItemSymbol(e){const{dataModel:t,processedData:i,properties:a}=this,{fillOpacity:o,stroke:s,strokeWidth:r,strokeOpacity:n,lineDash:l,lineDashOffset:c}=a;let{fill:h}=a;if(e!=null&&this.isColorScaleValid()){const u=t.resolveColumnById(this,"colorValue",i)[e];h=this.colorScale.convert(u)}return{marker:getShapeStyle10({fill:h,fillOpacity:o,stroke:s,strokeWidth:r,strokeOpacity:n,lineDash:l,lineDashOffset:c},this.properties.fillGradientDefaults,this.properties.fillPatternDefaults,this.properties.fillImageDefaults)}}getLegendData(e){const{processedData:t,dataModel:i}=this;if(t==null||i==null)return[];const{id:a,visible:o}=this,{title:s,legendItemName:r,idKey:n,idName:l,colorKey:c,colorRange:h,showInLegend:p}=this.properties;if(e==="gradient"&&c!=null&&h!=null){const u=t.domain.values[i.resolveProcessedDataIndexById(this,"colorValue")];return[{legendType:"gradient",enabled:o,seriesId:a,series:this.getFormatterContext("color"),colorRange:h,colorDomain:u}]}else return e==="category"?[{legendType:"category",id:a,itemId:a,seriesId:a,enabled:o,label:{text:r??s??l??n},symbol:this.legendItemSymbol(),legendItemName:r,hideInLegend:!p}]:[]}getTooltipContent(e){const{id:t,dataModel:i,processedData:a,properties:o,ctx:{formatManager:s}}=this,{idKey:r,idName:n,colorKey:l,colorName:c,labelKey:h,labelName:p,legendItemName:u,title:d,tooltip:y}=o;if(!i||!a)return;const g=a.dataSources.get(this.id)?.[e],m=i.resolveColumnById(this,"idValue",a)[e],f=l!=null?i.resolveColumnById(this,"colorValue",a)[e]:void 0,b=[];if(this.isLabelEnabled()&&h!=null&&h!==r){const S=i.resolveColumnById(this,"labelValue",a)[e],D=s.format(this.callWithContext.bind(this),{type:"category",value:S,datum:g,seriesId:t,legendItemName:u,key:h,source:"tooltip",property:"label",domain:[],boundSeries:this.getFormatterContext("label")});b.push({label:p,fallbackLabel:h,value:D??S})}if(f!=null){const S=i.getDomain(this,"colorValue","value",a),D=s.format(this.callWithContext.bind(this),{type:"number",value:f,datum:g,seriesId:t,legendItemName:u,key:l,source:"tooltip",property:"color",domain:S,boundSeries:this.getFormatterContext("color"),fractionDigits:void 0});b.push({label:c,fallbackLabel:l,value:D??String(f)})}const x=this.getItemStyle({datum:g,datumIndex:e,colorValue:f},!1);return this.formatTooltipWithContext(y,{heading:m,title:d??u,symbol:this.legendItemSymbol(e),data:b},{seriesId:t,datum:g,title:d,idKey:r,idName:n,colorKey:l,colorName:c,labelKey:h,labelName:p,...x})}computeFocusBounds(e){return findFocusedGeoGeometry(this,e)}hasItemStylers(){return this.properties.itemStyler!=null}};MapShapeSeries.className="MapShapeSeries",MapShapeSeries.type="map-shape";var import_ag_charts_community107=require("ag-charts-community"),import_ag_charts_core38=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs13,mapShapeSeriesThemeableOptionsDef,without:without7}=import_ag_charts_community107._ModuleSupport,mapShapeSeriesOptionsDef={...without7(commonSeriesOptionsDefs13,["highlightStyle","highlight"]),...mapShapeSeriesThemeableOptionsDef,type:(0,import_ag_charts_core38.required)((0,import_ag_charts_core38.constant)("map-shape")),idKey:(0,import_ag_charts_core38.required)(import_ag_charts_core38.string),colorKey:import_ag_charts_core38.string,labelKey:import_ag_charts_core38.string,idName:import_ag_charts_core38.string,colorName:import_ag_charts_core38.string,labelName:import_ag_charts_core38.string,topology:import_ag_charts_core38.geoJson,topologyIdKey:import_ag_charts_core38.string,legendItemName:import_ag_charts_core38.string,title:import_ag_charts_core38.string},MapShapeModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["topology"],identifier:"map-shape",moduleFactory:e=>new MapShapeSeries(e),themeTemplate:{...MAP_THEME_DEFAULTS,series:{fill:{$mapPalette:"fill"},stroke:{$ref:"chartBackgroundColor"},colorRange:{$if:[{$eq:[{$mapPalette:"type"},"inbuilt"]},{$mapPalette:"divergingColors"},applyMapPalette(import_ag_charts_community108._ModuleSupport.SAFE_RANGE2_OPERATION)]},fillGradientDefaults:applyMapPalette(import_ag_charts_community108._ModuleSupport.FILL_GRADIENT_LINEAR_DEFAULTS),fillPatternDefaults:applyMapPalette(import_ag_charts_community108._ModuleSupport.FILL_PATTERN_DEFAULTS),fillImageDefaults:applyMapPalette(import_ag_charts_community108._ModuleSupport.FILL_IMAGE_DEFAULTS),fillOpacity:1,strokeWidth:1,lineDash:[0],lineDashOffset:0,padding:2,label:{...import_ag_charts_community108._ModuleSupport.LABEL_BOXING_DEFAULTS,color:{$ref:"chartBackgroundColor"},fontFamily:{$ref:"fontFamily"},fontSize:{$ref:"fontSize"},fontWeight:"bold",overflowStrategy:"hide"},highlight:applyMapPalette(import_ag_charts_community108._ModuleSupport.multiSeriesHighlightStyle(!0))},tooltip:{range:"exact"}}},MapShapeSeriesModule={type:"series",name:"map-shape",chartType:"topology",enterprise:!0,options:mapShapeSeriesOptionsDef,create:e=>new MapShapeSeries(e)},import_ag_charts_community112=require("ag-charts-community"),import_ag_charts_community110=require("ag-charts-community"),import_ag_charts_core39=require("ag-charts-core"),import_ag_charts_community109=require("ag-charts-community"),{FillGradientDefaults:FillGradientDefaults11,FillPatternDefaults:FillPatternDefaults11,FillImageDefaults:FillImageDefaults11,Property:Property29,SeriesProperties:SeriesProperties7,makeSeriesTooltip:makeSeriesTooltip16}=import_ag_charts_community109._ModuleSupport,MapShapeBackgroundSeriesProperties=class extends SeriesProperties7{constructor(){super(...arguments),this.topology=void 0,this.fill="black",this.fillGradientDefaults=new FillGradientDefaults11,this.fillPatternDefaults=new FillPatternDefaults11,this.fillImageDefaults=new FillImageDefaults11,this.fillOpacity=1,this.stroke="black",this.strokeOpacity=1,this.strokeWidth=0,this.lineDash=[0],this.lineDashOffset=0,this.tooltip=makeSeriesTooltip16()}};__decorateClass([Property29],MapShapeBackgroundSeriesProperties.prototype,"topology",2),__decorateClass([Property29],MapShapeBackgroundSeriesProperties.prototype,"fill",2),__decorateClass([Property29],MapShapeBackgroundSeriesProperties.prototype,"fillGradientDefaults",2),__decorateClass([Property29],MapShapeBackgroundSeriesProperties.prototype,"fillPatternDefaults",2),__decorateClass([Property29],MapShapeBackgroundSeriesProperties.prototype,"fillImageDefaults",2),__decorateClass([Property29],MapShapeBackgroundSeriesProperties.prototype,"fillOpacity",2),__decorateClass([Property29],MapShapeBackgroundSeriesProperties.prototype,"stroke",2),__decorateClass([Property29],MapShapeBackgroundSeriesProperties.prototype,"strokeOpacity",2),__decorateClass([Property29],MapShapeBackgroundSeriesProperties.prototype,"strokeWidth",2),__decorateClass([Property29],MapShapeBackgroundSeriesProperties.prototype,"lineDash",2),__decorateClass([Property29],MapShapeBackgroundSeriesProperties.prototype,"lineDashOffset",2),__decorateClass([Property29],MapShapeBackgroundSeriesProperties.prototype,"tooltip",2);var{createDatumId:createDatumId14,Selection:Selection11,Group:Group11,PointerEvents:PointerEvents8,getShapeStyle:getShapeStyle11}=import_ag_charts_community110._ModuleSupport,MapShapeBackgroundSeries=class extends TopologySeries{constructor(e){super({moduleCtx:e,categoryKey:void 0,pickModes:[]}),this.properties=new MapShapeBackgroundSeriesProperties,this._chartTopology=void 0,this.itemGroup=this.contentGroup.appendChild(new Group11({name:"itemGroup"})),this.datumSelection=Selection11.select(this.itemGroup,()=>this.nodeFactory()),this.itemGroup.pointerEvents=PointerEvents8.None}get topology(){return this.properties.topology??this._chartTopology}get focusable(){return!1}setOptionsData(){}setChartData(){}getNodeData(){}get hasData(){return!1}renderToOffscreenCanvas(){return!0}setChartTopology(e){this._chartTopology=e,this.topology===e&&(this.nodeDataRefresh=!0)}setZIndex(e){return super.setZIndex(e),this.contentGroup.zIndex=[0,e,0],this.highlightGroup.zIndex=[0,e,1],!0}nodeFactory(){const e=new GeoGeometry;return e.renderMode=1,e.lineJoin="round",e.pointerEvents=PointerEvents8.None,e}processData(){const{topology:e}=this;this.topologyBounds=e?.features.reduce((t,i)=>{const a=i.geometry;return a==null?t:geometryBbox(a,t)},void 0),e==null&&import_ag_charts_core39.Logger.warnOnce("no topology was provided for [MapShapeBackgroundSeries]; nothing will be rendered.")}createNodeData(){const{id:e,topology:t,scale:i}=this;if(t==null)return;const a=[],o=[];return t.features.forEach((s,r)=>{const{geometry:n}=s,l=n!=null&&i!=null?projectGeometry(n,i):void 0;l!=null&&a.push({series:this,itemId:r,datum:s,datumIndex:0,index:r,projectedGeometry:l})}),{itemId:e,nodeData:a,labelData:o}}updateSelections(){this.nodeDataRefresh&&(this.contextNodeData=this.createNodeData(),this.nodeDataRefresh=!1)}update(){const{datumSelection:e}=this;this.updateSelections(),this.contentGroup.visible=this.visible,this.labelGroup.visible=this.visible;const{nodeData:t=[]}=this.contextNodeData??{};this.datumSelection=this.updateDatumSelection({nodeData:t,datumSelection:e}),this.updateDatumNodes({datumSelection:e})}updateDatumSelection(e){return e.datumSelection.update(e.nodeData,void 0,t=>createDatumId14(t.index))}updateDatumNodes(e){const{properties:t}=this,{datumSelection:i}=e,{fill:a,fillOpacity:o,stroke:s,strokeOpacity:r,lineDash:n,lineDashOffset:l}=t,c=t.strokeWidth;i.each((h,p)=>{const{projectedGeometry:u}=p;if(u==null){h.visible=!1,h.projectedGeometry=void 0;return}h.visible=!0,h.projectedGeometry=u;const d=getShapeStyle11({fill:a,fillOpacity:o,stroke:s,strokeWidth:c,strokeOpacity:r,lineDash:n,lineDashOffset:l},this.properties.fillGradientDefaults,this.properties.fillPatternDefaults,this.properties.fillImageDefaults);h.setProperties(d)})}resetAnimation(){}getLegendData(){return[]}getTooltipContent(e){}pickFocus(){}computeFocusBounds(e){}hasItemStylers(){return!1}};MapShapeBackgroundSeries.className="MapShapeBackgroundSeries",MapShapeBackgroundSeries.type="map-shape-background";var import_ag_charts_community111=require("ag-charts-community"),import_ag_charts_core40=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs14,mapShapeBackgroundSeriesThemeableOptionsDef}=import_ag_charts_community111._ModuleSupport,mapShapeBackgroundSeriesOptionsDef={...mapShapeBackgroundSeriesThemeableOptionsDef,...commonSeriesOptionsDefs14,type:(0,import_ag_charts_core40.required)((0,import_ag_charts_core40.constant)("map-shape-background")),topology:import_ag_charts_core40.geoJson},MapShapeBackgroundModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["topology"],identifier:"map-shape-background",moduleFactory:e=>new MapShapeBackgroundSeries(e),themeTemplate:{...MAP_THEME_DEFAULTS,series:{fill:{$path:["/1",{$mapPalette:"fill"},{$mapPalette:"hierarchyColors"}]},stroke:{$ref:"chartBackgroundColor"},strokeWidth:1,fillGradientDefaults:applyMapPalette(import_ag_charts_community112._ModuleSupport.FILL_GRADIENT_LINEAR_HIERARCHY_DEFAULTS),fillPatternDefaults:applyMapPalette(import_ag_charts_community112._ModuleSupport.FILL_PATTERN_HIERARCHY_DEFAULTS),fillImageDefaults:applyMapPalette(import_ag_charts_community112._ModuleSupport.FILL_IMAGE_DEFAULTS)}}},MapShapeBackgroundSeriesModule={type:"series",name:"map-shape-background",chartType:"topology",enterprise:!0,options:mapShapeBackgroundSeriesOptionsDef,create:e=>new MapShapeBackgroundSeries(e)},import_ag_charts_community120=require("ag-charts-community"),import_ag_charts_community117=require("ag-charts-community"),import_ag_charts_community113=require("ag-charts-community"),import_ag_charts_core41=require("ag-charts-core"),{DEFAULT_POLAR_DIRECTION_KEYS,DEFAULT_POLAR_DIRECTION_NAMES,ChartAxisDirection:ChartAxisDirection15,PolarAxis,diff:diff6,fixNumericExtent:fixNumericExtent7,groupAccumulativeValueProperty,keyProperty:keyProperty8,normaliseGroupTo,resetLabelFn:resetLabelFn5,seriesLabelFadeInAnimation:seriesLabelFadeInAnimation5,seriesLabelFadeOutAnimation,valueProperty:valueProperty12,animationValidation:animationValidation7,createDatumId:createDatumId15,SeriesNodePickMode:SeriesNodePickMode12,normalizeAngle360:normalizeAngle3605,CategoryScale:CategoryScale3,motion:motion6,applyShapeStyle:applyShapeStyle13,isGradientFill:isGradientFill2,getShapeStyle:getShapeStyle12,updateLabelNode:updateLabelNode6,mergeDefaults:mergeDefaults13}=import_ag_charts_community113._ModuleSupport,RadialColumnSeriesNodeEvent=class extends import_ag_charts_community113._ModuleSupport.SeriesNodeEvent{constructor(e,t,i,a){super(e,t,i,a),this.angleKey=a.properties.angleKey,this.radiusKey=a.properties.radiusKey}},RadialColumnSeriesBase=class extends import_ag_charts_community113._ModuleSupport.PolarSeries{constructor(e,{animationResetFns:t}){super({moduleCtx:e,categoryKey:"angleValue",propertyKeys:DEFAULT_POLAR_DIRECTION_KEYS,propertyNames:DEFAULT_POLAR_DIRECTION_NAMES,canHaveAxes:!0,pickModes:[SeriesNodePickMode12.NEAREST_NODE,SeriesNodePickMode12.EXACT_SHAPE_MATCH],animationResetFns:{...t,label:resetLabelFn5}}),this.NodeEvent=RadialColumnSeriesNodeEvent,this.groupScale=new CategoryScale3,this.circleCache={r:0,cx:0,cy:0}}getSeriesDomain(e){const{dataModel:t,processedData:i}=this;if(!i||!t)return[];if(e===ChartAxisDirection15.Angle)return t.getDomain(this,"angleValue","key",i);{const a=t.getDomain(this,"radiusValue-end","value",i),o=Number.isFinite(a[1]-a[0])?[a[0]>0?0:a[0],a[1]<0?0:a[1]]:[];return fixNumericExtent7(o)}}async processData(e){const{angleKey:t,radiusKey:i,normalizedTo:a}=this.properties,o=!this.ctx.animationManager.isSkipped(),s=this.getStackId(),r=`${s}-trailing`,n=[];(0,import_ag_charts_core41.isDefined)(a)&&n.push(normaliseGroupTo([s,r],Math.abs(a))),o&&this.processedData&&n.push(diff6(this.id,this.processedData)),o&&n.push(animationValidation7());const l=this.visible?{}:{forceValue:0},c=this.axes[ChartAxisDirection15.Radius]?.scale.type,h=this.axes[ChartAxisDirection15.Angle]?.scale.type;await this.requestDataModel(e,this.data,{props:[keyProperty8(t,h,{id:"angleValue"}),valueProperty12(i,c,{id:"radiusValue-raw",invalidValue:null,...l}),...groupAccumulativeValueProperty(i,"normal","current",{id:"radiusValue-end",rangeId:"radiusValue-range",invalidValue:null,groupId:s,separateNegative:!0,...l},c),...groupAccumulativeValueProperty(i,"trailing","current",{id:"radiusValue-start",invalidValue:null,groupId:r,separateNegative:!0,...l},c),...n],groupByKeys:!0,groupByData:!1}),this.animationState.transition("updateData")}didCircleChange(){const e=this.radius,t=this.centerX,i=this.centerY,a=this.circleCache;return e!==a.r||t!==a.cx||i!==a.cy?(this.circleCache={r:e,cx:t,cy:i},!0):!1}isRadiusAxisReversed(){return this.axes[ChartAxisDirection15.Radius]?.isReversed()}maybeRefreshNodeData(){if(!this.didCircleChange()&&!this.nodeDataRefresh)return;const{nodeData:t=[]}=this.createNodeData()??{};this.nodeData=t,this.nodeDataRefresh=!1}getAxisInnerRadius(){const e=this.axes[ChartAxisDirection15.Radius];return e instanceof PolarAxis?this.radius*e.innerRadiusRatio:0}createNodeData(){const{processedData:e,dataModel:t,groupScale:i}=this;if(!t||!e||e.type!=="grouped")return;const a=this.axes[ChartAxisDirection15.Angle],o=this.axes[ChartAxisDirection15.Radius],s=a?.scale,r=o?.scale;if(!s||!r)return;const n=t.resolveKeysById(this,"angleValue",e),l=t.resolveColumnById(this,"radiusValue-start",e),c=t.resolveColumnById(this,"radiusValue-end",e),h=t.resolveColumnById(this,"radiusValue-raw",e),p=t.resolveProcessedDataIndexById(this,"radiusValue-range");let u=0,d=0;a instanceof AngleCategoryAxis&&(u=a.groupPaddingInner,d=a.paddingInner);const g=(s.bandwidth??0)*(1-d),{index:m,visibleGroupCount:f}=this.ctx.seriesStateManager.getVisiblePeerGroupIndex(this);i.domain=Array.from({length:f}).map((T,w)=>String(w)),i.range=[-g/2,g/2],i.paddingInner=f>1?u:0;const b=this.isRadiusAxisReversed(),x=b?this.radius:this.getAxisInnerRadius(),S=b?this.getAxisInnerRadius():this.radius,D=S+x,{angleKey:_,radiusKey:k,angleName:v,radiusName:A,label:I}=this.properties,M=this.getSeriesDomain(ChartAxisDirection15.Radius),L=(T,w,E,O)=>{const F=this.getLabelText(w,T,k,"radius",M,I,{value:w,datum:T,angleKey:_,radiusKey:k,angleName:v,radiusName:A});if(F)return{x:E,y:O,text:F,textAlign:"center",textBaseline:"middle"}},R=[],C={itemId:k,nodeData:R,labelData:R};if(!this.visible)return C;const{dataSources:N}=e,P=N.get(this.id)??[];for(const{datumIndex:T,group:w}of t.forEachGroupDatum(this,e)){const E=P[T],O=n[T];if(O==null)return;const F=h[T],B=F>=0&&!Object.is(F,-0),G=l[T],V=c[T],K=w.aggregation[p][B?1:0]??0,W=B===b;if(G===void 0||V===void 0)return;let z,H;if(P.length===1)z=-.5*Math.PI,H=1.5*Math.PI;else{const te=s.convert(O);z=normalizeAngle3605(te+i.convert(String(m))),H=normalizeAngle3605(z+i.bandwidth)}const Y=z+i.bandwidth/2,j=D-r.convert(G),$=D-r.convert(V),q=(j+$)/2,J=D-r.convert(0),ee=D-r.convert(K),U=Math.cos(Y)*q,X=Math.sin(Y)*q,ie=this.properties.label.enabled?L(E,F,U,X):void 0,Z=this.getColumnWidth(z,H);R.push({series:this,datum:E,datumIndex:T,point:{x:U,y:X,size:0},midPoint:{x:U,y:X},label:ie,angleValue:O,radiusValue:F,negative:W,innerRadius:j,outerRadius:$,stackInnerRadius:J,stackOuterRadius:ee,startAngle:z,endAngle:H,midAngle:Y,axisInnerRadius:x,axisOuterRadius:S,columnWidth:Z,index:T})}return{itemId:k,nodeData:R,labelData:R}}getColumnWidth(e,t){return NaN}update({seriesRect:e}){const t=this.checkResize(e);this.maybeRefreshNodeData(),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),this.updateSectorSelection(this.itemSelection,!1),this.updateSectorSelection(this.highlightSelection,!0),this.updateLabels(),t&&this.animationState.transition("resize"),this.animationState.transition("update")}getItemStyle(e,t){const{id:i,properties:a}=this,{angleKey:o,radiusKey:s,itemStyler:r,fillGradientDefaults:n,fillPatternDefaults:l,fillImageDefaults:c}=a,h=this.getHighlightStyle(t,e.datumIndex),p=mergeDefaults13(h,a.getStyle());let u=getShapeStyle12(p,n,l,c);if(r!=null&&e!=null){const d=this.cachedDatumCallback(createDatumId15(this.getDatumId(e),t?"highlight":"node"),()=>{const y=this.ctx.highlightManager?.getActiveHighlight(),g=this.getHighlightStateString(y,t,e.datumIndex);return this.callWithContext(r,{seriesId:i,datum:e.datum,highlighted:t,highlightState:g,angleKey:o,radiusKey:s,...u})});d&&(u=getShapeStyle12(mergeDefaults13(d,u),n,l,c))}return u}updateSectorSelection(e,t){let i=[];if(t){const n=this.ctx.highlightManager?.getActiveHighlight();n?.datum&&n.series===this&&i.push(n)}else i=this.nodeData;const a=this.isRadiusAxisReversed(),o=a?this.radius:this.getAxisInnerRadius(),s=a?this.getAxisInnerRadius():this.radius,r=this.getShapeFillBBox();e.update(i,void 0,n=>this.getDatumId(n)).each((n,l)=>{const{midPoint:c}=l,h=this.getItemStyle(l,t),p=h.fill,d=isGradientFill2(p)&&p.bounds==="item"?{centerX:c?.x??0,centerY:c?.y??0}:{centerX:0,centerY:0,innerRadius:o,outerRadius:s};this.updateItemPath(n,l,t),applyShapeStyle13(n,h,r,d),n.cornerRadius=h.cornerRadius,n.lineJoin="round"})}updateLabels(){const e=this.ctx.highlightManager?.getActiveHighlight();this.labelSelection.update(this.nodeData).each((t,i)=>{const a=this.getHighlightStateString(e,!1,i.datumIndex);updateLabelNode6(this,t,this.properties,this.properties.label,i.label,!1,a),t.fillOpacity=this.getHighlightStyle(!1,i.datumIndex).opacity??1})}animateEmptyUpdateReady(){const{labelSelection:e}=this,t=this.getColumnTransitionFunctions();motion6.fromToMotion(this.id,"datums",this.ctx.animationManager,[this.itemSelection],t),seriesLabelFadeInAnimation5(this,"labels",this.ctx.animationManager,e)}animateClearingUpdateEmpty(){const{itemSelection:e}=this,{animationManager:t}=this.ctx,i=this.getColumnTransitionFunctions();motion6.fromToMotion(this.id,"datums",t,[e],i),seriesLabelFadeOutAnimation(this,"labels",t,this.labelSelection)}getTooltipContent(e){const{id:t,dataModel:i,processedData:a,axes:o,properties:s}=this,{angleKey:r,angleName:n,radiusKey:l,radiusName:c,tooltip:h}=s,p=o[ChartAxisDirection15.Angle],u=o[ChartAxisDirection15.Radius],d=this.nodeData?.[e];if(!i||!a||!p||!u||!d)return;const y=a.dataSources.get(this.id)?.[e],g=i.resolveKeysById(this,"angleValue",a)[e],m=i.resolveColumnById(this,"radiusValue-raw",a)[e];if(g==null)return;const f=this.getItemStyle(d,!1);return this.formatTooltipWithContext(h,{heading:this.getAxisValueText(p,"tooltip",g,y,r,void 0),symbol:this.legendItemSymbol(),data:[{label:c,fallbackLabel:l,value:this.getAxisValueText(u,"tooltip",m,y,l,void 0)}]},{seriesId:t,datum:y,title:n,angleKey:r,angleName:n,radiusKey:l,radiusName:c,...f})}pickNodeClosestDatum(e){return this.pickNodeNearestDistantObject(e,this.itemSelection.nodes())}legendItemSymbol(){const{fill:e,stroke:t,fillOpacity:i,strokeOpacity:a,strokeWidth:o,lineDash:s,lineDashOffset:r,fillGradientDefaults:n,fillPatternDefaults:l,fillImageDefaults:c}=this.properties,h=getShapeStyle12({fill:e??"rgba(0, 0, 0, 0)",stroke:t??"rgba(0, 0, 0, 0)",fillOpacity:i,strokeOpacity:a,strokeWidth:o,lineDash:s,lineDashOffset:r},n,l,c);return import_ag_charts_community113._ModuleSupport.isGradientFill(h.fill)&&(h.fill={...h.fill,gradient:"linear",rotation:0,reverse:!1}),{marker:h}}getLegendData(e){if(e!=="category")return[];const{id:t,visible:i}=this,{radiusKey:a,radiusName:o,showInLegend:s}=this.properties;return[{legendType:"category",id:t,itemId:a,seriesId:t,enabled:i,label:{text:o??a},symbol:this.legendItemSymbol(),hideInLegend:!s}]}getDatumId(e){return createDatumId15(e.angleValue)}computeLabelsBBox(){return null}},import_ag_charts_community114=require("ag-charts-community"),{SeriesProperties:SeriesProperties8,FillGradientDefaults:FillGradientDefaults12,FillPatternDefaults:FillPatternDefaults12,FillImageDefaults:FillImageDefaults12,makeSeriesTooltip:makeSeriesTooltip17,Property:Property30,Label:Label10}=import_ag_charts_community114._ModuleSupport,RadialColumnSeriesBaseProperties=class extends SeriesProperties8{constructor(){super(...arguments),this.fill="black",this.fillGradientDefaults=new FillGradientDefaults12,this.fillPatternDefaults=new FillPatternDefaults12,this.fillImageDefaults=new FillImageDefaults12,this.fillOpacity=1,this.stroke="black",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.rotation=0,this.label=new Label10,this.tooltip=makeSeriesTooltip17()}getStyle(){const{fill:e,fillOpacity:t,stroke:i,strokeWidth:a,strokeOpacity:o,lineDash:s,lineDashOffset:r,cornerRadius:n}=this;return{fill:e,fillOpacity:t,stroke:i,strokeWidth:a,strokeOpacity:o,lineDash:s,lineDashOffset:r,cornerRadius:n,opacity:1}}};__decorateClass([Property30],RadialColumnSeriesBaseProperties.prototype,"angleKey",2),__decorateClass([Property30],RadialColumnSeriesBaseProperties.prototype,"angleName",2),__decorateClass([Property30],RadialColumnSeriesBaseProperties.prototype,"radiusKey",2),__decorateClass([Property30],RadialColumnSeriesBaseProperties.prototype,"radiusName",2),__decorateClass([Property30],RadialColumnSeriesBaseProperties.prototype,"fill",2),__decorateClass([Property30],RadialColumnSeriesBaseProperties.prototype,"fillGradientDefaults",2),__decorateClass([Property30],RadialColumnSeriesBaseProperties.prototype,"fillPatternDefaults",2),__decorateClass([Property30],RadialColumnSeriesBaseProperties.prototype,"fillImageDefaults",2),__decorateClass([Property30],RadialColumnSeriesBaseProperties.prototype,"fillOpacity",2),__decorateClass([Property30],RadialColumnSeriesBaseProperties.prototype,"stroke",2),__decorateClass([Property30],RadialColumnSeriesBaseProperties.prototype,"strokeWidth",2),__decorateClass([Property30],RadialColumnSeriesBaseProperties.prototype,"strokeOpacity",2),__decorateClass([Property30],RadialColumnSeriesBaseProperties.prototype,"lineDash",2),__decorateClass([Property30],RadialColumnSeriesBaseProperties.prototype,"lineDashOffset",2),__decorateClass([Property30],RadialColumnSeriesBaseProperties.prototype,"cornerRadius",2),__decorateClass([Property30],RadialColumnSeriesBaseProperties.prototype,"itemStyler",2),__decorateClass([Property30],RadialColumnSeriesBaseProperties.prototype,"rotation",2),__decorateClass([Property30],RadialColumnSeriesBaseProperties.prototype,"stackGroup",2),__decorateClass([Property30],RadialColumnSeriesBaseProperties.prototype,"normalizedTo",2),__decorateClass([Property30],RadialColumnSeriesBaseProperties.prototype,"label",2),__decorateClass([Property30],RadialColumnSeriesBaseProperties.prototype,"tooltip",2);var import_ag_charts_community116=require("ag-charts-community"),import_ag_charts_community115=require("ag-charts-community"),{motion:motion7}=import_ag_charts_community115._ModuleSupport;function createAngleMotionCalculator(){const e={startAngle:new Map,endAngle:new Map},t=["startAngle","endAngle"],i=(r,n,l)=>{t.forEach(c=>{const h=e[c];let p=(l==="removed"||l==="updated"?r:n)[c],u=(l==="removed"?r:n)[c];isNaN(u)&&(u=r.previousDatum?.[c]??NaN);const d=p-u;Math.abs(d)>Math.PI&&(p-=Math.sign(d)*2*Math.PI),h.set(n,{from:p,to:u})})},a=(r,n)=>({startAngle:e.startAngle.get(r)[n],endAngle:e.endAngle.get(r)[n]});return{calculate:i,from:r=>a(r,"from"),to:r=>a(r,"to")}}function fixRadialColumnAnimationStatus(e,t,i){if(i==="updated"){if(e.previousDatum==null||isNaN(e.previousDatum.startAngle)||isNaN(e.previousDatum.endAngle))return"added";if(isNaN(t.startAngle)||isNaN(t.endAngle))return"removed"}return i==="added"&&e.previousDatum!=null?"updated":i}function prepareRadialColumnAnimationFunctions(e){const t=createAngleMotionCalculator();return{toFn:(o,s,r)=>{const{startAngle:n,endAngle:l}=t.to(s);let c,h,p,u,d;return r==="removed"?(c=o.innerRadius,h=o.innerRadius,p=o.columnWidth,u=o.axisInnerRadius,d=o.axisOuterRadius):(c=isNaN(s.innerRadius)?e:s.innerRadius,h=isNaN(s.outerRadius)?e:s.outerRadius,p=isNaN(s.columnWidth)?o.columnWidth:s.columnWidth,u=s.axisInnerRadius,d=s.axisOuterRadius),{innerRadius:c,outerRadius:h,columnWidth:p,axisInnerRadius:u,axisOuterRadius:d,startAngle:n,endAngle:l}},fromFn:(o,s,r)=>{r=fixRadialColumnAnimationStatus(o,s,r),t.calculate(o,s,r);const{startAngle:n,endAngle:l}=t.from(s);let c,h,p,u,d;r==="removed"||r==="updated"?(c=o.innerRadius,h=o.outerRadius,p=o.columnWidth,u=o.axisInnerRadius,d=o.axisOuterRadius):(c=e,h=e,p=s.columnWidth,u=s.axisInnerRadius,d=s.axisOuterRadius);const y=motion7.NODE_UPDATE_STATE_TO_PHASE_MAPPING[r];return{innerRadius:c,outerRadius:h,columnWidth:p,axisInnerRadius:u,axisOuterRadius:d,startAngle:n,endAngle:l,phase:y}}}}function resetRadialColumnSelectionFn(e,{innerRadius:t,outerRadius:i,columnWidth:a,axisInnerRadius:o,axisOuterRadius:s,startAngle:r,endAngle:n}){return{innerRadius:t,outerRadius:i,columnWidth:a,axisInnerRadius:o,axisOuterRadius:s,startAngle:r,endAngle:n}}var{SectorBox,motion:motion8}=import_ag_charts_community116._ModuleSupport;function getRadii(e){const{negative:t,innerRadius:i,outerRadius:a,stackInnerRadius:o,stackOuterRadius:s}=e;return{innerRadius:t?s:o,outerRadius:t?o:s,clipInnerRadius:t?a:i,clipOuterRadius:t?i:a}}function prepareNightingaleAnimationFunctions(e){const t=createAngleMotionCalculator();return{toFn:(o,s,r)=>{const{startAngle:n,endAngle:l}=t.to(s);let c,h,p;if(r==="removed")c=e,h=e,p=new SectorBox(n,l,c,h);else{let u,d;({innerRadius:c,outerRadius:h,clipInnerRadius:u,clipOuterRadius:d}=getRadii(s)),isNaN(c)&&(c=e),isNaN(h)&&(h=e),isNaN(u)&&(u=e),isNaN(d)&&(d=e),p=new SectorBox(n,l,u,d)}return{innerRadius:c,outerRadius:h,startAngle:n,endAngle:l,clipSector:p}},fromFn:(o,s,r)=>{r=fixRadialColumnAnimationStatus(o,s,r),t.calculate(o,s,r);const{startAngle:n,endAngle:l}=t.from(s);let c,h,p;r==="removed"||r==="updated"?(c=o.innerRadius,h=o.outerRadius,p=o.clipSector):(c=e,h=e),p??(p=new SectorBox(n,l,c,h));const u=motion8.NODE_UPDATE_STATE_TO_PHASE_MAPPING[r];return{innerRadius:c,outerRadius:h,startAngle:n,endAngle:l,clipSector:p,phase:u}}}}function resetNightingaleSelectionFn(e,t){const{startAngle:i,endAngle:a}=t,{innerRadius:o,outerRadius:s,clipInnerRadius:r,clipOuterRadius:n}=getRadii(t),l=new SectorBox(i,a,r,n);return{innerRadius:o,outerRadius:s,startAngle:i,endAngle:a,clipSector:l}}var{Sector:Sector4,SectorBox:SectorBox2,PolarZIndexMap}=import_ag_charts_community117._ModuleSupport,NightingaleSeries=class extends RadialColumnSeriesBase{constructor(e){super(e,{animationResetFns:{item:resetNightingaleSelectionFn}}),this.properties=new RadialColumnSeriesBaseProperties}setZIndex(e){return super.setZIndex(e),this.contentGroup.zIndex=[0,PolarZIndexMap.FOREGROUND,e],this.highlightGroup.zIndex=[0,PolarZIndexMap.HIGHLIGHT,e],this.labelGroup.zIndex=[0,PolarZIndexMap.LABEL,e],!0}getStackId(){return`nightingale-stack-${this.seriesGrouping?.groupIndex??this.id}-yValues`}nodeFactory(){return new Sector4}updateItemPath(e,t,i){const{negative:a}=t;if(e.centerX=0,e.centerY=0,e.startOuterCornerRadius=a?0:this.properties.cornerRadius,e.endOuterCornerRadius=a?0:this.properties.cornerRadius,e.startInnerCornerRadius=a?this.properties.cornerRadius:0,e.endInnerCornerRadius=a?this.properties.cornerRadius:0,i){const{startAngle:o,endAngle:s}=t,{innerRadius:r,outerRadius:n,clipInnerRadius:l,clipOuterRadius:c}=getRadii(t);e.innerRadius=r,e.outerRadius=n,e.startAngle=o,e.endAngle=s,e.clipSector=new SectorBox2(o,s,l,c)}}getColumnTransitionFunctions(){const e=this.isRadiusAxisReversed()?this.radius:this.getAxisInnerRadius();return prepareNightingaleAnimationFunctions(e)}hasItemStylers(){return this.properties.itemStyler!=null}};NightingaleSeries.className="NightingaleSeries",NightingaleSeries.type="nightingale";var import_ag_charts_community118=require("ag-charts-community"),import_ag_charts_core42=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs15,nightingaleSeriesThemeableOptionsDef}=import_ag_charts_community118._ModuleSupport,nightingaleSeriesOptionsDef={...commonSeriesOptionsDefs15,...nightingaleSeriesThemeableOptionsDef,type:(0,import_ag_charts_core42.required)((0,import_ag_charts_core42.constant)("nightingale")),angleKey:(0,import_ag_charts_core42.required)(import_ag_charts_core42.string),radiusKey:(0,import_ag_charts_core42.required)(import_ag_charts_core42.string),angleName:import_ag_charts_core42.string,radiusName:import_ag_charts_core42.string,grouped:import_ag_charts_core42.boolean,stacked:import_ag_charts_core42.boolean,stackGroup:import_ag_charts_core42.string,normalizedTo:import_ag_charts_core42.number},import_ag_charts_community119=require("ag-charts-community"),{ThemeConstants:{POLAR_AXIS_TYPE,POLAR_AXIS_SHAPE}}=import_ag_charts_community119._ModuleSupport,NIGHTINGALE_SERIES_THEME={series:{fill:{$palette:"fill"},stroke:{$if:[{$eq:[{$palette:"type"},"inbuilt"]},{$ref:"chartBackgroundColor"},{$palette:"stroke"}]},fillGradientDefaults:import_ag_charts_community119._ModuleSupport.FILL_GRADIENT_RADIAL_SERIES_DEFAULTS,fillPatternDefaults:import_ag_charts_community119._ModuleSupport.FILL_PATTERN_DEFAULTS,fillImageDefaults:import_ag_charts_community119._ModuleSupport.FILL_IMAGE_DEFAULTS,strokeWidth:1,label:{...import_ag_charts_community119._ModuleSupport.LABEL_BOXING_DEFAULTS,enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}},highlight:import_ag_charts_community119._ModuleSupport.multiSeriesHighlightStyle()},axes:{[POLAR_AXIS_TYPE.ANGLE_CATEGORY]:{shape:{$findFirstSiblingNotOperation:POLAR_AXIS_SHAPE.CIRCLE},groupPaddingInner:0,paddingInner:0,label:{spacing:10}},[POLAR_AXIS_TYPE.RADIUS_NUMBER]:{shape:{$findFirstSiblingNotOperation:POLAR_AXIS_SHAPE.CIRCLE}}}},{ThemeConstants:{POLAR_AXIS_TYPE:POLAR_AXIS_TYPE2}}=import_ag_charts_community120._ModuleSupport,NightingaleModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["polar"],identifier:"nightingale",moduleFactory:e=>new NightingaleSeries(e),defaultAxes:[{type:POLAR_AXIS_TYPE2.ANGLE_CATEGORY},{type:POLAR_AXIS_TYPE2.RADIUS_NUMBER}],themeTemplate:NIGHTINGALE_SERIES_THEME,stackable:!0,groupable:!0,stackedByDefault:!0},NightingaleSeriesModule={type:"series",name:"nightingale",chartType:"polar",enterprise:!0,options:nightingaleSeriesOptionsDef,create:e=>new NightingaleSeries(e)},import_ag_charts_community122=require("ag-charts-community"),import_ag_charts_community121=require("ag-charts-community"),{SeriesProperties:SeriesProperties9,FillGradientDefaults:FillGradientDefaults13,FillPatternDefaults:FillPatternDefaults13,FillImageDefaults:FillImageDefaults13,makeSeriesTooltip:makeSeriesTooltip18,Property:Property31,Label:Label11,DropShadow:DropShadow5}=import_ag_charts_community121._ModuleSupport,PyramidSeriesLabel=class extends Label11{},PyramidSeriesStageLabel=class extends Label11{constructor(){super(...arguments),this.spacing=0}};__decorateClass([Property31],PyramidSeriesStageLabel.prototype,"spacing",2),__decorateClass([Property31],PyramidSeriesStageLabel.prototype,"placement",2);var PyramidProperties=class extends SeriesProperties9{constructor(){super(...arguments),this.fills=[],this.fillGradientDefaults=new FillGradientDefaults13,this.fillPatternDefaults=new FillPatternDefaults13,this.fillImageDefaults=new FillImageDefaults13,this.fillOpacity=1,this.strokes=[],this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.direction="vertical",this.reverse=void 0,this.spacing=0,this.aspectRatio=void 0,this.shadow=new DropShadow5().set({enabled:!1}),this.label=new PyramidSeriesLabel,this.stageLabel=new PyramidSeriesStageLabel,this.tooltip=makeSeriesTooltip18()}getStyle(e=0){const{fills:t,strokes:i,fillOpacity:a,strokeWidth:o,strokeOpacity:s,lineDash:r,lineDashOffset:n}=this;return{fill:t[e%t.length],fillOpacity:a,stroke:i[e%i.length],strokeWidth:o,strokeOpacity:s,lineDash:r,lineDashOffset:n,opacity:1}}};__decorateClass([Property31],PyramidProperties.prototype,"stageKey",2),__decorateClass([Property31],PyramidProperties.prototype,"valueKey",2),__decorateClass([Property31],PyramidProperties.prototype,"fills",2),__decorateClass([Property31],PyramidProperties.prototype,"fillGradientDefaults",2),__decorateClass([Property31],PyramidProperties.prototype,"fillPatternDefaults",2),__decorateClass([Property31],PyramidProperties.prototype,"fillImageDefaults",2),__decorateClass([Property31],PyramidProperties.prototype,"fillOpacity",2),__decorateClass([Property31],PyramidProperties.prototype,"strokes",2),__decorateClass([Property31],PyramidProperties.prototype,"strokeWidth",2),__decorateClass([Property31],PyramidProperties.prototype,"strokeOpacity",2),__decorateClass([Property31],PyramidProperties.prototype,"lineDash",2),__decorateClass([Property31],PyramidProperties.prototype,"lineDashOffset",2),__decorateClass([Property31],PyramidProperties.prototype,"direction",2),__decorateClass([Property31],PyramidProperties.prototype,"reverse",2),__decorateClass([Property31],PyramidProperties.prototype,"spacing",2),__decorateClass([Property31],PyramidProperties.prototype,"aspectRatio",2),__decorateClass([Property31],PyramidProperties.prototype,"itemStyler",2),__decorateClass([Property31],PyramidProperties.prototype,"shadow",2),__decorateClass([Property31],PyramidProperties.prototype,"label",2),__decorateClass([Property31],PyramidProperties.prototype,"stageLabel",2),__decorateClass([Property31],PyramidProperties.prototype,"tooltip",2);function applyPyramidDatum(e,{x:t,y:i,top:a,right:o,bottom:s,left:r}){e.x0=t-a/2,e.x1=t+a/2,e.x2=t+s/2,e.x3=t-s/2,e.y0=i-r/2,e.y1=i-o/2,e.y2=i+o/2,e.y3=i+r/2}function preparePyramidAnimationFunctions(e){return{fromFn:(o,s)=>{const{x:r,y:n}=s;let{top:l,right:c,bottom:h,left:p}=s;return e==="vertical"?(l=0,h=0):(p=0,c=0),{x:r,y:n,top:l,right:c,bottom:h,left:p}},toFn:(o,s)=>{const{x:r,y:n,top:l,right:c,bottom:h,left:p}=s;return{x:r,y:n,top:l,right:c,bottom:h,left:p}},applyFn:applyPyramidDatum}}var{StateMachine:StateMachine3,valueProperty:valueProperty13,SeriesNodePickMode:SeriesNodePickMode13,CachedTextMeasurerPool:CachedTextMeasurerPool8,TextUtils:TextUtils5,createDatumId:createDatumId16,BBox:BBox12,Group:Group12,Selection:Selection12,Text:Text5,PointerEvents:PointerEvents9,applyShapeStyle:applyShapeStyle14,mergeDefaults:mergeDefaults14,fromToMotion:fromToMotion4,seriesLabelFadeInAnimation:seriesLabelFadeInAnimation6,getShapeStyle:getShapeStyle13,getLabelStyles:getLabelStyles5}=import_ag_charts_community122._ModuleSupport,PyramidSeries=class extends import_ag_charts_community122._ModuleSupport.DataModelSeries{constructor(e){super({moduleCtx:e,categoryKey:void 0,pickModes:[SeriesNodePickMode13.EXACT_SHAPE_MATCH,SeriesNodePickMode13.NEAREST_NODE]}),this.properties=new PyramidProperties,this.itemGroup=this.contentGroup.appendChild(new Group12({name:"itemGroup"})),this.itemLabelGroup=this.contentGroup.appendChild(new Group12({name:"itemLabelGroup"})),this.stageLabelGroup=this.contentGroup.appendChild(new Group12({name:"stageLabelGroup"})),this.datumSelection=Selection12.select(this.itemGroup,()=>this.nodeFactory()),this.labelSelection=Selection12.select(this.itemLabelGroup,Text5),this.stageLabelSelection=Selection12.select(this.stageLabelGroup,Text5),this.highlightDatumSelection=Selection12.select(this.highlightGroup,()=>this.nodeFactory()),this.animationState=new StateMachine3("empty",{empty:{update:{target:"ready",action:()=>this.animateEmptyUpdateReady()},reset:"empty",skip:"ready"},ready:{clear:"empty",reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable()),this.itemLabelGroup.pointerEvents=PointerEvents9.None,this.stageLabelGroup.pointerEvents=PointerEvents9.None}addChartEventListeners(){this.cleanup.register(this.ctx.eventsHub.on("legend:item-click",e=>this.onLegendItemClick(e)))}nodeFactory(){return new FunnelConnector}getNodeData(){return this.contextNodeData?.nodeData}resetAnimation(e){e==="initial"?this.animationState.transition("reset"):e==="ready"&&this.animationState.transition("skip")}async processData(e){if(this.data==null)return;const{id:t,visible:i,ctx:{legendManager:a}}=this,{stageKey:o,valueKey:s}=this.properties,r="category",n="number",l=(h,p,u)=>i&&a.getItemEnabled({seriesId:t,itemId:u}),c=this.visible?{}:{forceValue:0};await this.requestDataModel(e,this.data,{props:[valueProperty13(o,r,{id:"xValue"}),valueProperty13(s,n,{id:"yValue",...c,validation:l,invalidValue:0})]})}createNodeData(){const{id:e,dataModel:t,processedData:i,properties:a,visible:o,ctx:{legendManager:s}}=this,{stageKey:r,valueKey:n,direction:l,reverse:c=l==="horizontal",spacing:h,aspectRatio:p,label:u,stageLabel:d}=a;if(t==null||i==null)return;const y=l==="horizontal",g=t.resolveColumnById(this,"xValue",i),m=t.resolveColumnById(this,"yValue",i),f=t.getDomain(this,"xValue","value",i),b=t.getDomain(this,"yValue","value",i),x=CachedTextMeasurerPool8.getMeasurer({font:d});let S,D;y?(S="center",D=d.placement==="before"?"bottom":"top"):(S=d.placement==="after"?"left":"right",D="middle");const _=d.enabled?[]:void 0;let k=0,v=0,A=0;const I=i.dataSources.get(this.id)??[];I.forEach((B,G)=>{const V=g[G],K=m[G],W=o&&s.getItemEnabled({seriesId:e,itemId:G});if(A+=K,_==null)return;const z=this.getLabelText(V,B,r,"x",f,this.properties.stageLabel,{datum:B,value:K,stageKey:r,valueKey:n}),{width:H}=x.measureText(z),Y=z.split(`
`).length*TextUtils5.getLineHeight(u.fontSize);k=Math.max(k,H),v=Math.max(v,Y),_.push({x:NaN,y:NaN,text:z,textAlign:S,textBaseline:D,visible:W})});const M=this._nodeDataDependencies?.seriesRectWidth??0,L=this._nodeDataDependencies?.seriesRectHeight??0,R=h*(i.input.count-1);let C;if(y){const B=v+d.spacing;C=new BBox12(0,d.placement==="before"?B:0,M,L-B)}else{const B=k+d.spacing;C=new BBox12(d.placement==="after"?0:B,0,M-B,L)}if(p!=null&&p!==0){const B=l==="horizontal"?1/p:p,G=Math.min(C.width,C.height*B),V=G/B;C=new BBox12(C.x+(C.width-G)/2,C.y+(C.height-V)/2,G,V)}let N,P;y?P=d.placement==="before"?C.y-d.spacing:C.y+C.height+d.spacing:N=d.placement==="after"?C.x+C.width+d.spacing:C.x-d.spacing;const T=C.width-(y?R:0),w=C.height-(y?0:R);if(T<0||w<0)return;const E=[],O=[];let F=0;return I.forEach((B,G)=>{const V=g[G],K=m[G],W=o&&s.getItemEnabled({seriesId:e,itemId:G}),z=F+K,H=(F+z)/(2*A),Y=(z-F)/A,j=y?T*H+h*G:T*.5,$=y?w*.5:w*H+h*G,q=C.x+j,J=C.y+$;if(_!=null){const Q=_[G];Q.x=N??q,Q.y=P??J}let ee,U,X,ie;if(y){const Q=T*Y;ee=Q,X=Q;const ae=(j+Q/2)*(w/C.width),oe=(j-Q/2)*(w/C.width);U=c?C.height-ae:ae,ie=c?C.height-oe:oe}else{const Q=w*Y;U=Q,ie=Q;const ae=($-Q/2)*(T/C.height),oe=($+Q/2)*(T/C.height);ee=c?C.width-ae:ae,X=c?C.width-oe:oe}const Z=this.getLabelText(K,B,n,"y",b,u,{datum:B,value:K,stageKey:r,valueKey:n}),te={x:q,y:J,text:Z,textAlign:"center",textBaseline:"middle",visible:W};O.push(te),E.push({series:this,itemId:n,datum:B,datumIndex:G,index:G,xValue:V,yValue:K,x:q,y:J,top:ee,right:U,bottom:X,left:ie,label:te,enabled:W,midPoint:{x:q,y:J}}),F=z}),{itemId:e,nodeData:E,labelData:O,stageLabelData:_,bounds:C}}updateSelections(){this.nodeDataRefresh&&(this.contextNodeData=this.createNodeData(),this.nodeDataRefresh=!1)}update({seriesRect:e}){this.checkResize(e);const{datumSelection:t,labelSelection:i,stageLabelSelection:a,highlightDatumSelection:o}=this;this.updateSelections(),this.contentGroup.visible=this.visible,this.contentGroup.opacity=this.getOpacity();let s=this.ctx.highlightManager?.getActiveHighlight();s!=null&&(s.series!==this||s.datum==null)&&(s=void 0);const r=this.contextNodeData?.nodeData??[],n=this.contextNodeData?.labelData??[],l=this.contextNodeData?.stageLabelData??[];this.datumSelection=this.updateDatumSelection({nodeData:r,datumSelection:t}),this.updateDatumNodes({datumSelection:t,isHighlight:!1}),this.labelSelection=this.updateLabelSelection({labelData:n,labelSelection:i}),this.updateLabelNodes({labelSelection:i,labelProperties:this.properties.label}),this.stageLabelSelection=this.updateStageLabelSelection({stageLabelData:l,stageLabelSelection:a}),this.updateLabelNodes({labelSelection:a,labelProperties:this.properties.stageLabel}),this.highlightDatumSelection=this.updateDatumSelection({nodeData:s!=null?[s]:[],datumSelection:o}),this.updateDatumNodes({datumSelection:o,isHighlight:!0}),this.animationState.transition("update")}updateDatumSelection(e){return e.datumSelection.update(e.nodeData)}getItemStyle({datumIndex:e,datum:t},i){const{id:a,properties:o}=this,{stageKey:s,valueKey:r,itemStyler:n,fillGradientDefaults:l,fillPatternDefaults:c,fillImageDefaults:h}=o,p=this.getHighlightStyle(i,e),u=mergeDefaults14(p,o.getStyle(e));let d=getShapeStyle13(u,l,c,h);if(n!=null&&e!=null){const y=this.ctx.highlightManager?.getActiveHighlight(),g=this.cachedDatumCallback(createDatumId16(e,i?"highlight":"node"),()=>{const m=this.getHighlightStateString(y,i,e);return this.callWithContext(n,{seriesId:a,datum:t,stageKey:s,valueKey:r,highlighted:i,highlightState:m,...d})});g&&(d=getShapeStyle13(mergeDefaults14(g,d),l,c,h))}return d}updateDatumNodes(e){const{datumSelection:t,isHighlight:i}=e,{properties:a}=this,{shadow:o}=a,s=this.contextNodeData?.bounds,r=s?{series:s,axis:s}:void 0;t.each((n,l)=>{const c=this.getItemStyle(l,i);applyShapeStyle14(n,c,r),applyPyramidDatum(n,l),n.fillShadow=o})}updateLabelSelection(e){return e.labelSelection.update(this.properties.label.enabled?e.labelData:[])}updateStageLabelSelection(e){return e.stageLabelSelection.update(e.stageLabelData)}updateLabelNodes(e){e.labelSelection.each((t,i,a)=>{const{visible:o,x:s,y:r,text:n,textAlign:l,textBaseline:c}=i,h=getLabelStyles5(this,void 0,this.properties,e.labelProperties),{color:p,fontSize:u,fontStyle:d,fontWeight:y,fontFamily:g}=h;t.visible=o,t.x=s,t.y=r,t.text=n,t.fill=p,t.fillOpacity=this.getHighlightStyle(!1,a).opacity??1,t.fontStyle=d,t.fontWeight=y,t.fontSize=u,t.fontFamily=g,t.textAlign=l,t.textBaseline=c,t.setBoxing(h)})}computeFocusBounds(e){const t=this.getNodeData()?.[e.datumIndex];if(t!==void 0){for(const i of this.datumSelection)if(i.datum===t)return i.node}}getTooltipContent(e){const{id:t,dataModel:i,processedData:a,properties:o}=this,{stageKey:s,valueKey:r,tooltip:n}=o;if(!i||!a)return;const l=a.dataSources.get(this.id)?.[e],c=i.resolveColumnById(this,"xValue",a)[e],h=i.resolveColumnById(this,"yValue",a)[e];if(c==null)return;const p=this.getLabelText(c,l,s,"x",i.getDomain(this,"xValue","value",a),this.properties.stageLabel,{datum:l,value:c,stageKey:s,valueKey:r}),u=this.getLabelText(h,l,r,"y",i.getDomain(this,"yValue","value",a),this.properties.stageLabel,{datum:l,value:h,stageKey:s,valueKey:r}),d=this.getItemStyle({datumIndex:e,datum:l},!1);return this.formatTooltipWithContext(n,{symbol:this.legendItemSymbol(e),data:[{label:p,value:u}]},{seriesId:t,datum:l,title:void 0,stageKey:s,valueKey:r,...d})}getSeriesDomain(){return[NaN,NaN]}getSeriesRange(e,t){return[NaN,NaN]}pickNodeClosestDatum({x:e,y:t}){let i=1/0,a;return this.datumSelection.each((o,s)=>{const r=o.distanceSquared(e,t);r<i&&(i=r,a=s)}),a!=null?{datum:a,distance:Math.sqrt(i)}:void 0}legendItemSymbol(e){const{fills:t,strokes:i,strokeWidth:a,fillOpacity:o,strokeOpacity:s,lineDash:r,lineDashOffset:n}=this.properties,l=t[e%t.length]??"black",c=i[e%i.length]??"black";return{marker:getShapeStyle13({fill:l,fillOpacity:o,stroke:c,strokeWidth:a,strokeOpacity:s,lineDash:r,lineDashOffset:n},this.properties.fillGradientDefaults,this.properties.fillPatternDefaults,this.properties.fillImageDefaults)}}getLegendData(e){const{processedData:t,dataModel:i,id:a,ctx:{legendManager:o},visible:s}=this;if(!i||!t||e!=="category")return[];const{showInLegend:r}=this.properties,n=[],l=i.resolveColumnById(this,"xValue",t);return(t.dataSources.get(this.id)??[]).forEach((h,p)=>{const u=l[p];n.push({legendType:"category",id:a,itemId:p,seriesId:a,enabled:s&&o.getItemEnabled({seriesId:a,itemId:p}),label:{text:u},symbol:this.legendItemSymbol(p),hideInLegend:!r})}),n}animateReset(){this.ctx.animationManager.skipCurrentBatch(),this.ctx.animationManager.stopByAnimationGroupId(this.id)}animateEmptyUpdateReady(){const{datumSelection:e,labelSelection:t,properties:i}=this,a=preparePyramidAnimationFunctions(i.direction);fromToMotion4(this.id,"nodes",this.ctx.animationManager,[e],a),seriesLabelFadeInAnimation6(this,"labels",this.ctx.animationManager,t)}hasItemStylers(){return this.properties.itemStyler!=null}};PyramidSeries.className="PyramidSeries",PyramidSeries.type="pyramid";var import_ag_charts_community123=require("ag-charts-community"),import_ag_charts_core43=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs16,pyramidSeriesThemeableOptionsDef}=import_ag_charts_community123._ModuleSupport,pyramidSeriesOptionsDef={...pyramidSeriesThemeableOptionsDef,...commonSeriesOptionsDefs16,type:(0,import_ag_charts_core43.required)((0,import_ag_charts_core43.constant)("pyramid")),stageKey:(0,import_ag_charts_core43.required)(import_ag_charts_core43.string),valueKey:(0,import_ag_charts_core43.required)(import_ag_charts_core43.string)},import_ag_charts_community124=require("ag-charts-community"),{ThemeSymbols:{DEFAULT_SHADOW_COLOUR:DEFAULT_SHADOW_COLOUR2}}=import_ag_charts_community124._ModuleSupport,PYRAMID_SERIES_THEME={series:{direction:"vertical",strokeWidth:{$isUserOption:["./strokes/0",2,0]},spacing:2,fills:{$palette:"fills"},strokes:{$palette:"strokes"},fillGradientDefaults:import_ag_charts_community124._ModuleSupport.FILL_GRADIENT_LINEAR_DEFAULTS,fillPatternDefaults:import_ag_charts_community124._ModuleSupport.FILL_PATTERN_DEFAULTS,fillImageDefaults:import_ag_charts_community124._ModuleSupport.FILL_IMAGE_DEFAULTS,label:{...import_ag_charts_community124._ModuleSupport.LABEL_BOXING_DEFAULTS,enabled:!0,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"chartBackgroundColor"}},stageLabel:{...import_ag_charts_community124._ModuleSupport.LABEL_BOXING_DEFAULTS,enabled:!0,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"},spacing:12},shadow:{enabled:!1,color:DEFAULT_SHADOW_COLOUR2,xOffset:3,yOffset:3,blur:5},highlight:import_ag_charts_community124._ModuleSupport.singleSeriesHighlightStyle()}},PyramidSeriesModule={type:"series",name:"pyramid",chartType:"standalone",enterprise:!0,options:pyramidSeriesOptionsDef,create:e=>new PyramidSeries(e)},import_ag_charts_community131=require("ag-charts-community"),import_ag_charts_community125=require("ag-charts-community"),{ThemeConstants:{POLAR_AXIS_TYPE:POLAR_AXIS_TYPE3}}=import_ag_charts_community125._ModuleSupport,BASE_RADAR_SERIES_THEME={series:{stroke:{$palette:"stroke"},label:{...import_ag_charts_community125._ModuleSupport.LABEL_BOXING_DEFAULTS,enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}},marker:{enabled:!0,fill:{$palette:"fill"},stroke:{$palette:"stroke"},fillGradientDefaults:import_ag_charts_community125._ModuleSupport.FILL_GRADIENT_RADIAL_REVERSED_DEFAULTS,fillPatternDefaults:import_ag_charts_community125._ModuleSupport.FILL_PATTERN_DEFAULTS,fillImageDefaults:import_ag_charts_community125._ModuleSupport.FILL_IMAGE_DEFAULTS,fillOpacity:1,shape:"circle",size:6,strokeOpacity:1,strokeWidth:{$isUserOption:["./stroke",1,0]}},highlight:import_ag_charts_community125._ModuleSupport.multiSeriesHighlightStyle(),tooltip:{range:{$path:["/tooltip/range","nearest"]}}},axes:{[POLAR_AXIS_TYPE3.ANGLE_CATEGORY]:{label:{spacing:10}}}},RADAR_LINE_SERIES_THEME=import_ag_charts_community125._ModuleSupport.mergeDefaults({series:{stroke:import_ag_charts_community125._ModuleSupport.SAFE_STROKE_FILL_OPERATION,strokeWidth:2}},BASE_RADAR_SERIES_THEME),RADAR_AREA_SERIES_THEME=import_ag_charts_community125._ModuleSupport.mergeDefaults({series:{fill:{$palette:"fill"},fillGradientDefaults:import_ag_charts_community125._ModuleSupport.FILL_GRADIENT_LINEAR_DEFAULTS,fillPatternDefaults:import_ag_charts_community125._ModuleSupport.FILL_PATTERN_DEFAULTS,fillImageDefaults:import_ag_charts_community125._ModuleSupport.FILL_IMAGE_DEFAULTS,fillOpacity:.8,strokeWidth:2,marker:{enabled:!1}}},BASE_RADAR_SERIES_THEME),import_ag_charts_community129=require("ag-charts-community"),import_ag_charts_community127=require("ag-charts-community"),import_ag_charts_core44=require("ag-charts-core"),import_ag_charts_community126=require("ag-charts-community"),{Label:Label12,SeriesMarker:SeriesMarker2,SeriesProperties:SeriesProperties10,makeSeriesTooltip:makeSeriesTooltip19,Property:Property32}=import_ag_charts_community126._ModuleSupport,RadarSeriesProperties=class extends SeriesProperties10{constructor(){super(...arguments),this.stroke="black",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.rotation=0,this.marker=new SeriesMarker2,this.label=new Label12,this.tooltip=makeSeriesTooltip19(),this.connectMissingData=!1}};__decorateClass([Property32],RadarSeriesProperties.prototype,"angleKey",2),__decorateClass([Property32],RadarSeriesProperties.prototype,"radiusKey",2),__decorateClass([Property32],RadarSeriesProperties.prototype,"angleName",2),__decorateClass([Property32],RadarSeriesProperties.prototype,"radiusName",2),__decorateClass([Property32],RadarSeriesProperties.prototype,"stroke",2),__decorateClass([Property32],RadarSeriesProperties.prototype,"strokeWidth",2),__decorateClass([Property32],RadarSeriesProperties.prototype,"strokeOpacity",2),__decorateClass([Property32],RadarSeriesProperties.prototype,"lineDash",2),__decorateClass([Property32],RadarSeriesProperties.prototype,"lineDashOffset",2),__decorateClass([Property32],RadarSeriesProperties.prototype,"rotation",2),__decorateClass([Property32],RadarSeriesProperties.prototype,"marker",2),__decorateClass([Property32],RadarSeriesProperties.prototype,"label",2),__decorateClass([Property32],RadarSeriesProperties.prototype,"tooltip",2),__decorateClass([Property32],RadarSeriesProperties.prototype,"connectMissingData",2);var{DEFAULT_POLAR_DIRECTION_KEYS:DEFAULT_POLAR_DIRECTION_KEYS2,DEFAULT_POLAR_DIRECTION_NAMES:DEFAULT_POLAR_DIRECTION_NAMES2,ChartAxisDirection:ChartAxisDirection16,PolarAxis:PolarAxis2,SeriesNodePickMode:SeriesNodePickMode14,valueProperty:valueProperty14,fixNumericExtent:fixNumericExtent8,seriesLabelFadeInAnimation:seriesLabelFadeInAnimation7,markerFadeInAnimation:markerFadeInAnimation2,resetMarkerFn:resetMarkerFn2,animationValidation:animationValidation8,computeMarkerFocusBounds:computeMarkerFocusBounds3,extent:extent2,BBox:BBox13,Group:Group13,Path:Path9,PointerEvents:PointerEvents10,Selection:Selection13,Text:Text6,Marker:Marker4,mergeDefaults:mergeDefaults15,getShapeStyle:getShapeStyle14,updateLabelNode:updateLabelNode7}=import_ag_charts_community127._ModuleSupport,RadarSeriesNodeEvent=class extends import_ag_charts_community127._ModuleSupport.SeriesNodeEvent{constructor(e,t,i,a){super(e,t,i,a),this.angleKey=a.properties.angleKey,this.radiusKey=a.properties.radiusKey}},RadarSeries=class extends import_ag_charts_community127._ModuleSupport.PolarSeries{constructor(e){super({moduleCtx:e,categoryKey:"angleValue",propertyKeys:DEFAULT_POLAR_DIRECTION_KEYS2,propertyNames:DEFAULT_POLAR_DIRECTION_NAMES2,pickModes:[SeriesNodePickMode14.NEAREST_NODE,SeriesNodePickMode14.EXACT_SHAPE_MATCH],canHaveAxes:!0,animationResetFns:{item:resetMarkerFn2},clipFocusBox:!1}),this.properties=new RadarSeriesProperties,this.NodeEvent=RadarSeriesNodeEvent,this.lineGroup=this.contentGroup.appendChild(new Group13({name:"radar-line"})),this.lineSelection=Selection13.select(this.lineGroup,Path9),this.resetInvalidToZero=!1,this.circleCache={r:0,cx:0,cy:0},this.lineGroup.zIndex=0,this.itemGroup.zIndex=1}nodeFactory(){return new Marker4}getSeriesDomain(e){const{dataModel:t,processedData:i}=this;if(!i||!t)return[];if(e===ChartAxisDirection16.Angle)return t.getDomain(this,"angleValue","value",i);{const a=t.getDomain(this,"radiusValue","value",i),o=extent2(a.length===0?a:[0].concat(a));return fixNumericExtent8(o)}}async processData(e){const{angleKey:t,radiusKey:i}=this.properties,a=[];this.ctx.animationManager.isSkipped()||a.push(animationValidation8());const o=this.axes[ChartAxisDirection16.Radius]?.scale.type,s=this.axes[ChartAxisDirection16.Angle]?.scale.type;await this.requestDataModel(e,this.data,{props:[valueProperty14(t,s,{id:"angleValue"}),valueProperty14(i,o,{id:"radiusValue",invalidValue:void 0}),...a]}),this.animationState.transition("updateData")}didCircleChange(){const e=this.radius,t=this.centerX,i=this.centerY,a=this.circleCache;return e===a.r&&t===a.cx&&i===a.cy?!1:(this.circleCache={r:e,cx:t,cy:i},!0)}getAxisInnerRadius(){const e=this.axes[ChartAxisDirection16.Radius];return e instanceof PolarAxis2?this.radius*e.innerRadiusRatio:0}maybeRefreshNodeData(){if(!this.didCircleChange()&&!this.nodeDataRefresh)return;const{nodeData:t=[]}=this.createNodeData()??{};this.nodeData=t,this.nodeDataRefresh=!1}createNodeData(){const{processedData:e,dataModel:t}=this;if(!e||!t)return;const{angleKey:i,radiusKey:a,angleName:o,radiusName:s,marker:r,label:n}=this.properties,l=this.axes[ChartAxisDirection16.Angle]?.scale,c=this.axes[ChartAxisDirection16.Radius]?.scale;if(!l||!c)return;const h=t.resolveColumnById(this,"angleValue",e),p=t.resolveColumnById(this,"radiusValue",e),u=this.getAxisInnerRadius(),d=this.getSeriesDomain(ChartAxisDirection16.Radius),g=(e.dataSources.get(this.id)??[]).map((m,f)=>{const b=h[f],x=p[f],S=l.convert(b),D=this.radius+u-c.convert(x),_=Math.cos(S),k=Math.sin(S),v=_*D,A=k*D;let I;if(n.enabled){const M=this.getLabelText(x,m,a,"radius",d,n,{value:x,datum:m,angleKey:i,radiusKey:a,angleName:o,radiusName:s});if(M){let L="right";(0,import_ag_charts_core44.isNumberEqual)(_,0)?L="center":_>0&&(L="left");let R="bottom";(0,import_ag_charts_core44.isNumberEqual)(k,0)?R="middle":k>0&&(R="top"),I={x:v+_*r.size,y:A+k*r.size,text:M,textAlign:L,textBaseline:R}}}return{series:this,datum:m,datumIndex:f,index:f,point:{x:v,y:A,size:r.size},midPoint:{x:v,y:A},label:I,angleValue:b,radiusValue:x,missing:!(0,import_ag_charts_core44.isFiniteNumber)(S)||!(0,import_ag_charts_core44.isFiniteNumber)(D)}});return{itemId:a,nodeData:g,labelData:g}}update({seriesRect:e}){const t=this.checkResize(e),i=!this.ctx.animationManager.isSkipped(),{series:a}=this.ctx.highlightManager?.getActiveHighlight()??{};this.highlightGroup.visible=(i||this.visible)&&a===this,this.maybeRefreshNodeData(),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),this.updatePathSelections(),this.updateMarkerSelection(),this.updatePathNodes(),this.updateMarkers(this.itemSelection,!1),this.updateMarkers(this.highlightSelection,!0),this.updateLabels(),t&&this.animationState.transition("resize"),this.animationState.transition("update")}updatePathSelections(){const e=this.visible?[!0]:[];this.lineSelection.update(e)}updateMarkerSelection(){this.properties.marker.isDirty()&&(this.itemSelection.clear(),this.itemSelection.cleanup(),this.itemSelection=Selection13.select(this.itemGroup,()=>this.nodeFactory(),!1)),this.itemSelection.update(this.properties.marker.enabled?this.nodeData:[])}getMarkerFill(e){return e?.fill??this.properties.marker.fill}getDatumStylerProperties(e){const{id:t,properties:i}=this,{angleKey:a,radiusKey:o}=i;return{seriesId:t,datum:e,angleKey:a,radiusKey:o}}updateMarkers(e,t){const{visible:i}=this,{marker:a,stroke:o,strokeWidth:s,strokeOpacity:r}=this.properties;let n=[];if(i&&a.shape&&a.enabled)if(t){const c=this.ctx.highlightManager?.getActiveHighlight();c?.datum&&(n=[c])}else n=this.nodeData;const l=this.getShapeFillBBox();e.update(n).each((c,h)=>{const p=this.getMarkerStyle(a,h,this.getDatumStylerProperties(h),t,void 0,{stroke:o,strokeWidth:s,strokeOpacity:r});this.applyMarkerStyle(p,c,h.point,l)})}updateLabels(){this.labelSelection.update(this.nodeData).each((e,t)=>{if(t.label){e.fillOpacity=this.getHighlightStyle(!1,t.datumIndex).opacity??1;const a=this.ctx.highlightManager?.getActiveHighlight(),o=this.getHighlightStateString(a,!1,t.datumIndex);updateLabelNode7(this,e,this.properties,this.properties.label,t.label,!1,o)}})}getTooltipContent(e){const{id:t,dataModel:i,processedData:a,axes:o,properties:s}=this,{angleKey:r,angleName:n,radiusKey:l,radiusName:c,tooltip:h,marker:p}=s,u=o[ChartAxisDirection16.Angle],d=o[ChartAxisDirection16.Radius];if(!i||!a||!u||!d)return;const y=a.dataSources.get(this.id)?.[e],g=i.resolveColumnById(this,"angleValue",a)[e],m=i.resolveColumnById(this,"radiusValue",a)[e];if(g==null)return;const f=this.getMarkerStyle(p,{datum:y,datumIndex:e},this.getDatumStylerProperties(y),!1);return this.formatTooltipWithContext(h,{heading:this.getAxisValueText(u,"tooltip",g,y,r,void 0),symbol:this.legendItemSymbol(),data:[{label:c,fallbackLabel:l,value:this.getAxisValueText(d,"tooltip",m,y,l,void 0)}]},{seriesId:t,datum:y,title:n,angleKey:r,radiusKey:l,angleName:n,radiusName:c,...f})}legendItemSymbol(){const{stroke:e,strokeWidth:t,strokeOpacity:i,lineDash:a,marker:o}=this.properties;return{marker:getShapeStyle14({shape:o.shape,enabled:o.enabled||t<=0,fill:this.getMarkerFill()??o.stroke??e??"rgba(0, 0, 0, 0)",stroke:o.stroke??e??"rgba(0, 0, 0, 0)",fillOpacity:o.fillOpacity,strokeOpacity:o.strokeOpacity,strokeWidth:o.strokeWidth,lineDash:o.lineDash,lineDashOffset:o.lineDashOffset},o.fillGradientDefaults,o.fillPatternDefaults,o.fillImageDefaults),line:{stroke:e,strokeOpacity:i,strokeWidth:t,lineDash:a}}}getLegendData(e){if(e!=="category")return[];const{id:t,ctx:{legendManager:i},visible:a}=this,{radiusKey:o,radiusName:s,showInLegend:r}=this.properties;return[{legendType:"category",id:t,itemId:o,seriesId:t,enabled:a&&i.getItemEnabled({seriesId:t,itemId:o}),label:{text:s??o},symbol:this.legendItemSymbol(),hideInLegend:!r}]}pickNodeClosestDatum(e){const{nodeData:t,centerX:i,centerY:a}=this,{x:o,y:s}=e,r=this.radius;if(Math.sqrt((o-i)**2+(s-a)**2)>r+this.properties.marker.size)return;let l=1/0,c;for(const h of t){const{point:{x:p=NaN,y:u=NaN}={}}=h;if(isNaN(p)||isNaN(u))continue;const d=Math.sqrt((e.x-p-i)**2+(e.y-u-a)**2);d<l&&(l=d,c=h)}if(c){const h=Math.max(l-(c.point?.size??0),0);return{datum:c,distance:h}}}computeLabelsBBox(){const{label:e}=this.properties;this.maybeRefreshNodeData();const t=[],i=new Text6;return this.nodeData.forEach(a=>{if(!e.enabled||!a.label)return;i.text=a.label.text,i.x=a.label.x,i.y=a.label.y,i.setFont(e),i.setAlign(a.label);const o=i.getBBox();t.push(o)}),t.length===0?null:BBox13.merge(t)}getLineNode(){return this.lineSelection?.at(0)}beforePathAnimation(){this.updatePathNodes()}updatePathNodes(){const e=this.getLineNode();if(!e)return;const{strokeWidth:t,stroke:i,strokeOpacity:a,lineDash:o,lineDashOffset:s,opacity:r}=mergeDefaults15(this.getHighlightStyle(),this.properties);e.setProperties({fill:void 0,lineJoin:"round",lineCap:"round",pointerEvents:PointerEvents10.None,opacity:r,stroke:i,strokeWidth:t,strokeOpacity:a,lineDash:o,lineDashOffset:s})}getLinePoints(){const{nodeData:e,resetInvalidToZero:t}=this,{connectMissingData:i}=this.properties;if(e.length===0)return[];const a=this.axes[ChartAxisDirection16.Radius],s=this.axes[ChartAxisDirection16.Angle]?.isReversed(),n=a?.isReversed()&&!s?[...e].reverse():e,l=[];let c=!1,h;return n.forEach((p,u)=>{let{x:d,y}=p.point;const g=isNaN(d)||isNaN(y);g||(h??(h=p)),g&&!i&&(d=0,y=0);const m=u===0||!t&&!i&&(g||c);l.push({x:d,y,moveTo:m}),c=g}),h!==void 0&&l.push({x:h.point.x,y:h.point.y,moveTo:!1}),l}animateSinglePath(e,t,i){const{path:a}=e;a.clear(!0);const o=this.getAxisInnerRadius(),s=this.axes[ChartAxisDirection16.Radius],n=s?.isReversed()?this.radius+o-s?.scale.convert(0):o;t.forEach(l=>{const{x:c,y:h,arc:p,radius:u=0,startAngle:d=0,endAngle:y=0,moveTo:g}=l,m=Math.atan2(h,c),f=n*Math.cos(m),b=n*Math.sin(m),x=i,S=f*(1-x)+c*x,D=b*(1-x)+h*x;p?a.arc(c,h,u,d,y):g?a.moveTo(S,D):a.lineTo(S,D)}),e.checkPathDirty()}animatePaths(e){const t=this.getLinePoints(),i=this.getLineNode();i&&this.animateSinglePath(i,t,e)}animateEmptyUpdateReady(){const{itemSelection:e,labelSelection:t}=this,{animationManager:i}=this.ctx;this.beforePathAnimation(),i.animate({id:`${this.id}_'path`,groupId:this.id,from:0,to:1,phase:"initial",collapsable:!1,onUpdate:a=>this.animatePaths(a),onStop:()=>this.animatePaths(1)}),markerFadeInAnimation2(this,i,"added",e),seriesLabelFadeInAnimation7(this,"labels",i,t)}animateWaitingUpdateReady(e){super.animateWaitingUpdateReady(e),this.resetPaths()}animateReadyResize(e){super.animateReadyResize(e),this.resetPaths()}resetPaths(){const e=this.getLineNode();if(e){const{path:t}=e,i=this.getLinePoints();e.fill=void 0,e.stroke=this.properties.stroke,e.strokeWidth=this.properties.strokeWidth,e.strokeOpacity=this.properties.strokeOpacity,e.lineDash=this.properties.lineDash,e.lineDashOffset=this.properties.lineDashOffset,t.clear(!0);for(const{x:a,y:o,moveTo:s}of i)s?t.moveTo(a,o):t.lineTo(a,o);e.checkPathDirty()}}getFormattedMarkerStyle(e){const{angleKey:t,radiusKey:i}=this.properties;return this.getMarkerStyle(this.properties.marker,e,{angleKey:t,radiusKey:i},!0)}computeFocusBounds(e){return computeMarkerFocusBounds3(this,e)}};RadarSeries.className="RadarSeries";var import_ag_charts_community128=require("ag-charts-community"),{FillGradientDefaults:FillGradientDefaults14,FillPatternDefaults:FillPatternDefaults14,FillImageDefaults:FillImageDefaults14,Property:Property33}=import_ag_charts_community128._ModuleSupport,RadarAreaSeriesProperties=class extends RadarSeriesProperties{constructor(){super(...arguments),this.fill="black",this.fillGradientDefaults=new FillGradientDefaults14,this.fillPatternDefaults=new FillPatternDefaults14,this.fillImageDefaults=new FillImageDefaults14,this.fillOpacity=1}};__decorateClass([Property33],RadarAreaSeriesProperties.prototype,"fill",2),__decorateClass([Property33],RadarAreaSeriesProperties.prototype,"fillGradientDefaults",2),__decorateClass([Property33],RadarAreaSeriesProperties.prototype,"fillPatternDefaults",2),__decorateClass([Property33],RadarAreaSeriesProperties.prototype,"fillImageDefaults",2),__decorateClass([Property33],RadarAreaSeriesProperties.prototype,"fillOpacity",2);var{Group:Group14,Path:Path10,PointerEvents:PointerEvents11,Selection:Selection14,ChartAxisDirection:ChartAxisDirection17,applyShapeStyle:applyShapeStyle15,getShapeFill:getShapeFill4,getShapeStyle:getShapeStyle15,mergeDefaults:mergeDefaults16}=import_ag_charts_community129._ModuleSupport,RadarAreaSeries=class extends RadarSeries{constructor(e){super(e),this.properties=new RadarAreaSeriesProperties,this.areaGroup=this.contentGroup.appendChild(new Group14({name:"radar-area"})),this.areaSelection=Selection14.select(this.areaGroup,Path10),this.resetInvalidToZero=!0,this.areaGroup.zIndex=-1}updatePathSelections(){const e=this.visible?[!0]:[];this.areaSelection.update(e),super.updatePathSelections()}getAreaNode(){return this.areaSelection.at(0)}getMarkerFill(e){return e?.fill??this.properties.marker.fill??this.properties.fill}updatePathNodes(){super.updatePathNodes();const{fill:e,fillOpacity:t,opacity:i}=mergeDefaults16(this.getHighlightStyle(),this.properties),{fill:a,fillOpacity:o}=getShapeStyle15({fill:e,fillOpacity:t},this.properties.fillGradientDefaults,this.properties.fillPatternDefaults,this.properties.fillImageDefaults),s=this.getAreaNode();s&&(applyShapeStyle15(s,{fill:a,fillOpacity:o,stroke:void 0},this.getShapeFillBBox()),s.setProperties({lineJoin:"round",pointerEvents:PointerEvents11.None,opacity:i}))}animatePaths(e){super.animatePaths(e);const t=this.getAreaNode();t&&this.animateSinglePath(t,this.getAreaPoints(),e)}getAreaPoints(){const e=this.getLinePoints(),t=r=>{const n=this.axes[r];return n instanceof import_ag_charts_community129._ModuleSupport.PolarAxis?n:void 0},i=t(ChartAxisDirection17.Radius),a=t(ChartAxisDirection17.Angle);if(!i?.isReversed())return e;const s=a?.getAxisLinePoints()?.points??[];return e.concat(...s)}hasItemStylers(){return this.properties.marker.itemStyler!=null||this.properties.label.itemStyler!=null}resetPaths(){super.resetPaths();const e=this.getAreaNode();if(e){const{path:t}=e,i=this.getAreaPoints(),a=getShapeFill4(this.properties.fill,this.properties.fillGradientDefaults,this.properties.fillPatternDefaults,this.properties.fillImageDefaults),o=this.getShapeFillBBox();applyShapeStyle15(e,{fill:a,stroke:void 0,fillOpacity:this.properties.fillOpacity,lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset},o),e.lineJoin=e.lineCap="round",t.clear(!0),i.forEach(({x:s,y:r,moveTo:n,arc:l,radius:c=0,startAngle:h=0,endAngle:p=0})=>{l?t.arc(s,r,c,h,p):n?t.moveTo(s,r):t.lineTo(s,r)}),t.closePath(),e.checkPathDirty()}}};RadarAreaSeries.className="RadarAreaSeries",RadarAreaSeries.type="radar-area";var import_ag_charts_community130=require("ag-charts-community"),import_ag_charts_core45=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs17,radarAreaSeriesThemeableOptionsDef}=import_ag_charts_community130._ModuleSupport,radarAreaSeriesOptionsDef={...commonSeriesOptionsDefs17,...radarAreaSeriesThemeableOptionsDef,type:(0,import_ag_charts_core45.required)((0,import_ag_charts_core45.constant)("radar-area")),angleKey:(0,import_ag_charts_core45.required)(import_ag_charts_core45.string),radiusKey:(0,import_ag_charts_core45.required)(import_ag_charts_core45.string),angleName:import_ag_charts_core45.string,radiusName:import_ag_charts_core45.string},{ThemeConstants:{POLAR_AXIS_TYPE:POLAR_AXIS_TYPE4}}=import_ag_charts_community131._ModuleSupport,RadarAreaModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["polar"],identifier:"radar-area",moduleFactory:e=>new RadarAreaSeries(e),defaultAxes:[{type:POLAR_AXIS_TYPE4.ANGLE_CATEGORY},{type:POLAR_AXIS_TYPE4.RADIUS_NUMBER}],themeTemplate:RADAR_AREA_SERIES_THEME},RadarAreaSeriesModule={type:"series",name:"radar-area",chartType:"polar",enterprise:!0,options:radarAreaSeriesOptionsDef,create:e=>new RadarAreaSeries(e)},import_ag_charts_community133=require("ag-charts-community"),RadarLineSeries=class extends RadarSeries{hasItemStylers(){return this.properties.marker.itemStyler!=null||this.properties.label.itemStyler!=null}updatePathSelections(){this.lineSelection.update(this.visible?[!0]:[])}};RadarLineSeries.className="RadarLineSeries",RadarLineSeries.type="radar-line";var import_ag_charts_community132=require("ag-charts-community"),import_ag_charts_core46=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs18,radarLineSeriesThemeableOptionsDef}=import_ag_charts_community132._ModuleSupport,radarLineSeriesOptionsDef={...commonSeriesOptionsDefs18,...radarLineSeriesThemeableOptionsDef,type:(0,import_ag_charts_core46.required)((0,import_ag_charts_core46.constant)("radar-line")),angleKey:(0,import_ag_charts_core46.required)(import_ag_charts_core46.string),radiusKey:(0,import_ag_charts_core46.required)(import_ag_charts_core46.string),angleName:import_ag_charts_core46.string,radiusName:import_ag_charts_core46.string},{POLAR_AXIS_TYPE:POLAR_AXIS_TYPE5}=import_ag_charts_community133._ModuleSupport.ThemeConstants,RadarLineModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["polar"],identifier:"radar-line",moduleFactory:e=>new RadarLineSeries(e),defaultAxes:[{type:POLAR_AXIS_TYPE5.ANGLE_CATEGORY},{type:POLAR_AXIS_TYPE5.RADIUS_NUMBER}],themeTemplate:RADAR_LINE_SERIES_THEME},RadarLineSeriesModule={type:"series",name:"radar-line",chartType:"polar",enterprise:!0,options:radarLineSeriesOptionsDef,create:e=>new RadarLineSeries(e)},import_ag_charts_community139=require("ag-charts-community"),import_ag_charts_community136=require("ag-charts-community"),import_ag_charts_core47=require("ag-charts-core");function readDatum(e){return typeof e?.datum=="object"?e.datum:null}var import_ag_charts_community134=require("ag-charts-community"),{SeriesProperties:SeriesProperties11,FillGradientDefaults:FillGradientDefaults15,FillPatternDefaults:FillPatternDefaults15,FillImageDefaults:FillImageDefaults15,makeSeriesTooltip:makeSeriesTooltip20,Property:Property34,Label:Label13}=import_ag_charts_community134._ModuleSupport,RadialBarSeriesProperties=class extends SeriesProperties11{constructor(){super(...arguments),this.fill="black",this.fillGradientDefaults=new FillGradientDefaults15,this.fillPatternDefaults=new FillPatternDefaults15,this.fillImageDefaults=new FillImageDefaults15,this.fillOpacity=1,this.stroke="black",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.rotation=0,this.label=new Label13,this.tooltip=makeSeriesTooltip20()}getStyle(){const{fill:e,fillOpacity:t,stroke:i,strokeWidth:a,strokeOpacity:o,lineDash:s,lineDashOffset:r,cornerRadius:n}=this;return{fill:e,fillOpacity:t,stroke:i,strokeWidth:a,strokeOpacity:o,lineDash:s,lineDashOffset:r,cornerRadius:n,opacity:1}}};__decorateClass([Property34],RadialBarSeriesProperties.prototype,"angleKey",2),__decorateClass([Property34],RadialBarSeriesProperties.prototype,"radiusKey",2),__decorateClass([Property34],RadialBarSeriesProperties.prototype,"angleName",2),__decorateClass([Property34],RadialBarSeriesProperties.prototype,"radiusName",2),__decorateClass([Property34],RadialBarSeriesProperties.prototype,"fill",2),__decorateClass([Property34],RadialBarSeriesProperties.prototype,"fillGradientDefaults",2),__decorateClass([Property34],RadialBarSeriesProperties.prototype,"fillPatternDefaults",2),__decorateClass([Property34],RadialBarSeriesProperties.prototype,"fillImageDefaults",2),__decorateClass([Property34],RadialBarSeriesProperties.prototype,"fillOpacity",2),__decorateClass([Property34],RadialBarSeriesProperties.prototype,"stroke",2),__decorateClass([Property34],RadialBarSeriesProperties.prototype,"strokeWidth",2),__decorateClass([Property34],RadialBarSeriesProperties.prototype,"strokeOpacity",2),__decorateClass([Property34],RadialBarSeriesProperties.prototype,"lineDash",2),__decorateClass([Property34],RadialBarSeriesProperties.prototype,"lineDashOffset",2),__decorateClass([Property34],RadialBarSeriesProperties.prototype,"cornerRadius",2),__decorateClass([Property34],RadialBarSeriesProperties.prototype,"itemStyler",2),__decorateClass([Property34],RadialBarSeriesProperties.prototype,"rotation",2),__decorateClass([Property34],RadialBarSeriesProperties.prototype,"stackGroup",2),__decorateClass([Property34],RadialBarSeriesProperties.prototype,"normalizedTo",2),__decorateClass([Property34],RadialBarSeriesProperties.prototype,"label",2),__decorateClass([Property34],RadialBarSeriesProperties.prototype,"tooltip",2);var import_ag_charts_community135=require("ag-charts-community"),{SectorBox:SectorBox3,motion:motion9}=import_ag_charts_community135._ModuleSupport;function fixRadialBarAnimationStatus(e,t,i){if(i==="updated"){if(e.previousDatum==null||isNaN(e.previousDatum.innerRadius)||isNaN(e.previousDatum.outerRadius))return"added";if(isNaN(t.innerRadius)||isNaN(t.outerRadius))return"removed"}return i==="added"&&e.previousDatum!=null?"updated":i}function prepareRadialBarSeriesAnimationFunctions(e){return{toFn:(a,o,s)=>{let r,n,l,c,h;return s==="removed"?(r=e,n=e,l=o.innerRadius,c=o.outerRadius,h=new SectorBox3(r,n,l,c)):(r=o.startAngle,n=o.endAngle,l=isNaN(o.innerRadius)?a.innerRadius:o.innerRadius,c=isNaN(o.outerRadius)?a.outerRadius:o.outerRadius,h=o.clipSector),{startAngle:r,endAngle:n,innerRadius:l,outerRadius:c,clipSector:h}},fromFn:(a,o,s)=>{s=fixRadialBarAnimationStatus(a,o,s);let r,n,l,c,h;s==="removed"||s==="updated"?(r=a.startAngle,n=a.endAngle,l=a.innerRadius,c=a.outerRadius,h=a.clipSector):(r=e,n=e,l=o.innerRadius,c=o.outerRadius),h??(h=new SectorBox3(r,n,l,c));const p=motion9.NODE_UPDATE_STATE_TO_PHASE_MAPPING[s];return{startAngle:r,endAngle:n,innerRadius:l,outerRadius:c,clipSector:h,phase:p}}}}function resetRadialBarSelectionsFn(e,t){return{centerX:0,centerY:0,innerRadius:t.innerRadius,outerRadius:t.outerRadius,startAngle:t.startAngle,endAngle:t.endAngle,clipSector:t.clipSector}}var{DEFAULT_POLAR_DIRECTION_KEYS:DEFAULT_POLAR_DIRECTION_KEYS3,DEFAULT_POLAR_DIRECTION_NAMES:DEFAULT_POLAR_DIRECTION_NAMES3,ChartAxisDirection:ChartAxisDirection18,PolarAxis:PolarAxis3,diff:diff7,groupAccumulativeValueProperty:groupAccumulativeValueProperty2,keyProperty:keyProperty9,normaliseGroupTo:normaliseGroupTo2,valueProperty:valueProperty15,fixNumericExtent:fixNumericExtent9,resetLabelFn:resetLabelFn6,seriesLabelFadeInAnimation:seriesLabelFadeInAnimation8,seriesLabelFadeOutAnimation:seriesLabelFadeOutAnimation2,animationValidation:animationValidation9,angleBetween:angleBetween3,createDatumId:createDatumId17,CategoryScale:CategoryScale4,Sector:Sector5,SectorBox:SectorBox4,motion:motion10,isGradientFill:isGradientFill3,applyShapeStyle:applyShapeStyle16,getShapeStyle:getShapeStyle16,updateLabelNode:updateLabelNode8,mergeDefaults:mergeDefaults17}=import_ag_charts_community136._ModuleSupport,RadialBarSeriesNodeEvent=class extends import_ag_charts_community136._ModuleSupport.SeriesNodeEvent{constructor(e,t,i,a){super(e,t,i,a),this.angleKey=a.properties.angleKey,this.radiusKey=a.properties.radiusKey}},RadialBarSeries=class extends import_ag_charts_community136._ModuleSupport.PolarSeries{constructor(e){super({moduleCtx:e,categoryKey:"radiusValue",propertyKeys:DEFAULT_POLAR_DIRECTION_KEYS3,propertyNames:DEFAULT_POLAR_DIRECTION_NAMES3,canHaveAxes:!0,animationResetFns:{item:resetRadialBarSelectionsFn,label:resetLabelFn6}}),this.properties=new RadialBarSeriesProperties,this.NodeEvent=RadialBarSeriesNodeEvent,this.groupScale=new CategoryScale4,this.circleCache={r:0,cx:0,cy:0}}get defaultShapeStyle(){const e=this.axes[ChartAxisDirection18.Angle]?.scale;return{...this.properties.fillGradientDefaults.toJson(),rotation:import_ag_charts_community136._ModuleSupport.toDegrees(e.range[0])+90}}nodeFactory(){return new Sector5}getSeriesDomain(e){const{dataModel:t,processedData:i}=this;if(!i||!t)return[];if(e===ChartAxisDirection18.Angle){const a=t.getDomain(this,"angleValue-end","value",i),o=[a[0]>0?0:a[0],a[1]<0?0:a[1]];return fixNumericExtent9(o)}else return t.getDomain(this,"radiusValue","key",i)}async processData(e){const{angleKey:t,radiusKey:i,normalizedTo:a}=this.properties,o=!this.ctx.animationManager.isSkipped(),s=this.getStackId(),r=`${s}-trailing`,n=[];(0,import_ag_charts_core47.isDefined)(a)&&n.push(normaliseGroupTo2([s,r],Math.abs(a))),o&&(this.processedData&&n.push(diff7(this.id,this.processedData)),n.push(animationValidation9()));const l=this.visible?{}:{forceValue:0},c=this.axes[ChartAxisDirection18.Radius]?.scale.type,h=this.axes[ChartAxisDirection18.Angle]?.scale.type;await this.requestDataModel(e,this.data,{props:[keyProperty9(i,c,{id:"radiusValue"}),valueProperty15(t,h,{id:"angleValue-raw",invalidValue:null,...l}),...groupAccumulativeValueProperty2(t,"normal","current",{id:"angleValue-end",rangeId:"angleValue-range",invalidValue:null,groupId:s,separateNegative:!0,...l},h),...groupAccumulativeValueProperty2(t,"trailing","current",{id:"angleValue-start",invalidValue:null,groupId:r,separateNegative:!0,...l},h),...n],groupByKeys:!0,groupByData:!1}),this.animationState.transition("updateData")}didCircleChange(){const e=this.radius,t=this.centerX,i=this.centerY,a=this.circleCache;return e===a.r&&t===a.cx&&i===a.cy?!1:(this.circleCache={r:e,cx:t,cy:i},!0)}maybeRefreshNodeData(){if(!this.didCircleChange()&&!this.nodeDataRefresh)return;const{nodeData:t=[]}=this.createNodeData()??{};this.nodeData=t,this.nodeDataRefresh=!1}getAxisInnerRadius(){const e=this.axes[ChartAxisDirection18.Radius];return e instanceof PolarAxis3?this.radius*e.innerRadiusRatio:0}createNodeData(){const{processedData:e,dataModel:t}=this;if(!t||!e||e.type!=="grouped")return;const i=this.axes[ChartAxisDirection18.Angle],a=this.axes[ChartAxisDirection18.Radius],o=i?.scale,s=a?.scale;if(!o||!s)return;const r=t.resolveKeysById(this,"radiusValue",e),n=t.resolveColumnById(this,"angleValue-start",e),l=t.resolveColumnById(this,"angleValue-end",e),c=t.resolveColumnById(this,"angleValue-raw",e),h=t.resolveProcessedDataIndexById(this,"angleValue-range");let p=0;a instanceof RadiusCategoryAxis&&(p=a.groupPaddingInner);const{groupScale:u}=this,{index:d,visibleGroupCount:y}=this.ctx.seriesStateManager.getVisiblePeerGroupIndex(this);u.domain=Array.from({length:y}).map((P,T)=>String(T)),u.range=[0,Math.abs(s.bandwidth??0)],u.paddingInner=y>1?p:0;const g=u.bandwidth>=1?u.bandwidth:u.rawBandwidth,m=i.isReversed(),f=a.isReversed(),b=f?this.radius:this.getAxisInnerRadius(),S=(f?this.getAxisInnerRadius():this.radius)+b,D=this.getSeriesDomain(ChartAxisDirection18.Angle),{angleKey:_,radiusKey:k,angleName:v,radiusName:A,label:I}=this.properties,M=(P,T,w,E)=>{const O=this.getLabelText(T,P,_,"angle",D,I,{value:T,datum:P,angleKey:_,radiusKey:k,angleName:v,radiusName:A});if(O)return{x:w,y:E,text:O,textAlign:"center",textBaseline:"middle"}},L=[],R={itemId:k,nodeData:L,labelData:L};if(!this.visible)return R;const{dataSources:C}=e,N=C.get(this.id)??[];for(const{datumIndex:P,group:T}of t.forEachGroupDatum(this,e)){const w=N[P],E=r[P];if(E==null)return;const O=c[P],F=n[P],B=l[P],G=O>=0&&!Object.is(O,-0),V=T.aggregation[h][G?1:0],K=G===m;let W=o.convert(F,{clamp:!0}),z=o.convert(B,{clamp:!0}),H=o.convert(0,{clamp:!0}),Y=o.convert(V,{clamp:!0});K&&([H,Y]=[Y,H],[W,z]=[z,W]);const $=S-s.convert(E)+u.convert(String(d)),q=$+g,J=($+q)/2,ee=W+angleBetween3(W,z)/2,U=Math.cos(ee)*J,X=Math.sin(ee)*J,ie=this.properties.label.enabled?M(w,O,U,X):void 0,Z=new SectorBox4(W,z,$,q);L.push({series:this,datum:w,datumIndex:P,point:{x:U,y:X,size:0},midPoint:{x:U,y:X},label:ie,angleValue:O,radiusValue:E,innerRadius:$,outerRadius:q,startAngle:H,endAngle:Y,clipSector:Z,reversed:K,index:P})}return R}update({seriesRect:e}){const t=this.checkResize(e);this.maybeRefreshNodeData(),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),this.updateSectorSelection(this.itemSelection,!1),this.updateSectorSelection(this.highlightSelection,!0),this.updateLabels(),t&&this.animationState.transition("resize"),this.animationState.transition("update")}getItemStyle(e,t){const{id:i,properties:a}=this,{angleKey:o,radiusKey:s,itemStyler:r,fillGradientDefaults:n,fillPatternDefaults:l,fillImageDefaults:c}=a,h=this.getHighlightStyle(t,e.datumIndex),p=mergeDefaults17(h,a.getStyle());let u=getShapeStyle16(p,n,l,c);if(r!=null&&e!=null){const d=this.cachedDatumCallback(createDatumId17(this.getDatumId(e),t?"highlight":"node"),()=>{const y=this.ctx.highlightManager?.getActiveHighlight(),g=this.getHighlightStateString(y,t,e.datumIndex);return this.callWithContext(r,{seriesId:i,datum:e.datum,highlighted:t,highlightState:g,angleKey:o,radiusKey:s,...u})});d&&(u=getShapeStyle16(mergeDefaults17(d,u),n,l,c))}return u}updateSectorSelection(e,t){let i=[];if(t){const o=this.ctx.highlightManager?.getActiveHighlight();o?.datum&&o.series===this&&i.push(o)}else i=this.nodeData;const a=this.getShapeFillBBox();e.update(i,void 0,o=>this.getDatumId(o)).each((o,s)=>{const r=readDatum(s);if(r==null)return;const n=this.getItemStyle(s,t),l=n.cornerRadius,c=n.fill,h=import_ag_charts_community136._ModuleSupport.isGradientFill(c)&&c.bounds!=="item"?{centerX:0,centerY:0}:void 0;applyShapeStyle16(o,n,a,h),o.lineJoin="round",o.inset=o.stroke!=null?o.strokeWidth/2:0,o.startInnerCornerRadius=r.reversed?l:0,o.startOuterCornerRadius=r.reversed?l:0,o.endInnerCornerRadius=r.reversed?0:l,o.endOuterCornerRadius=r.reversed?0:l,t&&(o.startAngle=s.startAngle,o.endAngle=s.endAngle,o.clipSector=s.clipSector,o.innerRadius=s.innerRadius,o.outerRadius=s.outerRadius)})}updateLabels(){this.labelSelection.update(this.nodeData).each((e,t)=>{const a=this.ctx.highlightManager?.getActiveHighlight(),o=this.getHighlightStateString(a,!1,t.datumIndex);updateLabelNode8(this,e,this.properties,this.properties.label,t.label,!1,o),e.fillOpacity=this.getHighlightStyle(!1,t.datumIndex).opacity??1})}getBarTransitionFunctions(){const e=this.axes[ChartAxisDirection18.Angle]?.scale;let t=0;if(!e)return prepareRadialBarSeriesAnimationFunctions(t);const i=Math.min(e.domain[0],e.domain[1]),a=Math.max(e.domain[0],e.domain[1]);return i<=0&&a>=0&&(t=e.convert(0)),prepareRadialBarSeriesAnimationFunctions(t)}animateEmptyUpdateReady(){const{labelSelection:e}=this,t=this.getBarTransitionFunctions();motion10.fromToMotion(this.id,"datums",this.ctx.animationManager,[this.itemSelection],t),seriesLabelFadeInAnimation8(this,"labels",this.ctx.animationManager,e)}animateClearingUpdateEmpty(){const{itemSelection:e}=this,{animationManager:t}=this.ctx,i=this.getBarTransitionFunctions();motion10.fromToMotion(this.id,"datums",t,[e],i),seriesLabelFadeOutAnimation2(this,"labels",t,this.labelSelection)}getTooltipContent(e){const{id:t,dataModel:i,processedData:a,axes:o,properties:s}=this,{angleKey:r,angleName:n,radiusKey:l,radiusName:c,tooltip:h}=s,p=o[ChartAxisDirection18.Angle],u=o[ChartAxisDirection18.Radius],d=this.nodeData?.[e];if(!i||!a||!p||!u||!d)return;const y=a.dataSources.get(this.id)?.[e],g=i.resolveKeysById(this,"radiusValue",a)[e],m=i.resolveColumnById(this,"angleValue-raw",a)[e];if(g==null)return;const f=this.getItemStyle(d,!1);return this.formatTooltipWithContext(h,{heading:this.getAxisValueText(u,"tooltip",g,y,l,void 0),symbol:this.legendItemSymbol(),data:[{label:n,fallbackLabel:r,value:this.getAxisValueText(p,"tooltip",m,y,r,void 0)}]},{seriesId:t,datum:y,title:n,angleKey:r,angleName:n,radiusKey:l,radiusName:c,...f})}pickNodeClosestDatum(e){return this.pickNodeNearestDistantObject(e,this.itemSelection.nodes())}legendItemSymbol(){const{fill:e,stroke:t,fillOpacity:i,strokeOpacity:a,strokeWidth:o,lineDash:s,lineDashOffset:r,fillPatternDefaults:n,fillImageDefaults:l}=this.properties,c=getShapeStyle16({fill:e??"rgba(0, 0, 0, 0)",stroke:t??"rgba(0, 0, 0, 0)",fillOpacity:i,strokeOpacity:a,strokeWidth:o,lineDash:s,lineDashOffset:r},this.defaultShapeStyle,n,l);return isGradientFill3(c.fill)&&(c.fill={...c.fill,gradient:"linear",rotation:0,reverse:!1}),{marker:c}}getLegendData(e){if(e!=="category")return[];const{id:t,visible:i}=this,{angleKey:a,angleName:o,showInLegend:s}=this.properties;return[{legendType:"category",id:t,itemId:a,seriesId:t,enabled:i,label:{text:o??a},symbol:this.legendItemSymbol(),hideInLegend:!s}]}getDatumId(e){return createDatumId17(e.radiusValue)}computeLabelsBBox(){return null}getStackId(){return`radialBar-stack-${this.seriesGrouping?.groupIndex??this.id}-xValues`}hasItemStylers(){return this.properties.itemStyler!=null}};RadialBarSeries.className="RadialBarSeries",RadialBarSeries.type="radial-bar";var import_ag_charts_community137=require("ag-charts-community"),import_ag_charts_core48=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs19,radialBarSeriesThemeableOptionsDef}=import_ag_charts_community137._ModuleSupport,radialBarSeriesOptionsDef={...commonSeriesOptionsDefs19,...radialBarSeriesThemeableOptionsDef,type:(0,import_ag_charts_core48.required)((0,import_ag_charts_core48.constant)("radial-bar")),angleKey:(0,import_ag_charts_core48.required)(import_ag_charts_core48.string),radiusKey:(0,import_ag_charts_core48.required)(import_ag_charts_core48.string),angleName:import_ag_charts_core48.string,radiusName:import_ag_charts_core48.string,grouped:import_ag_charts_core48.boolean,stacked:import_ag_charts_core48.boolean,stackGroup:import_ag_charts_core48.string,normalizedTo:import_ag_charts_core48.number},import_ag_charts_community138=require("ag-charts-community"),{ThemeConstants:{POLAR_AXIS_TYPE:POLAR_AXIS_TYPE6}}=import_ag_charts_community138._ModuleSupport,RADIAL_BAR_SERIES_THEME={series:{fill:{$palette:"fill"},stroke:{$palette:"stroke"},fillGradientDefaults:import_ag_charts_community138._ModuleSupport.FILL_GRADIENT_CONIC_DEFAULTS,fillPatternDefaults:import_ag_charts_community138._ModuleSupport.FILL_PATTERN_DEFAULTS,fillImageDefaults:import_ag_charts_community138._ModuleSupport.FILL_IMAGE_DEFAULTS,strokeWidth:{$isUserOption:["./stroke",1,0]},label:{...import_ag_charts_community138._ModuleSupport.LABEL_BOXING_DEFAULTS,enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"chartBackgroundColor"}},highlight:import_ag_charts_community138._ModuleSupport.multiSeriesHighlightStyle()},axes:{[POLAR_AXIS_TYPE6.RADIUS_CATEGORY]:{innerRadiusRatio:.2,groupPaddingInner:.2,paddingInner:.2,paddingOuter:.1}}},{POLAR_AXIS_TYPE:POLAR_AXIS_TYPE7}=import_ag_charts_community139._ModuleSupport.ThemeConstants,RadialBarModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["polar"],identifier:"radial-bar",moduleFactory:e=>new RadialBarSeries(e),defaultAxes:[{type:POLAR_AXIS_TYPE7.ANGLE_NUMBER},{type:POLAR_AXIS_TYPE7.RADIUS_CATEGORY}],themeTemplate:RADIAL_BAR_SERIES_THEME,stackable:!0,groupable:!0},RadialBarSeriesModule={type:"series",name:"radial-bar",chartType:"polar",enterprise:!0,options:radialBarSeriesOptionsDef,create:e=>new RadialBarSeries(e)},import_ag_charts_community144=require("ag-charts-community"),import_ag_charts_community141=require("ag-charts-community"),import_ag_charts_community140=require("ag-charts-community"),{Property:Property35}=import_ag_charts_community140._ModuleSupport,RadialColumnSeriesProperties=class extends RadialColumnSeriesBaseProperties{};__decorateClass([Property35],RadialColumnSeriesProperties.prototype,"columnWidthRatio",2),__decorateClass([Property35],RadialColumnSeriesProperties.prototype,"maxColumnWidthRatio",2);var{ChartAxisDirection:ChartAxisDirection19,PolarAxis:PolarAxis4,RadialColumnShape,getRadialColumnWidth}=import_ag_charts_community141._ModuleSupport,RadialColumnSeries=class extends RadialColumnSeriesBase{constructor(e){super(e,{animationResetFns:{item:resetRadialColumnSelectionFn}}),this.properties=new RadialColumnSeriesProperties}getStackId(){return`radarColumn-stack-${this.seriesGrouping?.groupIndex??this.id}-yValues`}nodeFactory(){return new RadialColumnShape}getColumnTransitionFunctions(){const e=this.isRadiusAxisReversed()?this.radius:this.getAxisInnerRadius();return prepareRadialColumnAnimationFunctions(e)}isRadiusAxisCircle(){const e=this.axes[ChartAxisDirection19.Radius];return e instanceof PolarAxis4?e.shape==="circle":!1}updateItemPath(e,t,i){e.isBeveled=this.isRadiusAxisCircle(),e.isRadiusAxisReversed=this.isRadiusAxisReversed(),i&&(e.innerRadius=t.innerRadius,e.outerRadius=t.outerRadius,e.startAngle=t.startAngle,e.endAngle=t.endAngle,e.columnWidth=t.columnWidth,e.axisInnerRadius=t.axisInnerRadius,e.axisOuterRadius=t.axisOuterRadius)}getColumnWidth(e,t){const{columnWidthRatio:i=.5,maxColumnWidthRatio:a=.5}=this.properties;return getRadialColumnWidth(e,t,this.radius,i,a)}hasItemStylers(){return this.properties.itemStyler!=null}};RadialColumnSeries.className="RadialColumnSeries",RadialColumnSeries.type="radial-column";var import_ag_charts_community142=require("ag-charts-community"),import_ag_charts_core49=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs20,radialColumnSeriesThemeableOptionsDef}=import_ag_charts_community142._ModuleSupport,radialColumnSeriesOptionsDef={...commonSeriesOptionsDefs20,...radialColumnSeriesThemeableOptionsDef,type:(0,import_ag_charts_core49.required)((0,import_ag_charts_core49.constant)("radial-column")),angleKey:(0,import_ag_charts_core49.required)(import_ag_charts_core49.string),radiusKey:(0,import_ag_charts_core49.required)(import_ag_charts_core49.string),angleName:import_ag_charts_core49.string,radiusName:import_ag_charts_core49.string,grouped:import_ag_charts_core49.boolean,stacked:import_ag_charts_core49.boolean,stackGroup:import_ag_charts_core49.string,normalizedTo:import_ag_charts_core49.number},import_ag_charts_community143=require("ag-charts-community"),{ThemeConstants:{POLAR_AXIS_TYPE:POLAR_AXIS_TYPE8,POLAR_AXIS_SHAPE:POLAR_AXIS_SHAPE2}}=import_ag_charts_community143._ModuleSupport,RADIAL_COLUMN_SERIES_THEME={series:{fill:{$palette:"fill"},stroke:{$palette:"stroke"},fillGradientDefaults:import_ag_charts_community143._ModuleSupport.FILL_GRADIENT_RADIAL_SERIES_DEFAULTS,fillPatternDefaults:import_ag_charts_community143._ModuleSupport.FILL_PATTERN_DEFAULTS,fillImageDefaults:import_ag_charts_community143._ModuleSupport.FILL_IMAGE_DEFAULTS,columnWidthRatio:.5,maxColumnWidthRatio:.5,strokeWidth:{$isUserOption:["./stroke",1,0]},label:{...import_ag_charts_community143._ModuleSupport.LABEL_BOXING_DEFAULTS,enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}},highlight:import_ag_charts_community143._ModuleSupport.multiSeriesHighlightStyle()},axes:{[POLAR_AXIS_TYPE8.ANGLE_CATEGORY]:{shape:{$findFirstSiblingNotOperation:POLAR_AXIS_SHAPE2.CIRCLE},groupPaddingInner:0,paddingInner:0,label:{spacing:10}},[POLAR_AXIS_TYPE8.RADIUS_NUMBER]:{shape:{$findFirstSiblingNotOperation:POLAR_AXIS_SHAPE2.CIRCLE},innerRadiusRatio:.5}}},{POLAR_AXIS_TYPE:POLAR_AXIS_TYPE9}=import_ag_charts_community144._ModuleSupport.ThemeConstants,RadialColumnModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["polar"],identifier:"radial-column",moduleFactory:e=>new RadialColumnSeries(e),defaultAxes:[{type:POLAR_AXIS_TYPE9.ANGLE_CATEGORY},{type:POLAR_AXIS_TYPE9.RADIUS_NUMBER}],themeTemplate:RADIAL_COLUMN_SERIES_THEME,stackable:!0,groupable:!0},RadialColumnSeriesModule={type:"series",name:"radial-column",chartType:"polar",enterprise:!0,options:radialColumnSeriesOptionsDef,create:e=>new RadialColumnSeries(e)},import_ag_charts_community149=require("ag-charts-community"),import_ag_charts_community148=require("ag-charts-community"),import_ag_charts_community145=require("ag-charts-community"),{SvgPath,Rotatable,Translatable,Scalable}=import_ag_charts_community145._ModuleSupport,RadialGaugeNeedle=class extends Rotatable(Scalable(Translatable(SvgPath))){constructor(){super(...arguments),this.scalingCenterX=.5,this.scalingCenterY=.5,this.rotationCenterX=.5,this.rotationCenterY=.5}};RadialGaugeNeedle.defaultPathData="M0.50245 0.53745C0.481767 0.53745 0.465 0.520683 0.465 0.5C0.465 0.479317 0.481767 0.46255 0.50245 0.46255L1 0.500012L0.50245 0.53745Z";var import_ag_charts_community146=require("ag-charts-community"),{BaseProperties:BaseProperties10,makeSeriesTooltip:makeSeriesTooltip21,SeriesProperties:SeriesProperties12,PropertiesArray:PropertiesArray3,AxisLabel:AxisLabel4,Property:Property36,Label:Label14}=import_ag_charts_community146._ModuleSupport,RadialGaugeDefaultTargetLabelProperties=class extends Label14{};__decorateClass([Property36],RadialGaugeDefaultTargetLabelProperties.prototype,"spacing",2);var RadialGaugeTargetProperties=class extends BaseProperties10{constructor(){super(...arguments),this.label=new RadialGaugeDefaultTargetLabelProperties}};__decorateClass([Property36],RadialGaugeTargetProperties.prototype,"text",2),__decorateClass([Property36],RadialGaugeTargetProperties.prototype,"value",2),__decorateClass([Property36],RadialGaugeTargetProperties.prototype,"shape",2),__decorateClass([Property36],RadialGaugeTargetProperties.prototype,"placement",2),__decorateClass([Property36],RadialGaugeTargetProperties.prototype,"spacing",2),__decorateClass([Property36],RadialGaugeTargetProperties.prototype,"size",2),__decorateClass([Property36],RadialGaugeTargetProperties.prototype,"rotation",2),__decorateClass([Property36],RadialGaugeTargetProperties.prototype,"fill",2),__decorateClass([Property36],RadialGaugeTargetProperties.prototype,"fillOpacity",2),__decorateClass([Property36],RadialGaugeTargetProperties.prototype,"stroke",2),__decorateClass([Property36],RadialGaugeTargetProperties.prototype,"strokeWidth",2),__decorateClass([Property36],RadialGaugeTargetProperties.prototype,"strokeOpacity",2),__decorateClass([Property36],RadialGaugeTargetProperties.prototype,"lineDash",2),__decorateClass([Property36],RadialGaugeTargetProperties.prototype,"lineDashOffset",2),__decorateClass([Property36],RadialGaugeTargetProperties.prototype,"label",2);var RadialGaugeBarProperties=class extends BaseProperties10{constructor(){super(...arguments),this.enabled=!0,this.fills=new PropertiesArray3(import_ag_charts_community146._ModuleSupport.StopProperties),this.fillMode="continuous",this.fillOpacity=1,this.stroke="black",this.strokeWidth=0,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0}};__decorateClass([Property36],RadialGaugeBarProperties.prototype,"enabled",2),__decorateClass([Property36],RadialGaugeBarProperties.prototype,"fills",2),__decorateClass([Property36],RadialGaugeBarProperties.prototype,"fillMode",2),__decorateClass([Property36],RadialGaugeBarProperties.prototype,"fill",2),__decorateClass([Property36],RadialGaugeBarProperties.prototype,"fillOpacity",2),__decorateClass([Property36],RadialGaugeBarProperties.prototype,"stroke",2),__decorateClass([Property36],RadialGaugeBarProperties.prototype,"strokeWidth",2),__decorateClass([Property36],RadialGaugeBarProperties.prototype,"strokeOpacity",2),__decorateClass([Property36],RadialGaugeBarProperties.prototype,"lineDash",2),__decorateClass([Property36],RadialGaugeBarProperties.prototype,"lineDashOffset",2);var RadialGaugeScaleIntervalProperties=class extends BaseProperties10{constructor(){super(...arguments),this.values=void 0,this.step=void 0,this.minSpacing=0,this.maxSpacing=1e3}};__decorateClass([Property36],RadialGaugeScaleIntervalProperties.prototype,"values",2),__decorateClass([Property36],RadialGaugeScaleIntervalProperties.prototype,"step",2),__decorateClass([Property36],RadialGaugeScaleIntervalProperties.prototype,"minSpacing",2),__decorateClass([Property36],RadialGaugeScaleIntervalProperties.prototype,"maxSpacing",2);var RadialGaugeScaleLabelProperties=class extends AxisLabel4{},RadialGaugeScaleProperties=class extends BaseProperties10{constructor(){super(...arguments),this.min=0,this.max=1,this.fills=new PropertiesArray3(import_ag_charts_community146._ModuleSupport.StopProperties),this.fillMode="continuous",this.fillOpacity=1,this.stroke="black",this.strokeWidth=0,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.defaultFill="black",this.interval=new RadialGaugeScaleIntervalProperties,this.label=new RadialGaugeScaleLabelProperties}};__decorateClass([Property36],RadialGaugeScaleProperties.prototype,"min",2),__decorateClass([Property36],RadialGaugeScaleProperties.prototype,"max",2),__decorateClass([Property36],RadialGaugeScaleProperties.prototype,"fills",2),__decorateClass([Property36],RadialGaugeScaleProperties.prototype,"fillMode",2),__decorateClass([Property36],RadialGaugeScaleProperties.prototype,"fill",2),__decorateClass([Property36],RadialGaugeScaleProperties.prototype,"fillOpacity",2),__decorateClass([Property36],RadialGaugeScaleProperties.prototype,"stroke",2),__decorateClass([Property36],RadialGaugeScaleProperties.prototype,"strokeWidth",2),__decorateClass([Property36],RadialGaugeScaleProperties.prototype,"strokeOpacity",2),__decorateClass([Property36],RadialGaugeScaleProperties.prototype,"lineDash",2),__decorateClass([Property36],RadialGaugeScaleProperties.prototype,"lineDashOffset",2),__decorateClass([Property36],RadialGaugeScaleProperties.prototype,"defaultFill",2),__decorateClass([Property36],RadialGaugeScaleProperties.prototype,"interval",2),__decorateClass([Property36],RadialGaugeScaleProperties.prototype,"label",2);var RadialGaugeNeedleProperties=class extends BaseProperties10{constructor(){super(...arguments),this.enabled=!0,this.spacing=0,this.fill="black",this.fillOpacity=1,this.stroke="black",this.strokeWidth=0,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0}};__decorateClass([Property36],RadialGaugeNeedleProperties.prototype,"enabled",2),__decorateClass([Property36],RadialGaugeNeedleProperties.prototype,"radiusRatio",2),__decorateClass([Property36],RadialGaugeNeedleProperties.prototype,"spacing",2),__decorateClass([Property36],RadialGaugeNeedleProperties.prototype,"fill",2),__decorateClass([Property36],RadialGaugeNeedleProperties.prototype,"fillOpacity",2),__decorateClass([Property36],RadialGaugeNeedleProperties.prototype,"stroke",2),__decorateClass([Property36],RadialGaugeNeedleProperties.prototype,"strokeWidth",2),__decorateClass([Property36],RadialGaugeNeedleProperties.prototype,"strokeOpacity",2),__decorateClass([Property36],RadialGaugeNeedleProperties.prototype,"lineDash",2),__decorateClass([Property36],RadialGaugeNeedleProperties.prototype,"lineDashOffset",2);var RadialGaugeLabelProperties=class extends AutoSizedLabel{};__decorateClass([Property36],RadialGaugeLabelProperties.prototype,"text",2);var RadialGaugeSecondaryLabelProperties=class extends AutoSizedSecondaryLabel{};__decorateClass([Property36],RadialGaugeSecondaryLabelProperties.prototype,"text",2);var RadialGaugeSeriesProperties=class extends SeriesProperties12{constructor(){super(...arguments),this.startAngle=0,this.endAngle=0,this.segmentation=new GaugeSegmentationProperties,this.defaultColorRange=[],this.targets=new PropertiesArray3(RadialGaugeTargetProperties),this.defaultTarget=new RadialGaugeTargetProperties,this.outerRadiusRatio=1,this.innerRadiusRatio=1,this.cornerRadius=0,this.cornerMode="container",this.spacing=0,this.scale=new RadialGaugeScaleProperties,this.bar=new RadialGaugeBarProperties,this.needle=new RadialGaugeNeedleProperties,this.label=new RadialGaugeLabelProperties,this.secondaryLabel=new RadialGaugeSecondaryLabelProperties,this.tooltip=makeSeriesTooltip21()}};__decorateClass([Property36],RadialGaugeSeriesProperties.prototype,"value",2),__decorateClass([Property36],RadialGaugeSeriesProperties.prototype,"startAngle",2),__decorateClass([Property36],RadialGaugeSeriesProperties.prototype,"endAngle",2),__decorateClass([Property36],RadialGaugeSeriesProperties.prototype,"segmentation",2),__decorateClass([Property36],RadialGaugeSeriesProperties.prototype,"defaultColorRange",2),__decorateClass([Property36],RadialGaugeSeriesProperties.prototype,"targets",2),__decorateClass([Property36],RadialGaugeSeriesProperties.prototype,"defaultTarget",2),__decorateClass([Property36],RadialGaugeSeriesProperties.prototype,"outerRadiusRatio",2),__decorateClass([Property36],RadialGaugeSeriesProperties.prototype,"innerRadiusRatio",2),__decorateClass([Property36],RadialGaugeSeriesProperties.prototype,"outerRadius",2),__decorateClass([Property36],RadialGaugeSeriesProperties.prototype,"innerRadius",2),__decorateClass([Property36],RadialGaugeSeriesProperties.prototype,"cornerRadius",2),__decorateClass([Property36],RadialGaugeSeriesProperties.prototype,"cornerMode",2),__decorateClass([Property36],RadialGaugeSeriesProperties.prototype,"spacing",2),__decorateClass([Property36],RadialGaugeSeriesProperties.prototype,"scale",2),__decorateClass([Property36],RadialGaugeSeriesProperties.prototype,"bar",2),__decorateClass([Property36],RadialGaugeSeriesProperties.prototype,"needle",2),__decorateClass([Property36],RadialGaugeSeriesProperties.prototype,"label",2),__decorateClass([Property36],RadialGaugeSeriesProperties.prototype,"secondaryLabel",2),__decorateClass([Property36],RadialGaugeSeriesProperties.prototype,"tooltip",2);var import_ag_charts_community147=require("ag-charts-community"),{SectorBox:SectorBox5}=import_ag_charts_community147._ModuleSupport;function computeClipSector(e){const{startAngle:t,endAngle:i,clipStartAngle:a,clipEndAngle:o,innerRadius:s,outerRadius:r}=e;if(!(a==null||o==null))return new SectorBox5(Math.max(a,t),Math.min(o,i),s,r)}function clipSectorVisibility(e,t,i){return Math.max(e,i.startAngle)<=Math.min(t,i.endAngle)}function hasClipSector(e){return e.clipStartAngle!=null&&e.clipEndAngle!=null}function datumClipSector(e,t){const{clipStartAngle:i,clipEndAngle:a,innerRadius:o,outerRadius:s}=e;return new SectorBox5(i,t?i:a,o,s)}function prepareRadialGaugeSeriesAnimationFunctions(e,t){const i=e?"initial":"update";return{node:{fromFn(s,r){const n=s.previousDatum;let{startAngle:l,endAngle:c}=n??r;const h=n!=null&&hasClipSector(n)?datumClipSector(n,e):void 0,p=hasClipSector(r)?datumClipSector(r,e):void 0;let u;return h!=null&&p!=null?u=h:h==null&&p!=null?(u=p,l=r.startAngle,c=r.endAngle):h!=null&&p==null?(u=void 0,l=r.startAngle,c=r.endAngle):e&&(c=l),{startAngle:l,endAngle:c,clipSector:u,phase:i}},toFn(s,r){const{startAngle:n,endAngle:l}=r;let c;return hasClipSector(r)&&(c=datumClipSector(r,!1)),{startAngle:n,endAngle:l,clipSector:c}},applyFn(s,r){const{startAngle:n,endAngle:l}=r;let{clipSector:c}=r;c!=null&&(c=new SectorBox5(Math.max(n,c.startAngle),Math.min(l,c.endAngle),c.innerRadius,c.outerRadius));const h=c==null||clipSectorVisibility(n,l,c);s.startAngle=n,s.endAngle=l,s.clipSector=c,s.visible=h}},needle:{fromFn(s){let{angle:r}=s.previousDatum??s.datum;return e&&(r=t),{rotation:r,phase:i}},toFn(s,r){const{angle:n}=r;return{rotation:n}}}}}function resetRadialGaugeSeriesResetSectorFunction(e,t){const{startAngle:i,endAngle:a}=t,o=computeClipSector(t),s=o==null||clipSectorVisibility(i,a,o);return{startAngle:i,endAngle:a,clipSector:o,visible:s}}function resetRadialGaugeSeriesResetNeedleFunction(e,t){const{angle:i}=t;return{rotation:i}}var verticalAlignFactors3={top:0,middle:.5,bottom:1};function formatRadialGaugeLabels(e,t,i,a,o,s){const{padding:r,textAlign:n,verticalAlign:l}=a;let c,h;if(i.each((D,_)=>{_.label==="primary"?c=_:_.label==="secondary"&&(h=_)}),c==null)return;const p=getLabelText(e.id,t,c,s?.label);if(p==null)return;const u=h!=null?getLabelText(e.id,t,h,s?.secondaryLabel):void 0,d={padding:r},y=n==="center"?2:1,g=l==="middle"?2:1,m=D=>({width:Math.sqrt(Math.max(o**2-(D/g)**2,0))*y,height:Math.min(D,g*o),meta:null});let f,b,x;if(h!=null&&u!=null){const D=formatStackedLabels(p,c,u,h,d,m);f=D?.label,b=D?.secondaryLabel,x=D?.height??0}else{const D=formatSingleLabel(p,c,d,m);f=D?.[0],b=void 0,x=D?.[0].height??0}const S=x*verticalAlignFactors3[l];i.each((D,_)=>{let k;if(_.label==="primary"?k=f:_.label==="secondary"&&(k=b),k==null){D.visible=!1;return}D.visible=!0,D.text=k.text,D.fontSize=k.fontSize,D.lineHeight=k.lineHeight,D.textAlign=n,D.textBaseline="middle";const v=_.label==="primary"?k.height/2:x-k.height/2;D.y=_.centerY+v-S,D.x=_.centerX})}var{fromToMotion:fromToMotion5,resetMotion:resetMotion4,CachedTextMeasurerPool:CachedTextMeasurerPool9,SeriesNodePickMode:SeriesNodePickMode15,StateMachine:StateMachine4,createDatumId:createDatumId18,normalizeAngle360:normalizeAngle3606,normalizeAngle360Inclusive:normalizeAngle360Inclusive2,isBetweenAngles:isBetweenAngles2,sectorBox,toDegrees,toRadians:toRadians4,BBox:BBox14,Group:Group15,PointerEvents:PointerEvents12,Selection:Selection15,Sector:Sector6,SectorBox:SectorBox6,Text:Text7,Marker:Marker5,getColorStops:getColorStops2,tickFormat:tickFormat2,applyShapeStyle:applyShapeStyle17,mergeDefaults:mergeDefaults18}=import_ag_charts_community148._ModuleSupport,targetPlacementRotation={inside:90,middle:0,outside:-90},outsideLabelPlacements=[{textAlign:"left",textBaseline:"top"},{textAlign:"right",textBaseline:"top"},{textAlign:"right",textBaseline:"bottom"},{textAlign:"left",textBaseline:"bottom"}],insideLabelPlacements=[{textAlign:"right",textBaseline:"bottom"},{textAlign:"left",textBaseline:"bottom"},{textAlign:"left",textBaseline:"top"},{textAlign:"right",textBaseline:"top"}],RadialGaugeSeries=class extends import_ag_charts_community148._ModuleSupport.Series{constructor(e){super({moduleCtx:e,pickModes:[SeriesNodePickMode15.EXACT_SHAPE_MATCH,SeriesNodePickMode15.NEAREST_NODE]}),this.centerX=0,this.centerY=0,this.radius=0,this.textAlign="center",this.verticalAlign="middle",this.properties=new RadialGaugeSeriesProperties,this.scale=new LinearAngleScale,this.scaleGroup=this.contentGroup.appendChild(new Group15({name:"scaleGroup"})),this.itemGroup=this.contentGroup.appendChild(new Group15({name:"itemGroup"})),this.itemNeedleGroup=this.contentGroup.appendChild(new Group15({name:"itemNeedleGroup"})),this.itemTargetGroup=this.contentGroup.appendChild(new Group15({name:"itemTargetGroup"})),this.itemTargetLabelGroup=this.contentGroup.appendChild(new Group15({name:"itemTargetLabelGroup"})),this.itemLabelGroup=this.contentGroup.appendChild(new Group15({name:"itemLabelGroup"})),this.highlightTargetGroup=this.highlightGroup.appendChild(new Group15({name:"itemTargetLabelGroup"})),this.tickGroup=this.contentGroup.appendChild(new Group15({name:"tickGroup"})),this.scaleSelection=Selection15.select(this.scaleGroup,()=>this.nodeFactory()),this.datumSelection=Selection15.select(this.itemGroup,()=>this.nodeFactory()),this.needleSelection=Selection15.select(this.itemNeedleGroup,RadialGaugeNeedle),this.targetSelection=Selection15.select(this.itemTargetGroup,()=>this.markerFactory()),this.targetLabelSelection=Selection15.select(this.itemTargetLabelGroup,Text7),this.labelSelection=Selection15.select(this.itemLabelGroup,Text7),this.highlightTargetSelection=Selection15.select(this.highlightTargetGroup,()=>this.markerFactory()),this.tickSelection=Selection15.select(this.tickGroup,import_ag_charts_community148._ModuleSupport.TransformableText),this.datumUnion=new DatumUnion,this.animationState=new StateMachine4("empty",{empty:{update:{target:"ready",action:()=>this.animateEmptyUpdateReady()},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",resize:()=>this.animateReadyResize(),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:()=>this.animateWaitingUpdateReady()},reset:"empty",skip:"ready"},clearing:{update:{target:"empty"},reset:"empty",skip:"ready"}}),this.scaleGroup.pointerEvents=PointerEvents12.None,this.tickGroup.pointerEvents=PointerEvents12.None,this.itemNeedleGroup.pointerEvents=PointerEvents12.None,this.itemLabelGroup.pointerEvents=PointerEvents12.None}get hasData(){return this.properties.value!=null}nodeFactory(){return new Sector6}markerFactory(){const e=new Marker5;return e.size=1,e}processData(){this.nodeDataRefresh=!0,this.animationState.transition("updateData")}formatLabel(e){const{min:t,max:i}=this.properties.scale;return formatLabel(e,{min:t,max:i})}layoutScale(){const{scale:e,properties:t}=this,{seriesRectWidth:i,seriesRectHeight:a}=this.nodeDataDependencies,{scale:o,outerRadius:s}=this.properties,{min:r,max:n,label:l,interval:c}=o,h=toRadians4(t.startAngle-90),p=toRadians4(t.endAngle-90),d=normalizeAngle360Inclusive2(p-h)>Math.PI,y=d||isBetweenAngles2(1.5*Math.PI,h,p),g=d||isBetweenAngles2(0*Math.PI,h,p),m=d||isBetweenAngles2(.5*Math.PI,h,p),f=d||isBetweenAngles2(1*Math.PI,h,p);let b;f&&!g?b="right":!f&&g?b="left":b="center";let x;y&&!m?x="bottom":!y&&m?x="top":x="middle";const S=sectorBox({startAngle:h,endAngle:p,innerRadius:0,outerRadius:.5}),D=-(S.x+S.width/2)*2,_=-(S.y+S.height/2)*2,k=Math.min(i/S.width,a/S.height);e.domain=[r,n],e.range=[h,p],e.arcLength=k/2;const{maxSpacing:v,minSpacing:A}=c,{arcLength:I}=e,M=v?Math.floor(I/v):1,L=A?Math.floor(I/A):1/0,R=Math.floor(4/Math.PI*Math.abs(e.range[0]-e.range[1])),C=Math.max(M,Math.min(L,R)),N=c.values??e.ticks({nice:!1,interval:c.step,minTickCount:M,maxTickCount:L,tickCount:C})?.ticks??[],P=tickFormat2(N,typeof l.format=="string"?l.format:void 0),T=CachedTextMeasurerPool9.getMeasurer({font:l}),w=N.map((V,K)=>{let W;if(l.formatter&&(W=formatWithContext(this.ctx,l.formatter,{value:V,index:K,domain:e.domain,boundSeries:void 0})),W??(W=P?.(V)),W==null)return;const{width:z,height:H}=T.measureText(W);return{index:K,value:V,text:W,width:z,height:H}}).filter(V=>V!=null),E=w.reduce((V,K)=>Math.max(V,K.width),0),O=w.reduce((V,K)=>Math.max(V,K.height),0),F=l.enabled?Math.max(E,O)+l.spacing:0,B=Math.max(.5*k-F,0),G=s??B;return this.centerX=i/2+D*G,this.centerY=a/2+_*G,this.radius=G,this.textAlign=b,this.verticalAlign=x,w}createConicGradient(e,t){const{scale:i}=this,{domain:a,range:o}=i,[s,r]=o,{defaultColorRange:n}=this.properties,l=normalizeAngle3606((s+r)/2+Math.PI),c=normalizeAngle360Inclusive2(r-s);return{type:"gradient",gradient:"conic",colorSpace:"oklch",colorStops:getColorStops2(e,n,a,t).map(({color:p,stop:u})=>(u=Math.min(Math.max(u,0),1),u=(s+c*u-l)/(2*Math.PI),u=(u%1+1)%1,{stop:u,color:p})),rotation:toDegrees(l)+90}}getShapeFillBBox(){const{centerX:e,centerY:t,radius:i}=this;return new BBox14(e-i,t-i,2*i,2*i)}getTargets(){const{properties:e}=this,t=e.defaultTarget;return Array.from(e.targets).map(i=>{const{text:a=t.text,value:o=t.value??0,shape:s=t.shape??"triangle",rotation:r=t.rotation??0,strokeWidth:n=t.strokeWidth??0,placement:l=t.placement??"middle",spacing:c=t.spacing??0,size:h=t.size??0,fill:p=t.fill??"black",fillOpacity:u=t.fillOpacity??1,stroke:d=t.stroke??"black",strokeOpacity:y=t.strokeOpacity??1,lineDash:g=t.lineDash??[0],lineDashOffset:m=t.lineDashOffset??0}=i,{enabled:f=t.label.enabled,color:b=t.label.color??"black",fontStyle:x=t.label.fontStyle??"normal",fontWeight:S=t.label.fontWeight??"normal",fontSize:D=t.label.fontSize,fontFamily:_=t.label.fontFamily,spacing:k=t.label.spacing??0}=i.label;return{text:a,value:o,shape:s,placement:l,spacing:c,size:h,rotation:r,fill:p,fillOpacity:u,stroke:d,strokeWidth:n,strokeOpacity:y,lineDash:g,lineDashOffset:m,label:{enabled:f,color:b,fontStyle:x,fontWeight:S,fontSize:D,fontFamily:_,spacing:k}}})}getTargetRadius(e){const{radius:t,properties:i}=this,{innerRadiusRatio:a,outerRadiusRatio:o}=i,{placement:s,spacing:r,size:n}=e,l=t*o,c=t*a;switch(s){case"inside":return Math.max(c-r-n/2,0);case"outside":return l+r+n/2;default:return(c+l)/2}}getTargetLabel(e){const{scale:t}=this,{value:i,size:a,placement:o,label:s}=e,{spacing:r,color:n,fontStyle:l,fontWeight:c,fontSize:h,fontFamily:p}=s,u=void 0,d=t.convert(i),y=normalizeAngle3606(d)/(Math.PI/2)|0,g=a/2+r;let m,f,b,x;switch(o){case"outside":({textAlign:m,textBaseline:f}=outsideLabelPlacements[y]),b=g*Math.cos(d),x=g*Math.sin(d);break;case"inside":({textAlign:m,textBaseline:f}=insideLabelPlacements[y]),b=-g*Math.cos(d),x=-g*Math.sin(d);break;default:m="center",f="bottom",b=0,x=-g;break}return{offsetX:b,offsetY:x,fill:n,textAlign:m,textBaseline:f,fontStyle:l,fontWeight:c,fontSize:h,fontFamily:p,lineHeight:u}}createNodeData(){const e=this.layoutScale(),{id:t,scale:i,properties:a,radius:o,centerX:s,centerY:r}=this,{value:n,innerRadiusRatio:l,outerRadiusRatio:c,segmentation:h,cornerRadius:p,cornerMode:u,needle:d,bar:y,scale:g,label:m,secondaryLabel:f}=a,{outerRadius:b=o*c,innerRadius:x=o*l}=a,S=this.getTargets(),D=[],_=[],k=[],v=[],A=[],I=u==="item",M=i.convert(i.domain[0]),L=i.convert(n),R=Math.ceil(normalizeAngle360Inclusive2(L-M)*o);let C=h.enabled?h.interval.getSegments(i,R):void 0;const N=y.enabled?y.fill??this.createConicGradient(y.fills,y.fillMode):"rgba(0,0,0,0)",P=g.fill??(y.enabled&&g.fills.length===0?g.defaultFill:void 0)??this.createConicGradient(g.fills,g.fillMode);if(C==null&&I){const T=Math.min(...i.domain),w=Math.max(...i.domain),E={value:n,segmentStart:T,segmentEnd:w},F=Math.min(p,(b-x)/2)/((x+b)/2);D.push({series:this,itemId:"value",datum:E,datumIndex:{type:0},type:0,centerX:s,centerY:r,outerRadius:b,innerRadius:x,startAngle:M-F,endAngle:L+F,clipStartAngle:void 0,clipEndAngle:void 0,startCornerRadius:p,endCornerRadius:p,fill:N}),A.push({series:this,itemId:"scale",datum:E,datumIndex:{type:0},type:0,centerX:s,centerY:r,outerRadius:b,innerRadius:x,startAngle:i.range[0]-F,endAngle:i.range[1]+F,clipStartAngle:void 0,clipEndAngle:void 0,startCornerRadius:p,endCornerRadius:p,fill:P})}else{C??(C=i.domain);for(let T=0;T<C.length-1;T++){const w=C[T],E=C[T+1],O={value:n,segmentStart:w,segmentEnd:E},F=T===0,B=T===C.length-2,G=i.convert(w),V=i.convert(E);D.push({series:this,itemId:`value-${T}`,datum:O,datumIndex:{type:0},type:0,centerX:s,centerY:r,outerRadius:b,innerRadius:x,startAngle:G,endAngle:V,clipStartAngle:M,clipEndAngle:L,startCornerRadius:I||F?p:0,endCornerRadius:I||B?p:0,fill:N}),A.push({series:this,itemId:`scale-${T}`,datum:O,datumIndex:{type:0},type:0,centerX:s,centerY:r,outerRadius:b,innerRadius:x,startAngle:G,endAngle:V,clipStartAngle:void 0,clipEndAngle:void 0,startCornerRadius:I||F?p:0,endCornerRadius:I||B?p:0,fill:P})}}if(!d.enabled&&m.enabled){const{text:T,color:w,fontSize:E,minimumFontSize:O,fontStyle:F,fontWeight:B,fontFamily:G,lineHeight:V,formatter:K=W=>this.formatLabel(W.value)}=m;v.push({label:"primary",centerX:s,centerY:r,text:T,value:n,fill:w,fontSize:E,minimumFontSize:O,fontStyle:F,fontWeight:B,fontFamily:G,lineHeight:V,formatter:K})}if(!d.enabled&&f.enabled){const{text:T,color:w,fontSize:E,minimumFontSize:O,fontStyle:F,fontWeight:B,fontFamily:G,lineHeight:V,formatter:K}=f;v.push({label:"secondary",centerX:s,centerY:r,text:T,value:n,fill:w,fontSize:E,minimumFontSize:O,fontStyle:F,fontWeight:B,fontFamily:G,lineHeight:V,formatter:K})}if(d.enabled){let T=d.radiusRatio!=null?o*d.radiusRatio:x;T=Math.max(T-d.spacing,0);const w=i.convert(n);k.push({centerX:s,centerY:r,radius:T,angle:w,series:this})}for(let T=0;T<S.length;T+=1){const w=S[T],{value:E,text:O,size:F,shape:B,fill:G,fillOpacity:V,stroke:K,strokeWidth:W,strokeOpacity:z,lineDash:H,lineDashOffset:Y}=w;if(E<Math.min(...i.domain)||E>Math.max(...i.domain))continue;const j=this.getTargetRadius(w),$=i.convert(E),q=toRadians4(w.rotation+targetPlacementRotation[w.placement]);_.push({series:this,itemId:`target-${T}`,midPoint:{x:j*Math.cos($)+s,y:j*Math.sin($)+r},datum:{value:E},datumIndex:{type:1,index:T},type:1,value:E,text:O,centerX:s,centerY:r,shape:B,radius:j,angle:$,rotation:q,size:F,fill:G,fillOpacity:V,stroke:K,strokeOpacity:z,strokeWidth:W,lineDash:H,lineDashOffset:Y,label:this.getTargetLabel(w)})}return{itemId:t,nodeData:D,needleData:k,targetData:_,labelData:v,scaleData:A,tickData:e}}updateSelections(e){(this.nodeDataRefresh||e)&&(this.contextNodeData=this.createNodeData(),this.nodeDataRefresh=!1)}highlightDatum(e){if(e!=null&&e.series===this&&e.type===1)return e}update({seriesRect:e}){const{datumSelection:t,labelSelection:i,needleSelection:a,targetSelection:o,targetLabelSelection:s,scaleSelection:r,highlightTargetSelection:n,tickSelection:l}=this,c=this.checkResize(e);this.updateSelections(c),this.contentGroup.visible=this.visible,this.contentGroup.opacity=this.getOpacity();const h=this.contextNodeData?.nodeData??[],p=this.contextNodeData?.labelData??[],u=this.contextNodeData?.needleData??[],d=this.contextNodeData?.targetData??[],y=this.contextNodeData?.scaleData??[],g=this.contextNodeData?.tickData??[],m=this.highlightDatum(this.ctx.highlightManager.getActiveHighlight());this.scaleSelection=this.updateScaleSelection({scaleData:y,scaleSelection:r}),this.updateScaleNodes({scaleSelection:r}),this.needleSelection=this.updateNeedleSelection({needleData:u,needleSelection:a}),this.updateNeedleNodes({needleSelection:a}),this.targetSelection=this.updateTargetSelection({targetData:d,targetSelection:o}),this.updateTargetNodes({targetSelection:o,isHighlight:!1}),this.targetLabelSelection=this.updateTargetLabelSelection({targetData:d,targetLabelSelection:s}),this.updateTargetLabelNodes({targetLabelSelection:s}),this.datumSelection=this.updateDatumSelection({nodeData:h,datumSelection:t}),this.updateDatumNodes({datumSelection:t}),this.labelSelection=this.updateLabelSelection({labelData:p,labelSelection:i}),this.updateLabelNodes({labelSelection:i}),this.highlightTargetSelection=this.updateTargetSelection({targetData:m!=null?[m]:[],targetSelection:n}),this.updateTargetNodes({targetSelection:n,isHighlight:!0}),this.tickSelection=this.updateTickSelection({tickData:g,tickSelection:l}),this.updateTickNodes({tickSelection:l}),c&&this.animationState.transition("resize"),this.animationState.transition("update")}updateDatumSelection(e){return e.datumSelection.update(e.nodeData,void 0,t=>createDatumId18(e.nodeData.length,t.itemId))}updateDatumNodes(e){const{datumSelection:t}=e,{ctx:i,properties:a}=this,{bar:o,segmentation:s}=a,r=s.spacing??0,{fillOpacity:n,stroke:l,strokeOpacity:c,lineDash:h,lineDashOffset:p}=o,u=o.strokeWidth,d=i.animationManager.isSkipped(),y=this.getShapeFillBBox();t.each((g,m)=>{const{centerX:f,centerY:b,innerRadius:x,outerRadius:S,startCornerRadius:D,endCornerRadius:_,fill:k}=m;g.centerX=f,g.centerY=b,g.innerRadius=x,g.outerRadius=S,g.pointerEvents=this.properties.bar.enabled?import_ag_charts_community148._ModuleSupport.PointerEvents.All:import_ag_charts_community148._ModuleSupport.PointerEvents.None,g.fill=k,g.fillBBox=y,g.fillOpacity=n,g.stroke=l,g.strokeOpacity=c,g.strokeWidth=u,g.lineDash=h,g.lineDashOffset=p,g.startOuterCornerRadius=D,g.startInnerCornerRadius=D,g.endOuterCornerRadius=_,g.endInnerCornerRadius=_,g.radialEdgeInset=(r+g.strokeWidth)/2,g.concentricEdgeInset=g.strokeWidth/2,(d||g.previousDatum==null)&&g.setProperties(resetRadialGaugeSeriesResetSectorFunction(g,m))}),this.datumUnion.update(t,this.itemGroup,import_ag_charts_community148._ModuleSupport.Sector,(g,m,f)=>{g.clipSector??(g.clipSector=new SectorBox6(NaN,NaN,NaN,NaN)),g.centerX=m.centerX,g.centerY=m.centerY,g.outerRadius=g.clipSector.outerRadius=m.outerRadius,g.innerRadius=g.clipSector.innerRadius=m.innerRadius,g.startAngle=g.clipSector.startAngle=m.startAngle,g.startInnerCornerRadius=m.startInnerCornerRadius,g.startOuterCornerRadius=m.startOuterCornerRadius,g.endAngle=f.endAngle,g.clipSector.endAngle=f.clipSector?.endAngle??f.endAngle,g.endInnerCornerRadius=f.endInnerCornerRadius,g.endOuterCornerRadius=f.endOuterCornerRadius,g.pointerEvents=import_ag_charts_community148._ModuleSupport.PointerEvents.None})}updateScaleSelection(e){return e.scaleSelection.update(e.scaleData,void 0,t=>createDatumId18(e.scaleData.length,t.itemId))}updateScaleNodes(e){const{scaleSelection:t}=e,{scale:i,segmentation:a}=this.properties,o=a.spacing??0,{fillOpacity:s,stroke:r,strokeOpacity:n,strokeWidth:l,lineDash:c,lineDashOffset:h}=i,p=this.getShapeFillBBox();t.each((u,d)=>{const{centerX:y,centerY:g,innerRadius:m,outerRadius:f,startCornerRadius:b,endCornerRadius:x,fill:S}=d;u.centerX=y,u.centerY=g,u.innerRadius=m,u.outerRadius=f,u.fill=S,u.fillBBox=p,u.fillOpacity=s,u.stroke=r,u.strokeOpacity=n,u.strokeWidth=l,u.lineDash=c,u.lineDashOffset=h,u.startOuterCornerRadius=b,u.startInnerCornerRadius=b,u.endOuterCornerRadius=x,u.endInnerCornerRadius=x,u.radialEdgeInset=(o+u.strokeWidth)/2,u.concentricEdgeInset=u.strokeWidth/2,u.setProperties(resetRadialGaugeSeriesResetSectorFunction(u,d))})}updateNeedleSelection(e){return e.needleSelection.update(e.needleData,void 0,()=>createDatumId18([]))}updateNeedleNodes(e){const{needleSelection:t}=e,{fill:i,fillOpacity:a,stroke:o,strokeOpacity:s,strokeWidth:r,lineDash:n,lineDashOffset:l}=this.properties.needle,c=this.ctx.animationManager.isSkipped();t.each((h,p)=>{const{centerX:u,centerY:d,radius:y}=p,g=y*2;h.d=RadialGaugeNeedle.defaultPathData,h.fill=i,h.fillOpacity=a,h.stroke=o,h.strokeOpacity=s,h.strokeWidth=r/g,h.lineDash=n.map(m=>m/g),h.lineDashOffset=l/g,h.translationX=u,h.translationY=d,h.scalingX=g,h.scalingY=g,c&&h.setProperties(resetRadialGaugeSeriesResetNeedleFunction(h,p))})}updateTargetSelection(e){return e.targetSelection.update(e.targetData,void 0,t=>t.itemId)}updateTargetNodes(e){const{targetSelection:t,isHighlight:i}=e;t.each((a,o)=>{const{centerX:s,centerY:r,angle:n,radius:l,shape:c,size:h,rotation:p,fill:u,fillOpacity:d,stroke:y,strokeOpacity:g,strokeWidth:m,lineDash:f,lineDashOffset:b}=o,x=this.getHighlightStyle(i,o.datumIndex),S=mergeDefaults18(x,{fill:u,fillOpacity:d,stroke:y,strokeOpacity:g,strokeWidth:m,lineDash:f,lineDashOffset:b,opacity:1});applyShapeStyle17(a,S),a.size=h,a.shape=c==="line"?lineMarker:c,a.translationX=s+l*Math.cos(n),a.translationY=r+l*Math.sin(n),a.rotation=n+p})}updateTargetLabelSelection(e){return e.targetLabelSelection.update(e.targetData,void 0,t=>t.itemId)}updateTargetLabelNodes(e){const{targetLabelSelection:t}=e;t.each((i,a)=>{const{centerX:o,centerY:s,radius:r,angle:n,text:l}=a,{offsetX:c,offsetY:h,fill:p,fontStyle:u,fontWeight:d,fontSize:y,fontFamily:g,textAlign:m,textBaseline:f}=a.label;if(l==null){i.visible=!1;return}i.visible=!0,i.x=o+r*Math.cos(n)+c,i.y=s+r*Math.sin(n)+h,i.text=l,i.fill=p,i.fontStyle=u,i.fontWeight=d,i.fontSize=y,i.fontFamily=g,i.textAlign=m,i.textBaseline=f})}updateLabelSelection(e){return e.labelSelection.update(e.labelData,void 0,t=>t.label)}updateLabelNodes(e){const{labelSelection:t}=e,i=this.ctx.animationManager.isSkipped();t.each((a,o)=>{a.fill=o.fill,a.fontStyle=o.fontStyle,a.fontWeight=o.fontWeight,a.fontFamily=o.fontFamily}),(i||this.labelsHaveExplicitText())&&this.formatLabelText()}updateTickSelection(e){return e.tickSelection.update(e.tickData,void 0,t=>t.index)}updateTickNodes(e){const{scale:t,radius:i,centerX:a,centerY:o,properties:s}=this,{enabled:r,color:n,fontFamily:l,fontSize:c,fontStyle:h,fontWeight:p,spacing:u}=s.scale.label,d=toRadians4(s.scale.label.rotation??0);e.tickSelection.each((y,g)=>{if(!r){y.visible=!1;return}y.visible=!0,y.text=g.text,y.fill=n,y.fontFamily=l,y.fontSize=c,y.fontStyle=h,y.fontWeight=p,y.textAlign="center",y.textBaseline="middle";const m=t.convert(g.value),{width:f,height:b}=g,x=Math.abs(i*Math.cos(m)),S=Math.abs(i*Math.sin(m)),D=Math.min(Math.max(Math.abs(i/Math.tan(m)),x-f/2),x+f/2),_=Math.min(Math.max(Math.abs(i*Math.tan(m)),S-b/2),S+b/2),k=Math.hypot(D,_),v=a+(k+u)*Math.cos(m),A=o+(k+u)*Math.sin(m);y.x=v,y.y=A,y.rotationCenterX=v,y.rotationCenterY=A,y.rotation=d})}labelsHaveExplicitText(){for(const{datum:e}of this.labelSelection)if(e.text==null)return!1;return!0}formatLabelText(e){const{labelSelection:t,radius:i,textAlign:a,verticalAlign:o}=this,{spacing:s,innerRadiusRatio:r}=this.properties;formatRadialGaugeLabels(this,this.ctx,t,{padding:s,textAlign:a,verticalAlign:o},i*r,e)}resetAllAnimation(){this.ctx.animationManager.stopByAnimationGroupId(this.id),resetMotion4([this.datumSelection],resetRadialGaugeSeriesResetSectorFunction),resetMotion4([this.needleSelection],resetRadialGaugeSeriesResetNeedleFunction),this.formatLabelText()}resetAnimation(e){e==="initial"?this.animationState.transition("reset"):e==="ready"&&this.animationState.transition("skip")}animateLabelText(e={}){const{animationManager:t}=this.ctx;let i,a,o,s;if(this.labelSelection.each((r,n)=>{r.opacity=1,n.label==="primary"?(i=r.previousDatum?.value??e.from??n.value,a=n.value):n.label==="secondary"&&(o=r.previousDatum?.value??e.from??n.value,s=n.value)}),!this.labelsHaveExplicitText())if(a==null||s==null)this.formatLabelText();else if(i===a&&o===s)this.formatLabelText({label:a,secondaryLabel:s});else{const r=`${this.id}_labels`;t.animate({id:r,groupId:"label",from:{label:i,secondaryLabel:o},to:{label:a,secondaryLabel:s},phase:e.phase??"update",onUpdate:n=>this.formatLabelText(n),onStop:()=>this.formatLabelText({label:a,secondaryLabel:s})})}}animateEmptyUpdateReady(){const{animationManager:e}=this.ctx,{node:t,needle:i}=prepareRadialGaugeSeriesAnimationFunctions(!0,this.scale.range[0]);fromToMotion5(this.id,"node",e,[this.datumSelection],t,(a,o)=>o.itemId),fromToMotion5(this.id,"needle",e,[this.needleSelection],i,()=>"needle"),fromToMotion5(this.id,"label",e,[this.labelSelection],fadeInFns,(a,o)=>o.label),this.animateLabelText({from:this.properties.scale.min,phase:"initial"})}animateWaitingUpdateReady(){const{animationManager:e}=this.ctx,{node:t,needle:i}=prepareRadialGaugeSeriesAnimationFunctions(!1,this.scale.range[0]);fromToMotion5(this.id,"node",e,[this.datumSelection],t,(a,o)=>o.itemId),fromToMotion5(this.id,"needle",e,[this.needleSelection],i,()=>"needle"),this.animateLabelText()}animateReadyResize(){this.resetAllAnimation()}dataCount(){return NaN}getSeriesDomain(){return[NaN,NaN]}getSeriesRange(e,t){return[NaN,NaN]}getLegendData(){return[]}getTooltipContent(e){const{id:t,properties:i}=this,{tooltip:a}=i;let o,s;if(e.type===0?(o=i.value,s=i.label.text):{value:o,text:s}=i.targets[e.index],o!=null)return this.formatTooltipWithContext(a,{data:[{label:s,fallbackLabel:"Value",value:this.formatLabel(o)}]},{seriesId:t,title:void 0,datum:void 0,value:o})}pickNodeClosestDatum(e){return pickGaugeNearestDatum(this,e)}pickFocus(e){return pickGaugeFocus(this,e)}getCaptionText(){const{value:e}=this.properties,t=[];return t.push(this.formatLabel(e)),this.labelSelection.each((i,a)=>{const o=getLabelText(this.id,this.ctx,a);o!=null&&t.push(o)}),t.join(". ")}getCategoryValue(e){}datumIndexForCategoryValue(e){}hasItemStylers(){return!1}};RadialGaugeSeries.className="RadialGaugeSeries",RadialGaugeSeries.type="radial-gauge";var{FONT_SIZE_RATIO}=import_ag_charts_community149._ModuleSupport,RadialGaugeModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["standalone"],identifier:"radial-gauge",moduleFactory:e=>new RadialGaugeSeries(e),themeTemplate:{minWidth:200,minHeight:200,tooltip:{enabled:!1},series:{outerRadiusRatio:1,innerRadiusRatio:.8,startAngle:270,endAngle:450,defaultColorRange:{$if:[{$eq:[{$palette:"type"},"inbuilt"]},{$interpolate:[{$palette:"secondDivergingColors"},5]},import_ag_charts_community149._ModuleSupport.SAFE_RANGE2_OPERATION]},scale:{defaultFill:{$path:["/1",{$palette:"fill"},{$palette:"hierarchyColors"}]},stroke:{$path:["/2",import_ag_charts_community149._ModuleSupport.SAFE_STROKE_FILL_OPERATION,{$palette:"hierarchyColors"}]},strokeWidth:{$isUserOption:["./stroke",2,0]},label:{fontWeight:{$ref:"fontWeight"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},color:{$ref:"textColor"},spacing:12}},bar:{strokeWidth:{$isUserOption:["./stroke",2,0]}},segmentation:{enabled:!1,interval:{},spacing:2},defaultTarget:{fill:{$ref:"foregroundColor"},stroke:{$ref:"foregroundColor"},size:10,shape:"triangle",placement:"outside",spacing:5,label:{enabled:!0,fontWeight:{$ref:"fontWeight"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},color:{$ref:"textColor"},spacing:5}},needle:{enabled:!1,fill:{$ref:"foregroundColor"},spacing:10},label:{...import_ag_charts_community149._ModuleSupport.LABEL_BOXING_DEFAULTS,enabled:!0,fontWeight:{$ref:"fontWeight"},fontSize:56,minimumFontSize:18/56,fontFamily:{$ref:"fontFamily"},color:{$ref:"textColor"}},secondaryLabel:{...import_ag_charts_community149._ModuleSupport.LABEL_BOXING_DEFAULTS,enabled:!0,fontWeight:{$ref:"fontWeight"},fontSize:{$rem:FONT_SIZE_RATIO.LARGE},minimumFontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},color:{$ref:"subtleTextColor"}},tooltip:{range:{$path:["/tooltip/range",10]}}}}},RadialGaugeSeriesModule={type:"series",name:"radial-gauge",chartType:"standalone",enterprise:!0,options:import_ag_charts_community149._ModuleSupport.radialGaugeSeriesOptionsDef,create:e=>new RadialGaugeSeries(e)},import_ag_charts_community154=require("ag-charts-community"),import_ag_charts_community152=require("ag-charts-community"),import_ag_charts_core50=require("ag-charts-core");function sortNodesByY(e){e.nodes.sort((t,i)=>Math.round((t.datum.y-i.datum.y)*100)/100||-(t.datum.size-i.datum.size))}function justifyNodesAcrossColumn({nodes:e,size:t},{seriesRectHeight:i,nodeSpacing:a,sizeScale:o}){const s=i*t*o;let r=(i-(s+a*(e.length-1)))/2;e.forEach(({datum:n})=>{const l=i*n.size*o;n.y=r,n.height=l,r+=l+a})}function separateNodesInColumn(e,t){const{nodes:i}=e,{seriesRectHeight:a,nodeSpacing:o}=t;sortNodesByY(e);let s=0,r=0;for(const{datum:c}of i){const h=Math.max(r-c.y,0);c.y+=h,s+=h,r=c.y+c.height+o}if(r-o<a)return s>0;let l=a;for(let c=i.length-1;c>=0;c-=1){const{datum:h}=i[c],p=h.y+h.height,u=Math.min(l-p,0);h.y+=u,s+=u,l=h.y-o}return!0}function hasCrossOver(e,t,i,a,o,s,r,n){const l=(i-e)/(a-t),c=(r-o)/(n-s),h=((s-t)*(l*c)+e*c-o*l)/(c-l);return e<i?h>e&&h<Math.min(i,r):h<e&&h>Math.max(i,r)}function removeColumnCrossoversInDirection(e,t){let i=!1;const a=e.nodes.filter(s=>t(s).length===1);let o=!0;for(let s=0;o&&s<a.length;s+=1){o=!1;for(let r=0;r<a.length-1;r+=1){const{datum:n}=a[r],l=t(a[r])[0].node.datum,{datum:c}=a[r+1],h=t(a[r+1])[0].node.datum;if(!(hasCrossOver(n.x,n.y,l.x,l.y,c.x,c.y,h.x,h.y)||hasCrossOver(n.x,n.y+n.height/2,l.x,l.y+l.height/2,c.x,c.y+c.height/2,h.x,h.y+h.height/2)||hasCrossOver(n.x,n.y+n.height,l.x,l.y+l.height,c.x,c.y+c.height,h.x,h.y+h.height)))continue;const u=a[r];a[r]=a[r+1],a[r+1]=u;const d=n.y;n.y=c.y+c.height-n.height,c.y=d,i=!0,o=!0}}return i}function removeColumnCrossovers(e){let t=!1;return sortNodesByY(e),t=removeColumnCrossoversInDirection(e,i=>i.linksBefore)||t,t=removeColumnCrossoversInDirection(e,i=>i.linksAfter)||t,t}function weightedNodeY(e){if(e.length===0)return;let t=0,i=0;for(const{node:{datum:a}}of e)t+=a.y*a.size,i+=a.size;return t/i}function layoutColumn(e,t,i,a){return e.nodes.forEach(({datum:o,linksBefore:s,linksAfter:r})=>{const n=a===1?s:r,l=a===1?r:s,c=weightedNodeY(n);if(c!=null){const h=l.length!==0?i:1;o.y=o.y+(c-o.y)*h}}),separateNodesInColumn(e,t)}function layoutColumnsForward(e,t,i){let a=!1;for(const o of e)a=layoutColumn(o,t,i,1)||a;return a}function layoutColumnsBackwards(e,t,i){let a=!1;for(let o=e.length-1;o>=0;o-=1)a=layoutColumn(e[o],t,i,-1)||a;return a}function removeColumnsCrossovers(e){let t=!1;for(let i=e.length-1;i>=0;i-=1)t=removeColumnCrossovers(e[i])||t;return t}function layoutColumns(e,t){e.forEach(a=>{justifyNodesAcrossColumn(a,t)});let i=!1;for(let a=0;a<6;a+=1){const o=layoutColumnsForward(e,t,1);i=layoutColumnsBackwards(e,t,.5);const s=removeColumnsCrossovers(e);if(!o&&!i&&!s)break}i&&(layoutColumnsForward(e,t,1),removeColumnsCrossovers(e))}var import_ag_charts_community150=require("ag-charts-community"),{BBox:BBox15,Path:Path11,SceneChangeDetection:SceneChangeDetection6,splitBezier2D}=import_ag_charts_community150._ModuleSupport;function offsetTrivialCubicBezier(e,t,i,a,o,s,r,n,l,c){let h,p;if(o!==i&&l!==r){const _=-(a-t)/(o-i),k=-(n-s)/(l-r);h=(r-i+_*t-k*s)/(_-k),p=_*(h-t)+i}else if(o===i&&l!==r)h=t,p=-(n-s)/(l-r)*(h-n)+l;else if(o!==i&&l===r)h=n,p=-(a-t)/(o-i)*(h-t)+i;else throw new Error("Offsetting flat bezier curve");const u=Math.hypot(i-p,t-h),d=(u+c)/u,y=Math.hypot(l-p,n-h),g=(y+c)/y,m=h+(a-h)*d,f=p+(o-p)*d,b=h+(s-h)*g,x=p+(r-p)*g,S=h+(n-h)*g,D=p+(l-p)*g;e.cubicCurveTo(m,f,b,x,S,D)}var SankeyLink=class extends Path11{constructor(){super(...arguments),this.x1=0,this.x2=0,this.y1=0,this.y2=0,this.height=0,this.inset=0}computeBBox(){const e=Math.min(this.x1,this.x2),t=Math.max(this.x1,this.x2)-e,i=Math.min(this.y1,this.y2),a=Math.max(this.y1,this.y2)-i+this.height;return new BBox15(e,i,t,a)}updatePath(){const{path:e,inset:t}=this;e.clear();const i=this.x1+t,a=this.x2-t,o=this.y1+t,s=this.y2+t,r=this.height-2*t;if(r<0||i>a)return;const n=i,l=o+r/2,c=(i+a)/2,h=o+r/2,p=(i+a)/2,u=s+r/2,d=a,y=s+r/2;if(e.moveTo(n,l-r/2),Math.abs(this.y2-this.y1)<1||this.x2-this.x1<this.height*Math.SQRT2)e.cubicCurveTo(c,h-r/2,p,u-r/2,d,y-r/2),e.lineTo(d,y+r/2),e.cubicCurveTo(p,u+r/2,c,h+r/2,n,l+r/2);else{const[g,m]=splitBezier2D(n,l,c,h,p,u,d,y,.5),f=(s>o?1:-1)*r/2;offsetTrivialCubicBezier(e,g[0].x,g[0].y,g[1].x,g[1].y,g[2].x,g[2].y,g[3].x,g[3].y,f),offsetTrivialCubicBezier(e,m[0].x,m[0].y,m[1].x,m[1].y,m[2].x,m[2].y,m[3].x,m[3].y,-f),e.lineTo(d,y+r/2),offsetTrivialCubicBezier(e,m[3].x,m[3].y,m[2].x,m[2].y,m[1].x,m[1].y,m[0].x,m[0].y,f),offsetTrivialCubicBezier(e,g[3].x,g[3].y,g[2].x,g[2].y,g[1].x,g[1].y,g[0].x,g[0].y,-f)}e.closePath()}};__decorateClass([SceneChangeDetection6()],SankeyLink.prototype,"x1",2),__decorateClass([SceneChangeDetection6()],SankeyLink.prototype,"x2",2),__decorateClass([SceneChangeDetection6()],SankeyLink.prototype,"y1",2),__decorateClass([SceneChangeDetection6()],SankeyLink.prototype,"y2",2),__decorateClass([SceneChangeDetection6()],SankeyLink.prototype,"height",2),__decorateClass([SceneChangeDetection6()],SankeyLink.prototype,"inset",2);var import_ag_charts_community151=require("ag-charts-community"),{BaseProperties:BaseProperties11,FillGradientDefaults:FillGradientDefaults16,FillPatternDefaults:FillPatternDefaults16,FillImageDefaults:FillImageDefaults16,makeSeriesTooltip:makeSeriesTooltip22,SeriesProperties:SeriesProperties13,Property:Property37,Label:Label15}=import_ag_charts_community151._ModuleSupport,SankeySeriesLabelProperties=class extends Label15{constructor(){super(...arguments),this.spacing=1}};__decorateClass([Property37],SankeySeriesLabelProperties.prototype,"spacing",2);var SankeySeriesLinkProperties=class extends BaseProperties11{constructor(){super(...arguments),this.fill=void 0,this.fillOpacity=1,this.stroke=void 0,this.strokeOpacity=1,this.strokeWidth=1,this.lineDash=[0],this.lineDashOffset=0}};__decorateClass([Property37],SankeySeriesLinkProperties.prototype,"fill",2),__decorateClass([Property37],SankeySeriesLinkProperties.prototype,"fillOpacity",2),__decorateClass([Property37],SankeySeriesLinkProperties.prototype,"stroke",2),__decorateClass([Property37],SankeySeriesLinkProperties.prototype,"strokeOpacity",2),__decorateClass([Property37],SankeySeriesLinkProperties.prototype,"strokeWidth",2),__decorateClass([Property37],SankeySeriesLinkProperties.prototype,"lineDash",2),__decorateClass([Property37],SankeySeriesLinkProperties.prototype,"lineDashOffset",2),__decorateClass([Property37],SankeySeriesLinkProperties.prototype,"itemStyler",2);var SankeySeriesNodeProperties=class extends BaseProperties11{constructor(){super(...arguments),this.spacing=1,this.width=1,this.alignment="justify",this.fill=void 0,this.fillOpacity=1,this.stroke=void 0,this.strokeOpacity=1,this.strokeWidth=1,this.lineDash=[0],this.lineDashOffset=0}};__decorateClass([Property37],SankeySeriesNodeProperties.prototype,"spacing",2),__decorateClass([Property37],SankeySeriesNodeProperties.prototype,"width",2),__decorateClass([Property37],SankeySeriesNodeProperties.prototype,"alignment",2),__decorateClass([Property37],SankeySeriesNodeProperties.prototype,"fill",2),__decorateClass([Property37],SankeySeriesNodeProperties.prototype,"fillOpacity",2),__decorateClass([Property37],SankeySeriesNodeProperties.prototype,"stroke",2),__decorateClass([Property37],SankeySeriesNodeProperties.prototype,"strokeOpacity",2),__decorateClass([Property37],SankeySeriesNodeProperties.prototype,"strokeWidth",2),__decorateClass([Property37],SankeySeriesNodeProperties.prototype,"lineDash",2),__decorateClass([Property37],SankeySeriesNodeProperties.prototype,"lineDashOffset",2),__decorateClass([Property37],SankeySeriesNodeProperties.prototype,"itemStyler",2);var SankeySeriesProperties=class extends SeriesProperties13{constructor(){super(),this.nodes=void 0,this.idKey="",this.idName=void 0,this.labelKey=void 0,this.labelName=void 0,this.sizeKey=void 0,this.sizeName=void 0,this.fillGradientDefaults=new FillGradientDefaults16,this.fillPatternDefaults=new FillPatternDefaults16,this.fillImageDefaults=new FillImageDefaults16,this.defaultColorRange=[],this.defaultPatternFills=[],this.fills=[],this.strokes=[],this.label=new SankeySeriesLabelProperties,this.link=new SankeySeriesLinkProperties,this.node=new SankeySeriesNodeProperties,this.tooltip=makeSeriesTooltip22(),this.highlightStyle.deprecated=!1}getStyle(e,t,i,a){const{fillOpacity:o,strokeWidth:s,strokeOpacity:r,lineDash:n,lineDashOffset:l,fill:c=t[a%t.length],stroke:h=i[a%t.length]}=e?this.link:this.node;return{fill:c,fillOpacity:o,stroke:h,strokeWidth:s,strokeOpacity:r,lineDash:n,lineDashOffset:l}}};__decorateClass([Property37],SankeySeriesProperties.prototype,"nodes",2),__decorateClass([Property37],SankeySeriesProperties.prototype,"fromKey",2),__decorateClass([Property37],SankeySeriesProperties.prototype,"toKey",2),__decorateClass([Property37],SankeySeriesProperties.prototype,"idKey",2),__decorateClass([Property37],SankeySeriesProperties.prototype,"idName",2),__decorateClass([Property37],SankeySeriesProperties.prototype,"labelKey",2),__decorateClass([Property37],SankeySeriesProperties.prototype,"labelName",2),__decorateClass([Property37],SankeySeriesProperties.prototype,"sizeKey",2),__decorateClass([Property37],SankeySeriesProperties.prototype,"sizeName",2),__decorateClass([Property37],SankeySeriesProperties.prototype,"fillGradientDefaults",2),__decorateClass([Property37],SankeySeriesProperties.prototype,"fillPatternDefaults",2),__decorateClass([Property37],SankeySeriesProperties.prototype,"fillImageDefaults",2),__decorateClass([Property37],SankeySeriesProperties.prototype,"defaultColorRange",2),__decorateClass([Property37],SankeySeriesProperties.prototype,"defaultPatternFills",2),__decorateClass([Property37],SankeySeriesProperties.prototype,"fills",2),__decorateClass([Property37],SankeySeriesProperties.prototype,"strokes",2),__decorateClass([Property37],SankeySeriesProperties.prototype,"label",2),__decorateClass([Property37],SankeySeriesProperties.prototype,"link",2),__decorateClass([Property37],SankeySeriesProperties.prototype,"node",2),__decorateClass([Property37],SankeySeriesProperties.prototype,"tooltip",2);var{Transformable:Transformable3,applyShapeStyle:applyShapeStyle18,SeriesNodePickMode:SeriesNodePickMode16,CachedTextMeasurerPool:CachedTextMeasurerPool10,TextWrapper:TextWrapper4,TextUtils:TextUtils6,createDatumId:createDatumId19,getShapeStyle:getShapeStyle17,getLabelStyles:getLabelStyles6,Rect:Rect7,BBox:BBox16,mergeDefaults:mergeDefaults19}=import_ag_charts_community152._ModuleSupport,SankeySeries=class extends FlowProportionSeries{constructor(e){super({moduleCtx:e,pickModes:[SeriesNodePickMode16.NEAREST_NODE,SeriesNodePickMode16.EXACT_SHAPE_MATCH]}),this.properties=new SankeySeriesProperties}isLabelEnabled(){return(this.properties.labelKey!=null||this.nodes==null)&&this.properties.label.enabled}linkFactory(){return new SankeyLink}nodeFactory(){return new Rect7}createNodeData(){const{id:e,_nodeDataDependencies:{seriesRectWidth:t,seriesRectHeight:i}={seriesRectWidth:0,seriesRectHeight:0}}=this,{fromKey:a,toKey:o,sizeKey:s,labelKey:r,label:{spacing:n},node:{spacing:l,width:c,alignment:h}}=this.properties,{nodeGraph:p,links:u,maxPathLength:d}=this.getNodeGraph(v=>({...v,x:NaN,y:NaN,width:c,height:NaN}),v=>({...v,x1:NaN,x2:NaN,y1:NaN,y2:NaN,height:NaN}),{includeCircularReferences:!1}),y=p,g=this.isLabelEnabled()?(t-c)*(1-d/(d+1)):0,m=(t-c-2*g)/(d-1),f=[];for(let v=0;v<d;v+=1){const A=g+v*m;f.push({index:v,size:0,nodes:[],x:A})}y.forEach(v=>{const{datum:A,linksBefore:I,linksAfter:M,maxPathLengthBefore:L,maxPathLengthAfter:R}=v,C=Math.max(I.reduce((w,{link:E})=>w+E.size,0),M.reduce((w,{link:E})=>w+E.size,0));if(I.length===0&&M.length===0||C===0){v.columnIndex=-1;return}let N;switch(h){case"left":N=f[L];break;case"right":N=f[d-1-R];break;case"center":{if(I.length!==0)N=f[L];else if(M.length!==0){const w=M.reduce((E,O)=>Math.min(E,O.node.maxPathLengthBefore),d)-1;N=f[w]}else N=f[0];break}case"justify":{N=M.length===0?f[d-1]:f[L];break}}A.x=N.x,A.size=C;const{label:P}=this.properties,T=P.enabled?this.getLabelText(A.label,A.datum,r,"label",[],this.properties.label,{datum:A.datum,value:A.label,fromKey:a,toKey:o,sizeKey:s,size:C}):void 0;A.label=T,N.nodes.push(v),N.size+=C,v.columnIndex=N.index}),y.forEach(v=>{let A=1/0,I=0;v.linksAfter.forEach(M=>{const L=M.node,{columnIndex:R}=L;R<A?(A=R,I=L.datum.size):R===A&&(I=Math.max(I,L.datum.size))}),v.closestColumnIndex=A,v.maxSizeOfClosestNodesAfter=I});const b=f.reduce((v,{size:A,nodes:I})=>{const M=(1-(I.length-1)*(l/i))/A;return Math.min(v,M)},1/0);for(let v=f.length-1;v>=0;v-=1)f[v].nodes.sort((I,M)=>I.closestColumnIndex-M.closestColumnIndex||I.maxSizeOfClosestNodesAfter-M.maxSizeOfClosestNodesAfter||I.datum.size-M.datum.size);layoutColumns(f,{seriesRectHeight:i,nodeSpacing:l,sizeScale:b});let x=!1;if(y.forEach(({datum:v,linksBefore:A,linksAfter:I})=>{x||(x=v.height<0);const M=v.y+v.height,L=N=>N.sort((P,T)=>{const w=P.node.datum,E=T.node.datum,O=w.y+w.height,F=E.y+E.height,B=Math.atan2(w.y-v.y,Math.abs(w.x-v.x))-Math.atan2(E.y-v.y,Math.abs(E.x-v.x)),G=Math.atan2(O-M,Math.abs(w.x-v.x))-Math.atan2(F-M,Math.abs(E.x-v.x));return B+G});let R=v.y;L(A).forEach(({link:N})=>{N.y2=R,R+=N.size*i*b});let C=v.y;L(I).forEach(({link:N})=>{N.y1=C,C+=N.size*i*b})}),x){import_ag_charts_core50.Logger.warnOnce("There was insufficient space to display the Sankey Series. Reduce the node spacing, or provide a larger container.");return}const S=[],D=[],{fontSize:_}=this.properties.label,k=CachedTextMeasurerPool10.getMeasurer({font:this.properties.label});return f.forEach((v,A)=>{const I=A===0,M=A===f.length-1;let L=-1/0;v.nodes.sort((R,C)=>R.datum.y-C.datum.y),v.nodes.forEach(({datum:R})=>{if(R.midPoint={x:R.x+R.width/2,y:R.y+R.height/2},S.push(R),R.label==null)return;const C=I?R.x-n:R.x+R.width+n,N=R.y+R.height/2;let P;if(!I&&!M){const O=N-TextUtils6.getLineHeight(_),F=N+TextUtils6.getLineHeight(_);let B=t;y.forEach(({datum:V})=>{V.x>R.x&&Math.max(V.y,O)<=Math.min(V.y+V.height,F)&&(B=Math.min(B,V.x-n))});const G=B-R.x-2*n;P=TextWrapper4.wrapText(R.label,{maxWidth:G,maxHeight:R.height,font:this.properties.label,textWrap:"never",overflow:"hide"})}if(P==null||P===""){const O=I||M?n:n*2;P=TextWrapper4.wrapText(R.label,{maxWidth:m-O,maxHeight:R.height,font:this.properties.label,textWrap:"never"})}if(P==="")return;const{height:T}=k.measureText(P),w=N-T/2,E=N+T/2;w>=L&&(D.push({x:C,y:N,leading:I,text:P,size:R.size}),L=E)})}),u.forEach(v=>{const{fromNode:A,toNode:I,size:M}=v;v.height=i*M*b,v.x1=A.x+c,v.x2=I.x,v.midPoint={x:(v.x1+v.x2)/2,y:(v.y1+v.y2)/2+v.height/2},S.push(v)}),{itemId:e,nodeData:S,labelData:D}}updateLabelSelection(e){const t=this.isLabelEnabled()?e.labelData:[];return e.labelSelection.update(t)}updateLabelNodes(e){e.labelSelection.each((t,i)=>{const{x:a,y:o,leading:s,text:r}=i,l=getLabelStyles6(this,void 0,i,this.properties.label),{color:c,fontStyle:h,fontWeight:p,fontSize:u,fontFamily:d}=l;t.visible=!0,t.x=a,t.y=o,t.text=r,t.fill=c,t.fontStyle=h,t.fontWeight=p,t.fontSize=u,t.fontFamily=d,t.textAlign=s?"right":"left",t.textBaseline="middle",t.setBoxing(l)})}updateNodeSelection(e){return e.datumSelection.update(e.nodeData,void 0,t=>createDatumId19([t.type,t.id]))}getNodeStyle({datumIndex:e,datum:t,size:i=0,label:a},o,s){const{id:r,properties:n}=this,{fills:l,strokes:c,defaultColorRange:h,defaultPatternFills:p,fillGradientDefaults:u,fillPatternDefaults:d,fillImageDefaults:y}=n,{itemStyler:g}=n.node,m=h[o%h.length].map(_=>({color:_})),f=p[o%p.length],b=this.getHighlightStyle(s,e),x=mergeDefaults19(b,n.getStyle(!1,l,c,o)),S=n.node.fill!=null;let D=getShapeStyle17(x,S?u:{...u.toJson(),colorStops:m},S?d:{...d.toJson(),fill:f,stroke:f},y);if(g!=null&&e!=null){const _=this.cachedDatumCallback(createDatumId19(e.index,"node",s?"highlight":"node"),()=>{const k=this.ctx.highlightManager?.getActiveHighlight(),v=this.getHighlightStateString(k,s,e);return this.callWithContext(g,{seriesId:r,datum:t,highlighted:s,highlightState:v,...D,size:i,label:a})});_&&(D=mergeDefaults19(_,D,{...u.toJson(),colorStops:m},{...d.toJson(),fill:f,stroke:f},y))}return D.opacity=1,D}updateNodeNodes(e){const{datumSelection:t,isHighlight:i}=e,a=this.getShapeFillBBox();t.each((o,s)=>{const{datumIndex:r}=s,n=this.getNodeStyle(s,r.index,i);o.x=s.x,o.y=s.y,o.width=Math.max(s.width,0),o.height=Math.max(s.height,0),applyShapeStyle18(o,n,a)})}getShapeFillBBox(){const e=this._nodeDataDependencies?.seriesRectWidth??0,t=this._nodeDataDependencies?.seriesRectHeight??0,i=new BBox16(0,0,e,t);return{series:i,axis:i}}updateLinkSelection(e){return e.datumSelection.update(e.nodeData,void 0,t=>createDatumId19([t.type,t.index,t.fromNode.id,t.toNode.id]))}getLinkStyle({datumIndex:e,datum:t},i,a){const{id:o,properties:s}=this,{fills:r,strokes:n,defaultColorRange:l,defaultPatternFills:c,fillGradientDefaults:h,fillPatternDefaults:p,fillImageDefaults:u}=s,{itemStyler:d}=s.link,y=l[i%l.length].map(S=>({color:S})),g=c[i%c.length],m=this.getHighlightStyle(a,e),f=mergeDefaults19(m,s.getStyle(!0,r,n,i)),b=s.link.fill!=null;let x=getShapeStyle17(f,b?h:{...h.toJson(),colorStops:y},b?p:{...p.toJson(),fill:g,stroke:g},u);if(d!=null&&e!=null){const S=this.cachedDatumCallback(createDatumId19(e.index,"link",a?"highlight":"node"),()=>{const D=this.ctx.highlightManager?.getActiveHighlight(),_=this.getHighlightStateString(D,a,e);return this.callWithContext(d,{seriesId:o,datum:t,highlighted:a,highlightState:_,...x})});S&&(x=mergeDefaults19(S,x,{...h.toJson(),colorStops:y},{...p.toJson(),fill:g,stroke:g},u))}return x.opacity=1,x}updateLinkNodes(e){const{datumSelection:t,isHighlight:i}=e,a=this.getShapeFillBBox();t.each((o,s)=>{const r=s.fromNode.datumIndex.index,n=this.getLinkStyle(s,r,i);o.x1=s.x1,o.y1=s.y1,o.x2=s.x2,o.y2=s.y2,o.height=s.height,applyShapeStyle18(o,n,a),o.inset=o.strokeWidth/2})}getTooltipContent(e){const{id:t,linksProcessedData:i,nodesProcessedData:a,properties:o,ctx:{formatManager:s}}=this,{fromKey:r,toKey:n,sizeKey:l,sizeName:c,tooltip:h}=o,p=this.contextNodeData?.nodeData.find(b=>b.datumIndex.type===e.type&&b.datumIndex.index===e.index);if(p==null)return;const u=p.type===0?p.fromNode.index:p.index,d=p.type===0?`${p.fromNode.label} - ${p.toNode.label}`:p.label,y=e.type===0?i?.dataSources.get(this.id)?.[e.index]:a?.dataSources.get(this.id)?.[e.index],g=p.size;let m;if(p.type===0){const b=p.fromNode.datumIndex;m=this.getLinkStyle({datumIndex:e,datum:y},b.index,!1)}else m=this.getNodeStyle({datumIndex:e,datum:y},e.index,!1);const f=[];if(l!=null){const b=s.format(this.callWithContext.bind(this),{type:"number",value:g,datum:y,seriesId:t,legendItemName:void 0,key:l,source:"tooltip",property:"size",domain:[],boundSeries:this.getFormatterContext("size"),fractionDigits:void 0});f.push({label:c,fallbackLabel:l,value:b??String(g)})}return this.formatTooltipWithContext(h,{title:d,symbol:this.legendItemSymbol(p.type,u,m),data:f},{seriesId:t,datum:y,title:d,fromKey:r,toKey:n,sizeKey:l,sizeName:c,size:g,...m})}computeFocusBounds(e){if(e instanceof Rect7){const{x:t,y:i,width:a,height:o}=e,s=new BBox16(t,i,a,o);return Transformable3.toCanvas(this.contentGroup,s)}return e}hasItemStylers(){return this.properties.node.itemStyler!=null||this.properties.link.itemStyler!=null}};SankeySeries.className="SankeySeries",SankeySeries.type="sankey";var import_ag_charts_community153=require("ag-charts-community"),import_ag_charts_core51=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs21,sankeySeriesThemeableOptionsDef}=import_ag_charts_community153._ModuleSupport,sankeySeriesOptionsDef={...sankeySeriesThemeableOptionsDef,...commonSeriesOptionsDefs21,type:(0,import_ag_charts_core51.required)((0,import_ag_charts_core51.constant)("sankey")),fromKey:(0,import_ag_charts_core51.required)(import_ag_charts_core51.string),toKey:(0,import_ag_charts_core51.required)(import_ag_charts_core51.string),sizeKey:import_ag_charts_core51.string,sizeName:import_ag_charts_core51.string};sankeySeriesOptionsDef.fillGradientDefaults=(0,import_ag_charts_core51.undocumented)(import_ag_charts_core51.fillGradientDefaults),sankeySeriesOptionsDef.fillPatternDefaults=(0,import_ag_charts_core51.undocumented)(import_ag_charts_core51.fillPatternDefaults),sankeySeriesOptionsDef.fillImageDefaults=(0,import_ag_charts_core51.undocumented)(import_ag_charts_core51.fillImageDefaults),sankeySeriesOptionsDef.defaultColorRange=(0,import_ag_charts_core51.undocumented)((0,import_ag_charts_core51.arrayOf)((0,import_ag_charts_core51.arrayOf)(import_ag_charts_core51.color))),sankeySeriesOptionsDef.defaultPatternFills=(0,import_ag_charts_core51.undocumented)((0,import_ag_charts_core51.arrayOf)(import_ag_charts_core51.color));var SankeyModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["standalone"],solo:!0,identifier:"sankey",moduleFactory:e=>new SankeySeries(e),themeTemplate:{seriesArea:{padding:{top:10,bottom:10}},series:{fills:{$palette:"fills"},strokes:{$palette:"strokes"},fillGradientDefaults:import_ag_charts_community154._ModuleSupport.FILL_GRADIENT_LINEAR_DEFAULTS,fillPatternDefaults:import_ag_charts_community154._ModuleSupport.FILL_PATTERN_DEFAULTS,fillImageDefaults:import_ag_charts_community154._ModuleSupport.FILL_IMAGE_DEFAULTS,defaultColorRange:{$palette:"gradients"},defaultPatternFills:import_ag_charts_community154._ModuleSupport.SAFE_FILLS_OPERATION,highlightStyle:{series:{dimOpacity:.2}},highlight:{...import_ag_charts_community154._ModuleSupport.singleSeriesHighlightStyle()},label:{...import_ag_charts_community154._ModuleSupport.LABEL_BOXING_DEFAULTS,fontFamily:{$ref:"fontFamily"},fontSize:{$ref:"fontSize"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"},spacing:10},node:{spacing:20,width:10,strokeWidth:{$isUserOption:["./stroke",2,0]}},link:{fillOpacity:.5,strokeWidth:{$isUserOption:["./stroke",2,0]}}},legend:{enabled:!1,toggleSeries:!1}}},SankeySeriesModule={type:"series",name:"sankey",chartType:"standalone",enterprise:!0,options:sankeySeriesOptionsDef,create:e=>new SankeySeries(e)},import_ag_charts_community158=require("ag-charts-community"),import_ag_charts_community156=require("ag-charts-community"),import_ag_charts_community155=require("ag-charts-community"),{HierarchySeriesProperties,HighlightStyle,makeSeriesTooltip:makeSeriesTooltip23,Property:Property38}=import_ag_charts_community155._ModuleSupport,SunburstSeriesTileHighlightStyle=class extends HighlightStyle{constructor(){super(!1),this.label=new AutoSizedLabel,this.secondaryLabel=new AutoSizedLabel}};__decorateClass([Property38],SunburstSeriesTileHighlightStyle.prototype,"fill",2),__decorateClass([Property38],SunburstSeriesTileHighlightStyle.prototype,"fillOpacity",2),__decorateClass([Property38],SunburstSeriesTileHighlightStyle.prototype,"stroke",2),__decorateClass([Property38],SunburstSeriesTileHighlightStyle.prototype,"strokeWidth",2),__decorateClass([Property38],SunburstSeriesTileHighlightStyle.prototype,"strokeOpacity",2),__decorateClass([Property38],SunburstSeriesTileHighlightStyle.prototype,"label",2),__decorateClass([Property38],SunburstSeriesTileHighlightStyle.prototype,"secondaryLabel",2);var SunburstSeriesProperties=class extends HierarchySeriesProperties{constructor(){super(...arguments),this.fillOpacity=1,this.strokeWidth=0,this.strokeOpacity=1,this.cornerRadius=0,this.highlightStyle=new SunburstSeriesTileHighlightStyle,this.label=new AutoSizedLabel,this.secondaryLabel=new AutoSizedSecondaryLabel,this.tooltip=makeSeriesTooltip23()}getStyle(e){const{fills:t,strokes:i,fillOpacity:a,strokeWidth:o,strokeOpacity:s}=this;return{fill:t[e%t.length],fillOpacity:a,stroke:i[e%i.length],strokeWidth:o,strokeOpacity:s,opacity:1}}};__decorateClass([Property38],SunburstSeriesProperties.prototype,"sizeName",2),__decorateClass([Property38],SunburstSeriesProperties.prototype,"labelKey",2),__decorateClass([Property38],SunburstSeriesProperties.prototype,"secondaryLabelKey",2),__decorateClass([Property38],SunburstSeriesProperties.prototype,"fillOpacity",2),__decorateClass([Property38],SunburstSeriesProperties.prototype,"strokeWidth",2),__decorateClass([Property38],SunburstSeriesProperties.prototype,"strokeOpacity",2),__decorateClass([Property38],SunburstSeriesProperties.prototype,"cornerRadius",2),__decorateClass([Property38],SunburstSeriesProperties.prototype,"sectorSpacing",2),__decorateClass([Property38],SunburstSeriesProperties.prototype,"padding",2),__decorateClass([Property38],SunburstSeriesProperties.prototype,"itemStyler",2),__decorateClass([Property38],SunburstSeriesProperties.prototype,"highlightStyle",2),__decorateClass([Property38],SunburstSeriesProperties.prototype,"label",2),__decorateClass([Property38],SunburstSeriesProperties.prototype,"secondaryLabel",2),__decorateClass([Property38],SunburstSeriesProperties.prototype,"tooltip",2);var{fromToMotion:fromToMotion6,normalizeAngle360:normalizeAngle3607,createDatumId:createDatumId20,PointerEvents:PointerEvents13,Sector:Sector7,Group:Group16,ScalableGroup:ScalableGroup2,Selection:Selection16,TransformableText:TransformableText3,BBox:BBox17,applyShapeStyle:applyShapeStyle19,getShapeStyle:getShapeStyle18,mergeDefaults:mergeDefaults20}=import_ag_charts_community156._ModuleSupport,SunburstNode=class extends import_ag_charts_community156._ModuleSupport.HierarchyNode{constructor(){super(...arguments),this.label=void 0,this.secondaryLabel=void 0,this.contentHeight=0,this.bbox=void 0,this.startAngle=0,this.endAngle=0}};function setAngleData(e,t=0,i=2*Math.PI/e.sumSize){for(const a of e.children){const o=t+a.sumSize*i;a.startAngle=t,a.endAngle=o,setAngleData(a,t,i),t=o}}var SunburstSeries=class extends import_ag_charts_community156._ModuleSupport.HierarchySeries{constructor(e){super(e),this.NodeClass=SunburstNode,this.properties=new SunburstSeriesProperties,this.scalingGroup=this.contentGroup.appendChild(new ScalableGroup2),this.sectorGroup=this.scalingGroup.appendChild(new Group16),this.sectorLabelGroup=this.scalingGroup.appendChild(new Group16),this.highlightSectorGroup=this.scalingGroup.appendChild(new Group16),this.datumSelection=Selection16.select(this.sectorGroup,Sector7),this.labelSelection=Selection16.select(this.sectorLabelGroup,Group16),this.highlightSelection=Selection16.select(this.highlightSectorGroup,Sector7),this.sectorLabelGroup.pointerEvents=PointerEvents13.None}processData(){super.processData(),setAngleData(this.rootNode)}updateSelections(){const e=this.ctx.highlightManager?.getActiveHighlight();if(this.highlightSelection.update(e!=null?[e]:[],void 0,s=>this.getDatumId(s)),!this.nodeDataRefresh)return;this.nodeDataRefresh=!1;const{chart:t}=this;if(t==null||t.seriesRect==null)return;const a=Array.from(this.rootNode),o=s=>{s.append([new TransformableText3({tag:0}),new TransformableText3({tag:1})])};this.datumSelection.update(a,void 0,s=>this.getDatumId(s)),this.labelSelection.update(a,o,s=>this.getDatumId(s))}getItemStyle(e,t){const{id:i,properties:a,colorScale:o}=this,{itemStyler:s,fillGradientDefaults:r,fillPatternDefaults:n,fillImageDefaults:l}=a,c=e.datumIndex?.[0]??0,h=t?a.highlightStyle:void 0,p=mergeDefaults20(h,a.getStyle(c));!t&&e.colorValue!=null&&(p.fill=o.convert(e.colorValue));let u=getShapeStyle18(p,r,n,l);if(s!=null&&e!=null){const d=this.ctx.highlightManager?.getActiveHighlight(),y=this.cachedDatumCallback(createDatumId20(this.getDatumId(e),t?"highlight":"node"),()=>{const g=this.getHighlightStateString(d,t,e.datumIndex);return this.callWithContext(s,{seriesId:i,datum:e.datum,depth:e.depth??0,highlighted:t,highlightState:g,...u})});y&&(u=getShapeStyle18(mergeDefaults20(y,u),r,n,l))}return u}updateNodes(){const{chart:e,data:t,maxDepth:i}=this;if(e==null||t==null)return;const{width:a,height:o}=e.seriesRect,{sectorSpacing:s=0,padding:r=0,cornerRadius:n,childrenKey:l,colorKey:c,colorName:h,labelKey:p,secondaryLabelKey:u,sizeKey:d,sizeName:y}=this.properties;this.contentGroup.translationX=a/2,this.contentGroup.translationY=o/2;const g=s*.5,m=Math.min(a,o)/2,f=m/(i+1),b=-Math.PI/2,x={series:new BBox17(-m,-m,2*m,2*m),axis:new BBox17(-m,-m,2*m,2*m)};this.rootNode?.walk(k=>{const{startAngle:v,endAngle:A}=k;if(k.depth!=null){const I=(v+A)/2+b,M=(k.depth+.5)*f;k.midPoint.x=Math.cos(I)*M,k.midPoint.y=Math.sin(I)*M}}),this.rootNode?.walk(k=>{const{datum:v,depth:A,startAngle:I,endAngle:M,parent:L,sumSize:R}=k;k.label=void 0,k.secondaryLabel=void 0,k.contentHeight=0;let C;if(v!=null&&A!=null&&p!=null){const Z=v[p];C=this.getLabelText(Z,v,p,"label",[],this.properties.label,{depth:A,datum:v,childrenKey:l,colorKey:c,colorName:h,labelKey:p,secondaryLabelKey:u,sizeKey:d,sizeName:y,value:Z})}C===""&&(C=void 0);let N;if(v!=null&&A!=null&&u!=null){const Z=v[u];N=this.getLabelText(Z,v,u,"secondaryLabel",[],this.properties.secondaryLabel,{depth:A,datum:v,childrenKey:l,colorKey:c,colorName:h,labelKey:p,secondaryLabelKey:u,sizeKey:d,sizeName:y,value:Z})}if(N===""&&(N=void 0),A==null)return;const P=A*f+g,T=(A+1)*f-g,w=P>g?g/P:g,E=T>g?g/T:g,O=I+w,B=M+w-O,G=I+E,K=M+E-G,W=Z=>{if(A===0&&L?.sumSize===R)return{width:2*Math.sqrt(T**2-(Z*.5)**2),height:Z,meta:0};const Q=Z,ae=2*Math.sqrt(T**2-(P+Q)**2),oe=B<Math.PI?2*P*Math.tan(B*.5):1/0,se=Math.min(ae,oe),ne=Math.PI/4;let re,le;return A===0?(re=Z,le=Math.sqrt(T**2-(re/2)**2)-Z/(2*Math.tan(K*.5))):normalizeAngle3607(B)<ne?(re=2*P*Math.tan(B*.5),le=Math.sqrt(T**2-(re/2)**2)-P):(le=0,re=0),se>=le?{width:se,height:Q,meta:1}:{width:le,height:re,meta:2}},z=formatLabels(C,this.properties.label,N,this.properties.secondaryLabel,{padding:r},W);if(z==null)return;const{width:H,height:Y,meta:j,label:$,secondaryLabel:q}=z,J=b+(I+M)/2,ee=Math.sin(J)>=0,U=Math.cos(J)>=0,X=(ee?3:12)&(U?6:9);let ie;switch(j){case 0:ie=0;break;case 1:{const te=T-(f-Y)*.58,Q=Math.sqrt((T-r)**2-(H/2)**2);ie=Math.min(te,Q);break}case 2:if(A===0){const Z=Y/(2*Math.tan(B*.5))+H*.5,te=Math.sqrt(T**2-(Y*.5)**2)-H*.5;ie=(Z+te)*.5}else ie=(P+T)*.5;break}if($!=null){const{fontStyle:Z="normal",fontFamily:te,fontWeight:Q="normal",color:ae="black"}=this.properties.label;k.label={...$,fontStyle:Z,fontFamily:te,fontWeight:Q,color:ae,labelPlacement:j,circleQuarter:X,radius:ie,theta:J}}if(q!=null){const{fontStyle:Z="normal",fontFamily:te,fontWeight:Q="normal",color:ae="black"}=this.properties.secondaryLabel;k.secondaryLabel={...q,fontStyle:Z,fontFamily:te,fontWeight:Q,color:ae,labelPlacement:j,circleQuarter:X,radius:ie,theta:J}}k.contentHeight=z.height});const S=(k,v,A)=>{const{depth:I,startAngle:M,endAngle:L}=k;if(I==null){v.visible=!1;return}v.visible=!0;const R=this.getItemStyle(k,A),C=R.fill,N=R.strokeWidth,P=import_ag_charts_community156._ModuleSupport.isGradientFill(C)&&C.bounds!=="item"?x:void 0;applyShapeStyle19(v,R,P),v.centerX=0,v.centerY=0,v.innerRadius=I*f,v.outerRadius=(I+1)*f,v.startAngle=M+b,v.endAngle=L+b,v.inset=g+N*.5,v.cornerRadius=n};this.datumSelection.each((k,v)=>{S(v,k,!1)}),this.highlightSelection.each((k,v)=>{S(v,k,!0)});const D=(k,v,A,I)=>{const{depth:M,contentHeight:L}=k,R=A===0,C=R?k.label:k.secondaryLabel;if(M==null||C==null){v.visible=!1;return}const{labelPlacement:N,circleQuarter:P,radius:T,theta:w}=C;let E;switch(I&&(E=(R?this.properties.highlightStyle.label:this.properties.highlightStyle.secondaryLabel).color),v.text=C.text,v.fontSize=C.fontSize,v.lineHeight=C.lineHeight,v.fontStyle=C.fontStyle,v.fontFamily=C.fontFamily,v.fontWeight=C.fontWeight,v.fill=E??C.color,v.fillOpacity=this.getHighlightStyle(I,k.datumIndex)?.opacity??1,N){case 0:v.textAlign="center",v.textBaseline="top",v.translationX=0,v.translationY=(R?0:L-C.height)-L*.5,v.rotation=0;break;case 1:{const O=(P&3)!==0,F=R===!O?T:T-(L-C.height);v.textAlign="center",v.textBaseline=O?"bottom":"top",v.translationX=Math.cos(w)*F,v.translationY=Math.sin(w)*F,v.rotation=O?w-Math.PI*.5:w+Math.PI*.5;break}case 2:{const O=(P&6)!==0,F=R===!O?(L-C.height)*.5:(C.height-L)*.5;v.textAlign="center",v.textBaseline="middle",v.translationX=Math.cos(w)*T+Math.cos(w+Math.PI/2)*F,v.translationY=Math.sin(w)*T+Math.sin(w+Math.PI/2)*F,v.rotation=O?w:w+Math.PI;break}}v.visible=!0},_=this.ctx.highlightManager?.getActiveHighlight();this.labelSelection.selectByClass(TransformableText3).forEach(k=>{const v=k.closestDatum();D(v,k,k.tag,v===_)})}getTooltipContent(e){const{id:t,properties:i}=this,{labelKey:a,secondaryLabelKey:o,childrenKey:s,sizeKey:r,sizeName:n,colorKey:l,colorName:c,tooltip:h}=i,p=e.reduce((S,D)=>S?.children[D],this.rootNode);if(p==null)return;const{datum:u,depth:d}=p;if(u==null||d==null)return;const y=[],g=r!=null?u[r]:void 0;g!=null&&y.push({label:n,fallbackLabel:r,value:g});const m=l!=null?u[l]:void 0;m!=null&&y.push({label:c,fallbackLabel:l,value:m});const f=this.getItemStyle({...p,colorValue:m??p.colorValue},!1),b=f.fill,x=getShapeStyle18({shape:"square",fill:b,fillOpacity:1,stroke:void 0,strokeWidth:0,strokeOpacity:1,lineDash:[0],lineDashOffset:0},i.fillGradientDefaults,i.fillPatternDefaults,i.fillImageDefaults);return import_ag_charts_community156._ModuleSupport.isGradientFill(x.fill)&&(x.fill={...x.fill,gradient:"linear",rotation:0,reverse:!1}),this.formatTooltipWithContext(h,{title:a!=null?u[a]:void 0,symbol:{marker:x},data:y},{seriesId:t,datum:u,title:void 0,depth:d,labelKey:a,secondaryLabelKey:o,childrenKey:s,sizeKey:r,sizeName:n,colorKey:l,colorName:c,...f})}createNodeData(){}pickNodeClosestDatum(e){return this.pickNodeNearestDistantObject(e,this.datumSelection.nodes())}animateEmptyUpdateReady(){fromToMotion6(this.id,"nodes",this.ctx.animationManager,[this.scalingGroup],{toFn(){return{scalingX:1,scalingY:1}},fromFn(){return{scalingX:0,scalingY:0}}})}computeFocusBounds(e){return e}hasItemStylers(){return this.properties.itemStyler!=null}};SunburstSeries.className="SunburstSeries",SunburstSeries.type="sunburst";var import_ag_charts_community157=require("ag-charts-community"),import_ag_charts_core52=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs22,sunburstSeriesThemeableOptionsDef,without:without8}=import_ag_charts_community157._ModuleSupport,sunburstSeriesOptionsDef={...sunburstSeriesThemeableOptionsDef,...without8(commonSeriesOptionsDefs22,["highlightStyle","highlight","showInLegend"]),type:(0,import_ag_charts_core52.required)((0,import_ag_charts_core52.constant)("sunburst")),labelKey:import_ag_charts_core52.string,secondaryLabelKey:import_ag_charts_core52.string,childrenKey:import_ag_charts_core52.string,sizeKey:import_ag_charts_core52.string,colorKey:import_ag_charts_core52.string,sizeName:import_ag_charts_core52.string,colorName:import_ag_charts_core52.string},{BASE_FONT_SIZE,FONT_SIZE_RATIO:FONT_SIZE_RATIO2}=import_ag_charts_community158._ModuleSupport,SunburstModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["standalone"],identifier:"sunburst",moduleFactory:e=>new SunburstSeries(e),solo:!0,themeTemplate:{series:{fills:{$palette:"fills"},strokes:{$palette:"strokes"},colorRange:{$palette:"divergingColors"},fillGradientDefaults:import_ag_charts_community158._ModuleSupport.FILL_GRADIENT_RADIAL_REVERSED_SERIES_DEFAULTS,fillPatternDefaults:import_ag_charts_community158._ModuleSupport.FILL_PATTERN_DEFAULTS,fillImageDefaults:import_ag_charts_community158._ModuleSupport.FILL_IMAGE_DEFAULTS,strokeWidth:{$isUserOption:["./strokes/0",2,0]},label:{...import_ag_charts_community158._ModuleSupport.LABEL_BOXING_DEFAULTS,fontFamily:{$ref:"fontFamily"},fontSize:{$rem:FONT_SIZE_RATIO2.LARGE},minimumFontSize:{$rem:9/BASE_FONT_SIZE},fontWeight:{$ref:"fontWeight"},color:{$ref:"chartBackgroundColor"},overflowStrategy:"ellipsis",wrapping:"never",spacing:2},secondaryLabel:{...import_ag_charts_community158._ModuleSupport.LABEL_BOXING_DEFAULTS,fontFamily:{$ref:"fontFamily"},fontSize:{$rem:FONT_SIZE_RATIO2.SMALLEST},minimumFontSize:{$rem:7/BASE_FONT_SIZE},fontWeight:{$ref:"fontWeight"},color:{$ref:"chartBackgroundColor"},overflowStrategy:"ellipsis",wrapping:"never"},sectorSpacing:2,padding:3,highlightStyle:{label:{color:{$ref:"chartBackgroundColor"}},secondaryLabel:{color:{$ref:"chartBackgroundColor"}},fill:"rgba(255,255,255, 0.33)",stroke:"rgba(0, 0, 0, 0.4)",strokeWidth:2}},gradientLegend:{enabled:!0,...import_ag_charts_community158._ModuleSupport.LEGEND_CONTAINER_THEME}}},SunburstSeriesModule={type:"series",name:"sunburst",chartType:"standalone",enterprise:!0,options:sunburstSeriesOptionsDef,create:e=>new SunburstSeries(e)},import_ag_charts_community162=require("ag-charts-community"),import_ag_charts_community160=require("ag-charts-community"),import_ag_charts_core53=require("ag-charts-core"),import_ag_charts_community159=require("ag-charts-community"),{BaseProperties:BaseProperties12,HierarchySeriesProperties:HierarchySeriesProperties2,HighlightStyle:HighlightStyle2,makeSeriesTooltip:makeSeriesTooltip24,Property:Property39,Label:Label16}=import_ag_charts_community159._ModuleSupport,TreemapGroupLabel=class extends Label16{constructor(){super(...arguments),this.spacing=0}};__decorateClass([Property39],TreemapGroupLabel.prototype,"spacing",2);var TreemapSeriesGroup=class extends BaseProperties12{constructor(){super(...arguments),this.fill=void 0,this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.cornerRadius=0,this.textAlign="center",this.gap=0,this.padding=0,this.interactive=!0,this.label=new TreemapGroupLabel}};__decorateClass([Property39],TreemapSeriesGroup.prototype,"fill",2),__decorateClass([Property39],TreemapSeriesGroup.prototype,"fillOpacity",2),__decorateClass([Property39],TreemapSeriesGroup.prototype,"stroke",2),__decorateClass([Property39],TreemapSeriesGroup.prototype,"strokeWidth",2),__decorateClass([Property39],TreemapSeriesGroup.prototype,"strokeOpacity",2),__decorateClass([Property39],TreemapSeriesGroup.prototype,"cornerRadius",2),__decorateClass([Property39],TreemapSeriesGroup.prototype,"textAlign",2),__decorateClass([Property39],TreemapSeriesGroup.prototype,"gap",2),__decorateClass([Property39],TreemapSeriesGroup.prototype,"padding",2),__decorateClass([Property39],TreemapSeriesGroup.prototype,"interactive",2),__decorateClass([Property39],TreemapSeriesGroup.prototype,"label",2);var TreemapSeriesTile=class extends BaseProperties12{constructor(){super(...arguments),this.fill=void 0,this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.cornerRadius=0,this.textAlign="center",this.verticalAlign="middle",this.gap=0,this.padding=0,this.label=new AutoSizedLabel,this.secondaryLabel=new AutoSizedSecondaryLabel}};__decorateClass([Property39],TreemapSeriesTile.prototype,"fill",2),__decorateClass([Property39],TreemapSeriesTile.prototype,"fillOpacity",2),__decorateClass([Property39],TreemapSeriesTile.prototype,"stroke",2),__decorateClass([Property39],TreemapSeriesTile.prototype,"strokeWidth",2),__decorateClass([Property39],TreemapSeriesTile.prototype,"strokeOpacity",2),__decorateClass([Property39],TreemapSeriesTile.prototype,"cornerRadius",2),__decorateClass([Property39],TreemapSeriesTile.prototype,"textAlign",2),__decorateClass([Property39],TreemapSeriesTile.prototype,"verticalAlign",2),__decorateClass([Property39],TreemapSeriesTile.prototype,"gap",2),__decorateClass([Property39],TreemapSeriesTile.prototype,"padding",2),__decorateClass([Property39],TreemapSeriesTile.prototype,"label",2),__decorateClass([Property39],TreemapSeriesTile.prototype,"secondaryLabel",2);var TreemapSeriesGroupHighlightStyle=class extends BaseProperties12{constructor(){super(...arguments),this.label=new AutoSizedLabel}};__decorateClass([Property39],TreemapSeriesGroupHighlightStyle.prototype,"fill",2),__decorateClass([Property39],TreemapSeriesGroupHighlightStyle.prototype,"fillOpacity",2),__decorateClass([Property39],TreemapSeriesGroupHighlightStyle.prototype,"stroke",2),__decorateClass([Property39],TreemapSeriesGroupHighlightStyle.prototype,"strokeWidth",2),__decorateClass([Property39],TreemapSeriesGroupHighlightStyle.prototype,"strokeOpacity",2),__decorateClass([Property39],TreemapSeriesGroupHighlightStyle.prototype,"label",2);var TreemapSeriesTileHighlightStyle=class extends BaseProperties12{constructor(){super(...arguments),this.label=new AutoSizedLabel,this.secondaryLabel=new AutoSizedSecondaryLabel}};__decorateClass([Property39],TreemapSeriesTileHighlightStyle.prototype,"fill",2),__decorateClass([Property39],TreemapSeriesTileHighlightStyle.prototype,"fillOpacity",2),__decorateClass([Property39],TreemapSeriesTileHighlightStyle.prototype,"stroke",2),__decorateClass([Property39],TreemapSeriesTileHighlightStyle.prototype,"strokeWidth",2),__decorateClass([Property39],TreemapSeriesTileHighlightStyle.prototype,"strokeOpacity",2),__decorateClass([Property39],TreemapSeriesTileHighlightStyle.prototype,"label",2),__decorateClass([Property39],TreemapSeriesTileHighlightStyle.prototype,"secondaryLabel",2);var TreemapSeriesHighlightStyle=class extends HighlightStyle2{constructor(){super(!1),this.group=new TreemapSeriesGroupHighlightStyle,this.tile=new TreemapSeriesTileHighlightStyle}getStyle(e){return e?this.tile:this.group}};__decorateClass([Property39],TreemapSeriesHighlightStyle.prototype,"group",2),__decorateClass([Property39],TreemapSeriesHighlightStyle.prototype,"tile",2);var TreemapSeriesProperties=class extends HierarchySeriesProperties2{constructor(){super(...arguments),this.highlightStyle=new TreemapSeriesHighlightStyle,this.tooltip=makeSeriesTooltip24(),this.group=new TreemapSeriesGroup,this.tile=new TreemapSeriesTile,this.undocumentedGroupFills=[],this.undocumentedGroupStrokes=[]}getStyle(e,t,i,a){const{fillOpacity:o,strokeWidth:s,strokeOpacity:r,fill:n=e?t[a%t.length]:t[Math.min(a,t.length)],stroke:l=e?i[a%t.length]:i[Math.min(a,i.length)]}=e?this.tile:this.group;return{fill:n,fillOpacity:o,stroke:l,strokeWidth:s,strokeOpacity:r,opacity:1}}};__decorateClass([Property39],TreemapSeriesProperties.prototype,"sizeName",2),__decorateClass([Property39],TreemapSeriesProperties.prototype,"labelKey",2),__decorateClass([Property39],TreemapSeriesProperties.prototype,"secondaryLabelKey",2),__decorateClass([Property39],TreemapSeriesProperties.prototype,"itemStyler",2),__decorateClass([Property39],TreemapSeriesProperties.prototype,"highlightStyle",2),__decorateClass([Property39],TreemapSeriesProperties.prototype,"tooltip",2),__decorateClass([Property39],TreemapSeriesProperties.prototype,"group",2),__decorateClass([Property39],TreemapSeriesProperties.prototype,"tile",2),__decorateClass([Property39],TreemapSeriesProperties.prototype,"undocumentedGroupFills",2),__decorateClass([Property39],TreemapSeriesProperties.prototype,"undocumentedGroupStrokes",2);var{TextUtils:TextUtils7,TextWrapper:TextWrapper5,createDatumId:createDatumId21,Rect:Rect8,Group:Group17,BBox:BBox18,Selection:Selection17,Text:Text8,Transformable:Transformable4,applyShapeStyle:applyShapeStyle20,getShapeStyle:getShapeStyle19,getLabelStyles:getLabelStyles7,mergeDefaults:mergeDefaults21}=import_ag_charts_community160._ModuleSupport,TreemapNode=class extends import_ag_charts_community160._ModuleSupport.HierarchyNode{constructor(){super(...arguments),this.labelValue=void 0,this.secondaryLabelValue=void 0,this.label=void 0,this.secondaryLabel=void 0,this.bbox=void 0,this.padding=void 0}},tempText=new Text8;function getTextSize(e,t){const{fontStyle:i,fontWeight:a,fontSize:o,fontFamily:s}=t;tempText.setProperties({text:e,fontStyle:i,fontWeight:a,fontSize:o,fontFamily:s,textAlign:"left",textBaseline:"top"});const{width:r,height:n}=tempText.getBBox();return{width:r,height:n}}function nodeSize(e){return e.children.length>0?e.sumSize-e.sizeValue:e.sizeValue}var textAlignFactors2={left:0,center:.5,right:1},verticalAlignFactors4={top:0,middle:.5,bottom:1},DistantGroup=class extends import_ag_charts_community160._ModuleSupport.Group{distanceSquared(e,t){return this.getBBox().distanceSquared(e,t)}},TreemapSeries=class extends import_ag_charts_community160._ModuleSupport.HierarchySeries{constructor(){super(...arguments),this.NodeClass=TreemapNode,this.properties=new TreemapSeriesProperties,this.rectGroup=this.contentGroup.appendChild(new Group17),this.datumSelection=Selection17.select(this.rectGroup,Rect8),this.labelSelection=Selection17.select(this.labelGroup,Group17),this.highlightSelection=Selection17.select(this.rectGroup,Rect8)}groupTitleHeight(e,t){const{labelValue:i}=e,{label:a}=this.properties.group,o=3;if(i!=null){if(a.fontSize>t.width/o||a.fontSize>t.height/o)return;{const{height:s}=getTextSize(i,a);return Math.max(s,a.fontSize)}}}getNodePadding(e,t){if(e.parent==null)return{top:0,right:0,bottom:0,left:0};if(e.children.length===0){const{padding:r}=this.properties.tile;return{top:r,right:r,bottom:r,left:r}}const{label:{spacing:i},padding:a}=this.properties.group,o=this.groupTitleHeight(e,t),s=o!=null?o+i:0;return{top:a+s,right:a,bottom:a,left:a}}sortChildren({children:e}){const t=Array.from(e,(a,o)=>o).filter(a=>nodeSize(e[a])>0).sort((a,o)=>nodeSize(e[o])-nodeSize(e[a]));return{sortedChildrenIndices:t,childAt:a=>{const o=t[a];return e[o]}}}squarify(e,t){const{datum:i,children:a}=e;if(t.width<=0||t.height<=0){e.bbox=void 0,e.padding=void 0,e.midPoint.x=NaN,e.midPoint.y=NaN;return}const o=i!=null?this.getNodePadding(e,t):{top:0,right:0,bottom:0,left:0};e.parent==null?(e.bbox=void 0,e.padding=void 0,e.midPoint.x=NaN,e.midPoint.y=NaN):(e.bbox=t,e.padding=o,e.midPoint.x=t.x+t.width/2,e.midPoint.y=t.y);const{sortedChildrenIndices:s,childAt:r}=this.sortChildren(e),n=s.every(D=>a[D].children.length===0),l=1,c=t.width-o.left-o.right,h=t.height-o.top-o.bottom;if(c<=0||h<=0)return;const p=s.length;let u=0,d=0,y=1/0,g=s.reduce((D,_)=>D+nodeSize(a[_]),0);const m=new BBox18(t.x+o.left,t.y+o.top,c,h),f=m.clone();let b=0;for(;b<p;){const D=nodeSize(r(b)),_=nodeSize(r(d)),k=f.width<f.height;u+=D;const v=k?f.height:f.width,A=k?f.width:f.height,I=A*_/u;let M=v*u/g;const L=Math.max(I,M)/Math.min(I,M),R=Math.abs(l-L);if(R<y){y=R,b++;continue}u-=D,M=v*u/g;let C=k?f.x:f.y;for(let N=d;N<b;N++){const P=r(N),T=nodeSize(P),w=k?C:f.x,E=k?f.y:C,O=A*T/u,F=k?O:M,B=k?M:O,G=new BBox18(w,E,F,B);this.applyGap(m,G,n),this.squarify(P,G),g-=T,C+=O}k?(f.y+=M,f.height-=M):(f.x+=M,f.width-=M),d=b,u=0,y=1/0}const x=f.width<f.height;let S=x?f.x:f.y;for(let D=d;D<p;D++){const _=r(D),k=x?S:f.x,v=x?f.y:S,A=nodeSize(_)/g,I=f.width*(x?A:1),M=f.height*(x?1:A),L=new BBox18(k,v,I,M);this.applyGap(m,L,n),this.squarify(_,L),S+=x?I:M}}applyGap(e,t,i){const a=i?this.properties.tile.gap*.5:this.properties.group.gap*.5,o=l=>({left:l.x,top:l.y,right:l.x+l.width,bottom:l.y+l.height}),s=o(e),r=o(t);["top","right","bottom","left"].forEach(l=>{(0,import_ag_charts_core53.isNumberEqual)(s[l],r[l])||t.shrink(a,l)})}createNodeData(){}getItemStyle(e,t,i){const{id:a,properties:o,colorScale:s,ctx:r}=this,{itemStyler:n,fillGradientDefaults:l,fillPatternDefaults:c,fillImageDefaults:h}=o,p=e.datumIndex?.[0]??0,u=t?o.fills:o.undocumentedGroupFills,d=t?o.strokes:o.undocumentedGroupStrokes,y=t?p:e.depth??-1,g=i?o.highlightStyle.getStyle(t):void 0,m=mergeDefaults21(g,o.getStyle(t,u,d,y));!i&&t&&e.colorValue!=null&&(m.fill=s.convert(e.colorValue));let f=getShapeStyle19(m,l,c,h);if(n!=null&&e!=null){const b=this.cachedDatumCallback(createDatumId21(this.getDatumId(e),i?"highlight":"node"),()=>{const x=r.highlightManager?.getActiveHighlight(),S=this.getHighlightStateString(x,i,e.datumIndex);return this.callWithContext(n,{seriesId:a,datum:e.datum,depth:e.depth??-1,highlighted:i,highlightState:S,...f})});b&&(f=getShapeStyle19(mergeDefaults21(b,f),l,c,h))}return f}updateSelections(){let e=this.ctx.highlightManager?.getActiveHighlight();if(e!=null&&!this.properties.group.interactive&&e.children.length!==0&&(e=void 0),this.highlightSelection.update(e!=null?[e]:[],void 0,o=>this.getDatumId(o)),!this.nodeDataRefresh)return;this.nodeDataRefresh=!1;const{seriesRect:t}=this.chart??{};if(!t)return;const i=Array.from(this.rootNode),a=o=>{o.append([new Text8({tag:0}),new Text8({tag:1})])};this.datumSelection.update(i,void 0,o=>this.getDatumId(o)),this.labelSelection.update(i,a,o=>this.getDatumId(o))}updateNodes(){const{rootNode:e,data:t}=this,{childrenKey:i,colorKey:a,colorName:o,labelKey:s,secondaryLabelKey:r,sizeKey:n,sizeName:l,highlightStyle:c,tile:h,group:p}=this.properties,{seriesRect:u}=this.chart??{};if(!u||!t)return;this.rootNode?.walk(x=>{const{datum:S,depth:D,children:_}=x,k=_.length===0,v=k?h.label:p.label;let A;if(v.enabled&&S!=null&&D!=null&&s!=null){const M=S[s];A=this.getLabelText(M,S,s,"label",[],v,{depth:D,datum:S,childrenKey:i,colorKey:a,colorName:o,labelKey:s,secondaryLabelKey:r,sizeKey:n,sizeName:l,value:M})}A===""&&(A=void 0);let I;if(h.secondaryLabel.enabled&&k&&S!=null&&D!=null&&r!=null){const M=S[r];I=this.getLabelText(M,S,r,"secondaryLabel",[],h.secondaryLabel,{depth:D,datum:S,childrenKey:i,colorKey:a,colorName:o,labelKey:s,secondaryLabelKey:r,sizeKey:n,sizeName:l,value:M})}I===""&&(I=void 0),x.labelValue=A,x.secondaryLabelValue=I});const{width:d,height:y}=u;this.squarify(e,new BBox18(0,0,d,y)),this.rootNode?.walk(x=>{const{bbox:S,children:D,labelValue:_,secondaryLabelValue:k}=x;if(x.label=void 0,x.secondaryLabel=void 0,S!=null)if(D.length===0){const v={width:S.width,height:S.height,meta:null},A=formatLabels(_,this.properties.tile.label,k,this.properties.tile.secondaryLabel,{padding:h.padding},()=>v);if(A==null)return;const{height:I,label:M,secondaryLabel:L}=A,{textAlign:R,verticalAlign:C,padding:N}=h,P=textAlignFactors2[R]??.5,T=S.x+N+(S.width-2*N)*P,w=verticalAlignFactors4[C]??.5,E=S.y+N+I*.5+(S.height-2*N-I)*w;if(M!=null){const{fontStyle:O="normal",fontFamily:F,fontWeight:B="normal",color:G="black"}=this.properties.tile.label;x.label={text:M.text,fontSize:M.fontSize,lineHeight:M.lineHeight,fontStyle:O,fontFamily:F,fontWeight:B,color:G,textAlign:R,verticalAlign:"middle",x:T,y:E-(I-M.height)*.5}}if(L!=null){const{fontStyle:O="normal",fontFamily:F,fontWeight:B="normal",color:G="black"}=this.properties.tile.secondaryLabel;x.secondaryLabel={text:L.text,fontSize:L.fontSize,lineHeight:L.fontSize,fontStyle:O,fontFamily:F,fontWeight:B,color:G,textAlign:R,verticalAlign:"middle",x:T,y:E+(I-L.height)*.5}}}else{if(_==null)return;{const{padding:v,textAlign:A}=p,I=this.groupTitleHeight(x,S);if(I==null)return;const M=S.width-2*v,L=TextWrapper5.wrapText(_,{maxWidth:S.width-2*v,font:p.label,textWrap:"never"}),R=textAlignFactors2[A]??.5,{fontStyle:C="normal",fontFamily:N,fontWeight:P="normal",color:T="black"}=this.properties.group.label;x.label={text:L,fontSize:p.label.fontSize,lineHeight:TextUtils7.getLineHeight(p.label.fontSize),fontStyle:C,fontFamily:N,fontWeight:P,color:T,textAlign:A,verticalAlign:"middle",x:S.x+v+M*R,y:S.y+v+I*.5}}}});const g={series:new BBox18(0,0,d,y),axis:new BBox18(0,0,d,y)},m=(x,S,D)=>{const{bbox:_}=x;if(_==null){S.visible=!1;return}const{depth:k=-1}=x,v=x.children.length===0,A=this.getItemStyle(x,v,D);S.crisp=!0,applyShapeStyle20(S,A,g),S.cornerRadius=v?h.cornerRadius:p.cornerRadius,S.zIndex=[0,k,D?1:0];const I=x.parent?.children.every(R=>R.children.length===0),M=x.parent!=null?x.parent.bbox:void 0,L=x.parent!=null?x.parent.padding:void 0;I===!0&&M!=null&&L!=null?(S.clipBBox=_,S.x=M.x+L.left,S.y=M.y+L.top,S.width=M.width-(L.left+L.right),S.height=M.height-(L.top+L.bottom)):(S.clipBBox=void 0,S.x=_.x,S.y=_.y,S.width=_.width,S.height=_.height),S.visible=!0};this.datumSelection.each((x,S)=>m(S,x,!1)),this.highlightSelection.each((x,S)=>{m(S,x,!0)});const f=(x,S,D,_)=>{const k=x.children.length===0,v=D===0?x.label:x.secondaryLabel;if(v==null){S.visible=!1;return}const A=D===0?h.label:h.secondaryLabel;let I;if(_){const{tile:N,group:P}=c;I=N.secondaryLabel.color,k?D===0&&(I=N.label.color):I=P.label.color}const M={childrenKey:this.properties.childrenKey,colorKey:this.properties.colorKey,colorName:this.properties.colorName??this.properties.colorKey,depth:x.depth??NaN,labelKey:this.properties.labelKey,secondaryLabelKey:this.properties.secondaryLabelKey,sizeKey:this.properties.sizeKey,sizeName:this.properties.sizeName??this.properties.sizeKey},L=this.ctx.highlightManager?.getActiveHighlight(),R=this.getHighlightStateString(L,_,x.datumIndex),C=getLabelStyles7(this,x,M,A,_,R);S.text=v.text,S.fontSize=v.fontSize,S.lineHeight=v.lineHeight,S.fontStyle=v.fontStyle,S.fontFamily=v.fontFamily,S.fontWeight=v.fontWeight,S.fill=I??v.color,S.fillOpacity=this.getHighlightStyle(_,x.datumIndex)?.opacity??1,S.textAlign=v.textAlign,S.textBaseline=v.verticalAlign,S.x=v.x,S.y=v.y,S.setBoxing(C),S.visible=!0,S.zIndex=1},b=this.ctx.highlightManager?.getActiveHighlight();this.labelSelection.selectByClass(Text8).forEach(x=>{const S=x.closestDatum();f(S,x,x.tag,S===b)})}pickNodesExactShape(e){const t=super.pickNodesExactShape(e);return t.sort((i,a)=>a.datumIndex.length-i.datumIndex.length),t}pickNodeClosestDatum(e){const t=this.pickNodesExactShape(e);return t.length!==0?{datum:t[0],distance:0}:this.pickNodeNearestDistantObject(e,this.datumSelection.nodes())}getTooltipContent(e){const{id:t,properties:i}=this,{labelKey:a,secondaryLabelKey:o,childrenKey:s,sizeKey:r,sizeName:n,colorKey:l,colorName:c,tooltip:h}=i,p=e.reduce((k,v)=>k?.children[v],this.rootNode);if(p==null)return;const{datum:u,depth:d,children:y}=p;if(u==null||d==null)return;const g=y.length===0,m=[],f=r!=null?u[r]:void 0;f!=null&&m.push({label:n,fallbackLabel:r,value:f});const b=l!=null?u[l]:void 0;b!=null&&m.push({label:c,fallbackLabel:l,value:b});const x=this.getItemStyle({...p,colorValue:b??p.colorValue},g,!1),S=x.fill,D=getShapeStyle19({shape:"square",fill:S,fillOpacity:1,stroke:void 0,strokeWidth:0,strokeOpacity:1,lineDash:[0],lineDashOffset:0},this.properties.fillGradientDefaults,this.properties.fillPatternDefaults,this.properties.fillImageDefaults);import_ag_charts_community160._ModuleSupport.isGradientFill(D.fill)&&(D.fill={...D.fill,gradient:"linear",rotation:0,reverse:!1});const _=g?{marker:D}:void 0;return this.formatTooltipWithContext(h,{title:a!=null?u[a]:void 0,symbol:_,data:m},{seriesId:t,datum:u,title:void 0,depth:d,labelKey:a,secondaryLabelKey:o,childrenKey:s,sizeKey:r,sizeName:n,colorKey:l,colorName:c,...x})}computeFocusBounds(e){return Transformable4.toCanvas(this.contentGroup,e.getBBox())}hasItemStylers(){return this.properties.itemStyler!=null}};TreemapSeries.className="TreemapSeries",TreemapSeries.type="treemap";var import_ag_charts_community161=require("ag-charts-community"),import_ag_charts_core54=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs23,treemapSeriesThemeableOptionsDef,without:without9}=import_ag_charts_community161._ModuleSupport,treemapSeriesOptionsDef={...treemapSeriesThemeableOptionsDef,...without9(commonSeriesOptionsDefs23,["highlightStyle","highlight","showInLegend"]),type:(0,import_ag_charts_core54.required)((0,import_ag_charts_core54.constant)("treemap")),labelKey:import_ag_charts_core54.string,secondaryLabelKey:import_ag_charts_core54.string,childrenKey:import_ag_charts_core54.string,sizeKey:import_ag_charts_core54.string,colorKey:import_ag_charts_core54.string,sizeName:import_ag_charts_core54.string,colorName:import_ag_charts_core54.string};treemapSeriesOptionsDef.fillGradientDefaults=(0,import_ag_charts_core54.undocumented)(import_ag_charts_core54.fillGradientDefaults),treemapSeriesOptionsDef.fillPatternDefaults=(0,import_ag_charts_core54.undocumented)(import_ag_charts_core54.fillPatternDefaults),treemapSeriesOptionsDef.fillImageDefaults=(0,import_ag_charts_core54.undocumented)(import_ag_charts_core54.fillImageDefaults),treemapSeriesOptionsDef.undocumentedGroupFills=(0,import_ag_charts_core54.undocumented)((0,import_ag_charts_core54.arrayOf)(import_ag_charts_core54.color)),treemapSeriesOptionsDef.undocumentedGroupStrokes=(0,import_ag_charts_core54.undocumented)((0,import_ag_charts_core54.arrayOf)(import_ag_charts_core54.color));var{FONT_SIZE_RATIO:FONT_SIZE_RATIO3}=import_ag_charts_community162._ModuleSupport,TreemapModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["standalone"],identifier:"treemap",moduleFactory:e=>new TreemapSeries(e),solo:!0,themeTemplate:{series:{fills:{$palette:"fills"},strokes:{$palette:"strokes"},colorRange:{$palette:"divergingColors"},fillGradientDefaults:import_ag_charts_community162._ModuleSupport.FILL_GRADIENT_LINEAR_DEFAULTS,fillPatternDefaults:import_ag_charts_community162._ModuleSupport.FILL_PATTERN_DEFAULTS,fillImageDefaults:import_ag_charts_community162._ModuleSupport.FILL_IMAGE_DEFAULTS,undocumentedGroupFills:{$palette:"hierarchyColors"},undocumentedGroupStrokes:{$palette:"secondHierarchyColors"},group:{label:{...import_ag_charts_community162._ModuleSupport.LABEL_BOXING_DEFAULTS,enabled:!0,color:{$ref:"textColor"},fontStyle:void 0,fontWeight:{$ref:"fontWeight"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},spacing:4},fill:void 0,stroke:void 0,strokeWidth:1,padding:4,gap:2,textAlign:"left"},tile:{label:{...import_ag_charts_community162._ModuleSupport.LABEL_BOXING_DEFAULTS,enabled:!0,color:{$ref:"chartBackgroundColor"},fontStyle:void 0,fontWeight:{$ref:"fontWeight"},fontSize:{$rem:1.5},minimumFontSize:{$rem:FONT_SIZE_RATIO3.SMALLER},fontFamily:{$ref:"fontFamily"},wrapping:"on-space",overflowStrategy:"ellipsis",spacing:2},secondaryLabel:{...import_ag_charts_community162._ModuleSupport.LABEL_BOXING_DEFAULTS,enabled:!0,color:{$ref:"chartBackgroundColor"},fontStyle:void 0,fontWeight:void 0,fontSize:{$ref:"fontSize"},minimumFontSize:{$rem:FONT_SIZE_RATIO3.SMALLER},fontFamily:{$ref:"fontFamily"},wrapping:"never",overflowStrategy:"ellipsis"},fill:void 0,stroke:void 0,strokeWidth:{$isUserOption:["../strokes/0",2,{$isUserOption:["./stroke",2,0]}]},padding:3,gap:1},highlightStyle:{group:{label:{color:{$ref:"textColor"}},fill:"rgba(255,255,255, 0.33)",stroke:"rgba(0, 0, 0, 0.4)",strokeWidth:2},tile:{label:{color:{$ref:"chartBackgroundColor"}},secondaryLabel:{color:{$ref:"chartBackgroundColor"}},fill:"rgba(255,255,255, 0.33)",stroke:"rgba(0, 0, 0, 0.4)",strokeWidth:2}}},gradientLegend:{enabled:!0,...import_ag_charts_community162._ModuleSupport.LEGEND_CONTAINER_THEME}}},TreemapSeriesModule={type:"series",name:"treemap",chartType:"standalone",enterprise:!0,options:treemapSeriesOptionsDef,create:e=>new TreemapSeries(e)},ModuleRegistry=import_ag_charts_community163._ModuleSupport.ModuleRegistry,AllCartesianEnterpriseModules=[OrdinalTimeAxisModule,BoxPlotSeriesModule,CandlestickSeriesModule,ConeFunnelSeriesModule,FunnelSeriesModule,HeatmapSeriesModule,OhlcSeriesModule,RangeAreaSeriesModule,RangeBarSeriesModule,WaterfallSeriesModule],AllPolarEnterpriseModules=[AngleNumberAxisModule,AngleCategoryAxisModule,RadiusNumberAxisModule,RadiusCategoryAxisModule,NightingaleSeriesModule,RadarAreaSeriesModule,RadarLineSeriesModule,RadialBarSeriesModule,RadialColumnSeriesModule],AllStandaloneEnterpriseModules=[StandaloneChartModule,PyramidSeriesModule,LinearGaugeSeriesModule,RadialGaugeSeriesModule,SunburstSeriesModule,TreemapSeriesModule,ChordSeriesModule,SankeySeriesModule],AllTopologyEnterpriseModules=[TopologyChartModule,MapLineSeriesModule,MapLineBackgroundSeriesModule,MapMarkerSeriesModule,MapShapeSeriesModule,MapShapeBackgroundSeriesModule],AllEnterpriseModules=[...AllCartesianEnterpriseModules,...AllPolarEnterpriseModules,...AllStandaloneEnterpriseModules,...AllTopologyEnterpriseModules,AnnotationsModule,NavigatorModule,InitialStateModule];
